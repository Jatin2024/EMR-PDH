(self.webpackChunkerp_product_hub=self.webpackChunkerp_product_hub||[]).push([[847],{319:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(65043),l=a(29215);const s=()=>(0,n.useContext)(l.A)},1009:(e,t,a)=>{"use strict";a.d(t,{Qp:()=>g,SN:()=>f,T5:()=>z,Cm:()=>U,N:()=>gt,Tr:()=>Y.A,_I:()=>ee,lZ:()=>ae,wF:()=>le,Gd:()=>ot,Tn:()=>ut});var n=a(65043),l=a(34535),s=a(44208),i=a(26240),r=a(22698),o=a(35475),d=a(21803),c=a.n(d),m=a(92960);const u=(0,l.Ay)("div")((()=>({display:"flex",flexWrap:"wrap",alignItems:"center"}))),p=(0,l.Ay)("h4")((()=>({margin:0,fontSize:"16px",paddingBottom:"1px",verticalAlign:"middle",textTransform:"capitalize"}))),h=(0,l.Ay)("span")((e=>{let{theme:t}=e;return{textTransform:"capitalize",color:t.palette.text.secondary}})),x=((0,l.Ay)("h4")((e=>{let{theme:t}=e;return{margin:0,marginLeft:8,paddingBottom:"3px",color:t.palette.text.hint}})),(0,l.Ay)(s.A)((()=>({marginLeft:8,marginBottom:"4px",verticalAlign:"middle"})))),g=e=>{let{routeSegments:t}=e;const a=(0,i.A)().palette.text.hint;return(0,m.jsx)(u,{children:(0,m.jsxs)(r.A,{separator:(0,m.jsx)(s.A,{sx:{color:a},children:"navigate_next"}),sx:{display:"flex",alignItems:"center",position:"relative"},children:[(0,m.jsx)(o.NavLink,{to:"/calist",children:(0,m.jsx)(x,{color:"primary",children:"home"})}),t?t.map(((e,a)=>a!==t.length-1?(0,m.jsx)(o.NavLink,{to:e.path,children:(0,m.jsx)(h,{children:e.name},c().generate())},c().generate()):(0,m.jsx)(p,{children:e.name},c().generate()))):null]})})};var v=a(81045),A=a(81e3);const j=(0,l.Ay)(v.A)((()=>({height:"40px",width:"40px"}))),y=(0,l.Ay)("div")((e=>{let{theme:t,status:a}=e;return{height:"14px",width:"14px",bottom:"0px",right:"-3px",borderRadius:"7px",position:"absolute",border:"2px solid white",background:"online"===a?t.palette.primary.main:t.palette.error.main,color:"online"!==a&&"white !important"}})),f=e=>{let{src:t,status:a}=e;return(0,m.jsxs)(A.A,{position:"relative",children:[(0,m.jsx)(j,{src:t}),(0,m.jsx)(y,{status:a})]})};var b=a(17392),T=a(39336),E=a(15795),S=a(39787),w=a(90864),O=a.n(w),C=a(11472);const P=(0,l.Ay)("div")((()=>({height:"100%",display:"flex",flexDirection:"column",background:"#fff"}))),M=(0,l.Ay)(O())((()=>({flexGrow:1}))),D=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 12px 12px 20px",color:t.palette.primary.main,background:"#fafafa"}})),L=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{marginLeft:"12px",color:t.palette.primary.main,"& h5":{marginTop:0,fontSize:"14px",marginBottom:"3px"},"& span":{fontWeight:"500"}}})),N=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{padding:"8px",maxWidth:240,fontSize:"14px",borderRadius:"4px",marginBottom:"8px",whiteSpace:"pre-wrap",wordBreak:"break-word",color:t.palette.primary.main,background:"#fafafa"}})),_=(0,l.Ay)("span")((e=>{let{theme:t}=e;return{fontSize:"13px",fontWeight:"500",color:t.palette.primary.main}})),R=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{padding:"20px",display:"flex",justifyContent:"flex-end"}})),I=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{padding:"8px",fontSize:"14px",maxWidth:240,borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"flex-end",color:t.palette.primary.main,background:"#fafafa"}})),k=(0,l.Ay)("img")((()=>({width:"40px"}))),B=(0,l.Ay)(_)((()=>({}))),F=[],U=e=>{let{togglePopup:t}=e;const[a,l]=(0,n.useState)(!0),[r,o]=(0,n.useState)(""),[d,u]=(0,n.useState)([]),p="7863a6802ez0e277a0f98534",h=document.querySelector("#chat-scroll"),x=async()=>{setTimeout((()=>{let e={text:"Good to hear from you. enjoy!!!",contactId:"opponents contact id",avatar:"/assets/images/faces/13.jpg",name:"Frank Powell"};[...d].push(e),F.push(e),a&&u(F)}),2e3)},g=(0,n.useCallback)((()=>{h&&h.scrollTo({top:h.scrollHeight,behavior:"smooth"})}),[h]);(0,n.useEffect)((()=>{a&&u([{contactId:"323sa680b3249760ea21rt47",text:"Do you ever find yourself falling into the \u201cdiscount trap?\u201d",time:"2018-02-10T08:45:28.291Z",id:"323sa680b3249760ea21rt47",name:"Frank Powell",avatar:"/assets/images/faces/13.jpg",status:"online",mood:""},{contactId:"7863a6802ez0e277a0f98534",text:"Giving away your knowledge or product just to gain clients?",time:"2018-02-10T08:45:28.291Z",id:"7863a6802ez0e277a0f98534",name:"John Doe",avatar:"/assets/images/face-1.jpg",status:"online",mood:""},{contactId:"323sa680b3249760ea21rt47",text:"Yes",time:"2018-02-10T08:45:28.291Z",id:"323sa680b3249760ea21rt47",name:"Frank Powell",avatar:"/assets/images/faces/13.jpg",status:"online",mood:""},{contactId:"7863a6802ez0e277a0f98534",text:"Don\u2019t feel bad. It happens to a lot of us",time:"2018-02-10T08:45:28.291Z",id:"7863a6802ez0e277a0f98534",name:"John Doe",avatar:"/assets/images/face-1.jpg",status:"online",mood:""},{contactId:"323sa680b3249760ea21rt47",text:"Do you ever find yourself falling into the \u201cdiscount trap?\u201d",time:"2018-02-10T08:45:28.291Z",id:"323sa680b3249760ea21rt47",name:"Frank Powell",avatar:"/assets/images/faces/13.jpg",status:"online",mood:""},{contactId:"7863a6802ez0e277a0f98534",text:"Giving away your knowledge or product just to gain clients?",time:"2018-02-10T08:45:28.291Z",id:"7863a6802ez0e277a0f98534",name:"John Doe",avatar:"/assets/images/face-1.jpg",status:"online",mood:""},{contactId:"323sa680b3249760ea21rt47",text:"Yes",time:"2018-02-10T08:45:28.291Z",id:"323sa680b3249760ea21rt47",name:"Frank Powell",avatar:"/assets/images/faces/13.jpg",status:"online",mood:""},{contactId:"7863a6802ez0e277a0f98534",text:"Don\u2019t feel bad. It happens to a lot of us",time:"2018-02-10T08:45:28.291Z",id:"7863a6802ez0e277a0f98534",name:"John Doe",avatar:"/assets/images/face-1.jpg",status:"online",mood:""}])}),[a]),(0,n.useEffect)((()=>(g(),()=>l(!1))),[d,g]);const{palette:j}=(0,i.A)(),y=j.primary.main,w=j.text.primary;return(0,m.jsxs)(P,{children:[(0,m.jsxs)(D,{children:[(0,m.jsxs)(A.A,{display:"flex",alignItems:"center",children:[(0,m.jsx)(f,{src:"/assets/images/face-2.jpg",status:"online"}),(0,m.jsxs)(L,{children:[(0,m.jsx)(C.H5,{children:"Ryan Todd"}),(0,m.jsx)(C.L9,{children:"Active"})]})]}),(0,m.jsx)(b.A,{onClick:t,children:(0,m.jsx)(s.A,{fontSize:"small",children:"clear"})})]}),(0,m.jsxs)(M,{id:"chat-scroll",children:[d.map(((e,t)=>(0,m.jsxs)(A.A,{p:"20px",display:"flex",sx:{justifyContent:p===e.contactId&&"flex-end"},children:[p!==e.contactId&&(0,m.jsx)(v.A,{src:e.avatar}),(0,m.jsxs)(A.A,{ml:"12px",children:[p!==e.contactId&&(0,m.jsx)(C.H5,{sx:{mb:"4px",fontSize:"14px",color:y},children:e.name}),(0,m.jsx)(N,{children:e.text}),(0,m.jsx)(_,{children:"1 minute ago"})]})]},c().generate()))),(0,m.jsx)(R,{children:(0,m.jsxs)(A.A,{ml:"12px",children:[(0,m.jsxs)(I,{children:[(0,m.jsx)(k,{alt:"laptop",src:"/assets/images/laptop-1.png"}),(0,m.jsxs)(A.A,{ml:"12px",children:[(0,m.jsx)(C.H6,{sx:{mt:0,mb:"4px"},children:"Asus K555LA.png"}),(0,m.jsx)(B,{children:"21.5KB"})]})]}),(0,m.jsx)(_,{children:"1 minute ago"})]})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)(T.A,{sx:{background:`rgba(${(0,S.zs)(w)}, 0.15)`}}),(0,m.jsx)(E.A,{placeholder:"Type here ...",multiline:!0,rowsMax:4,fullWidth:!0,sx:{"& textarea":{color:y}},InputProps:{endAdornment:(0,m.jsxs)(A.A,{display:"flex",children:[(0,m.jsx)(b.A,{size:"small",children:(0,m.jsx)(s.A,{children:"tag_faces"})}),(0,m.jsx)(b.A,{size:"small",children:(0,m.jsx)(s.A,{children:"attachment"})})]}),classes:{root:"pl-5 pr-3 py-3 text-body"}},value:r,onChange:e=>o(e.target.value),onKeyUp:e=>{if("Enter"===e.key&&!e.shiftKey){let e=r.trim();if(""!==e){let t=[...d],n={text:e,contactId:p};t.push(n),F.push(n),a&&u(t),x()}o("")}}})]})]})};var W=a(98500),$=a(58387);const V=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{"& .popupOpen":{top:W.kW+16,[t.breakpoints.down("sm")]:{bottom:0}},"& .closeIcon":{position:"absolute",top:6,right:6}}})),G=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{position:"fixed",right:t.spacing(2),bottom:t.spacing(2),top:"100vh",transition:"top 250ms ease-in-out",boxShadow:t.shadows[6],borderRadius:6,zIndex:99999,width:360,overflow:"hidden","@media only screen and (max-width: 450px)":{width:"calc(100% - 32px)",left:t.spacing(2)}}})),z=e=>{let{icon:t,children:a}=e;const[l,s]=(0,n.useState)(!1),i=async()=>{s((e=>!e))};return(0,m.jsxs)(V,{children:[(0,n.cloneElement)(t,{onClick:i}),(0,m.jsx)(G,{className:(0,$.A)({popupOpen:l}),children:l?(0,n.cloneElement)(a,{togglePopup:i}):null})]})};var H=a(11906);(0,l.Ay)("div")((()=>({width:360,padding:"32px",textAlign:"center",marginLeft:"auto",marginRight:"auto"}))),(0,l.Ay)("h4")((()=>({margin:0,marginBottom:"8px",textTransform:"capitalize"}))),(0,l.Ay)("div")((()=>({margin:"8px",paddingTop:"8px",display:"flex",justifyContent:"center"}))),(0,l.Ay)(H.A)((e=>{let{theme:t}=e;return{margin:"8px",paddingLeft:"24px",paddingRight:"24px",overflow:"hidden",borderRadius:"300px",transition:"all 250ms","&.yesBtn":{"&:hover":{color:"#ffffff",background:`${t.palette.primary.main} !important`,backgroundColor:`${t.palette.primary.main} !important`,fallbacks:[{color:"white !important"}]}},"&.noBtn":{"&:hover":{color:"#ffffff",background:`${t.palette.secondary.main} !important`,backgroundColor:`${t.palette.secondary.main} !important`,fallbacks:[{color:"white !important"}]}}}}));a(62050),a(33004);var Y=a(97753),X=a(31949);var q=a(45969),K=a(72437),Q=a(46060),Z=a(12604);const J=(0,Q.A)(Z.A)((e=>{let{theme:t}=e;return{display:"inline-block",color:t.palette.text.primary,"& div:hover":{backgroundColor:t.palette.action.hover}}})),ee=e=>{const[t,a]=n.useState(null),l=n.Children.toArray(e.children);let{shouldCloseOnItemClick:s=!0,horizontalPosition:i="left"}=e;const{settings:r}=(0,X.A)(),o=()=>{a(null)};return(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(J,{onClick:e=>{a(e.currentTarget)},children:e.menuButton}),(0,m.jsx)(q.A,{theme:r.themes[r.activeTheme],children:(0,m.jsx)(K.A,{elevation:8,getContentAnchorEl:null,anchorEl:t,open:!!t,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:i},transformOrigin:{vertical:"top",horizontal:i},children:l.map(((e,t)=>(0,m.jsx)("div",{onClick:s&&o,children:e},c().generate())))})})]})};var te=a(10611);(0,Q.A)(te.A)((()=>({borderRadius:2,background:"rgba(0, 0, 0, 0.1)"}))),(0,Q.A)("div")((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:9,width:"100%",display:"flex",alignItems:"center",height:W.kW,background:t.palette.primary.main,color:t.palette.text.primary,"&::placeholder":{color:t.palette.text.primary}}})),(0,Q.A)("input")((e=>{let{theme:t}=e;return{width:"100%",border:"none",outline:"none",fontSize:"1rem",paddingLeft:"20px",height:"calc(100% - 5px)",background:t.palette.primary.main,color:t.palette.text.primary,"&::placeholder":{color:t.palette.text.primary}}})),(0,l.Ay)("div")((e=>{let{theme:t,width:a}=e;return{zIndex:91,width:a,overflow:"hidden",position:"relative",transition:"width 250ms ease",background:t.palette.background.default,[t.breakpoints.down("sm")]:{top:0,left:0,bottom:0,position:"absolute"}}})),(0,l.Ay)("div")((()=>({zIndex:90,width:"100%",height:"100%",position:"absolute",background:"rgba(0, 0, 0, 0.74)"}))),(0,l.Ay)("div")((()=>({height:"100%",display:"flex",position:"relative"}))),(0,l.Ay)("div")((()=>({flexGrow:1,height:"100%",position:"relative"})));const ae=e=>{let{children:t}=e;return(0,m.jsx)(n.Suspense,{fallback:(0,m.jsx)(Y.A,{}),children:t})};a(39451);var ne=a(55376);const le=e=>{let{children:t}=e;const{settings:a}=(0,X.A)();let n={...a.themes[a.activeTheme]};return(0,m.jsxs)(q.A,{theme:n,children:[(0,m.jsx)(ne.Ay,{}),t]})};var se=a(30344),ie=a(75429),re=a(45527),oe=a(73216);const de=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{"& .expandIcon":{transition:"transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms",transform:"rotate(90deg)",color:t.palette.common.white},"& .collapseIcon":{transition:"transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms",transform:"rotate(0deg)",color:t.palette.common.white},"& .expansion-panel":{overflow:"hidden",transition:"max-height 0.3s cubic-bezier(0, 0, 0.2, 1)"},"& .highlight":{background:t.palette.primary.main},"&.compactNavItem":{width:44,overflow:"hidden",justifyContent:"center !important","& .itemText":{display:"none"},"& .itemIcon":{display:"none"}}}})),ce=(0,l.Ay)(ie.A)((e=>{let{theme:t}=e;return{height:44,width:"100%",whiteSpace:"pre",overflow:"hidden",paddingRight:"16px",borderRadius:"4px",marginBottom:"8px",display:"flex",justifyContent:"space-between !important",color:t.palette.text.primary,"&:hover":{background:"rgba(255, 255, 255, 0.08)"},"& .icon":{width:36,fontSize:"18px",paddingLeft:"16px",paddingRight:"16px",verticalAlign:"middle",color:"white"}}})),me=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{width:4,height:4,color:"inherit",overflow:"hidden",marginLeft:"20px",marginRight:"8px",borderRadius:"300px !important",background:t.palette.primary.contrastText}})),ue=(0,l.Ay)("span")((e=>{let{theme:t}=e;return{fontSize:"0.875rem",paddingLeft:"0.8rem",verticalAlign:"middle",color:t.palette.common.white}})),pe=(0,l.Ay)("div")((()=>({padding:"1px 4px",overflow:"hidden",borderRadius:"300px"}))),he=e=>{let{item:t,children:a,mode:l}=e;const[i,r]=(0,n.useState)(!0),o=(0,n.useRef)(null),d=(0,n.useRef)(0),{pathname:c}=(0,oe.zy)(),{name:u,icon:p,iconText:h,badge:x}=t,g=(0,n.useCallback)((e=>{if("child"!==e.name)for(let t of e.children)g(t);"child"===e.name?d.current+=e.scrollHeight:d.current+=44}),[]);return(0,n.useEffect)((()=>{if(o){g(o.current);for(let e of o.current.children)e.getAttribute("href")!==c&&"Search"!==u||r(!1)}}),[c,g,u]),(0,m.jsxs)(de,{children:[(0,m.jsxs)(ce,{className:(0,$.A)({"has-submenu compactNavItem":!0,compactNavItem:"compact"===l,open:!i}),onClick:e=>(e=>{var t;(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.closest(".submenu"))||(d.current=0,g(o.current),r(!i))})(e),children:[(0,m.jsxs)(Z.A,{display:"flex",alignItems:"center",children:[p&&(0,m.jsx)(s.A,{className:"icon",children:p}),h&&(0,m.jsx)(me,{}),(0,m.jsx)(ue,{className:"sidenavHoverShow",children:u})]}),x&&(0,m.jsx)(pe,{className:"sidenavHoverShow itemIcon",children:x.value}),(0,m.jsx)("div",{className:(0,$.A)({sidenavHoverShow:!0,collapseIcon:i,expandIcon:!i}),children:(0,m.jsx)(s.A,{fontSize:"small",sx:{verticalAlign:"middle"},children:"chevron_right"})})]}),(0,m.jsx)("div",{ref:o,className:"expansion-panel submenu",style:i?{maxHeight:"0px"}:{maxHeight:d.current+"px"},children:a})]})},xe=n.memo(he);var ge=a(83462),ve=a(29347),Ae=a(35316),je=a(98533),ye=a(26600),fe=a(42895),be=a(83051),Te=a(62954),Ee=a(71806),Se=a(73460),we=a(28076),Oe=a(10039),Ce=a(53193),Pe=a(18356),Me=a(72221),De=a(37970),Le=a(40794),Ne=a(67254),_e=a(40490),Re=a(319);const Ie=n.forwardRef((function(e,t){return(0,m.jsx)(Ne.A,{elevation:6,ref:t,variant:"filled",...e})})),ke=(0,l.Ay)(Ee.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Be=(0,l.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),Fe=((0,l.Ay)(ge.A)((e=>{let{theme:t}=e;return{"& .MuiDialog-paper-root":{backgroundColor:"#ffffff"},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),e=>{var t,a,l,s,i,r,o,d;new fe.D;const u=new be.i,{importMassupdateFile:p,setImportMassupdateFile:h,setOpenAlert:x,setOpenDesc:g,setIsLoading:v}=e,[j,y]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[T,E]=(0,n.useState)(!1),[S,w]=(0,n.useState)(null),[O,C]=(0,n.useState)(null),[P,M]=(0,n.useState)(null),D=localStorage.getItem("instance"),{bussinessUnitLists:L}=(0,Re.A)(),[N,_]=(0,n.useState)(!1),[R,I]=(0,n.useState)({BU:""}),k=(e,t)=>{"clickaway"!==t&&E(!1)};(0,n.useEffect)((()=>{null===L||void 0===L||L.length}),[L]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(ge.A,{open:p,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,m.jsx)(ye.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Mass Update Part Description in Enovia and ERP"}),(0,m.jsx)(Ae.A,{children:(0,m.jsx)(je.A,{children:(0,m.jsx)(A.A,{width:"100%",overflow:"auto",children:(0,m.jsx)(ke,{children:(0,m.jsxs)(Se.A,{children:[(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Design Organization"}),(0,m.jsxs)(Oe.A,{align:"left",children:[(0,m.jsxs)(Ce.A,{fullWidth:!0,children:[(0,m.jsx)(Pe.A,{id:"bussinessUnit",children:"Select RDO"}),(0,m.jsx)(Me.A,{labelId:"bussinessUnit",id:"bussinessUnit",name:"BU",size:"medium",label:"Select RDO",fullWidth:!0,style:{width:"70%",maxHeight:"200px"},value:R.BU?R.BU:"",onChange:e=>{I((t=>({...t,[e.target.name]:e.target.value}))),"BU"===e.target.name&&_(!1)},children:null===L||void 0===L?void 0:L.map((e=>(0,m.jsx)(De.A,{value:e.buName,style:{backgroundColor:"#fff"},children:e.buName},e.buName)))})]}),N&&(0,m.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Instance"}),(0,m.jsx)(Oe.A,{align:"left",children:(0,m.jsx)(Pe.A,{id:"bussinessUnit",children:D})})]}),(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Upload File (Excel File)"}),(0,m.jsxs)(Oe.A,{align:"left",children:[(0,m.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,m.jsxs)(H.A,{component:"label",variant:"contained",startIcon:(0,m.jsx)(Te.A,{}),children:["Upload file",(0,m.jsx)(Be,{type:"file",name:"file",accept:".xls, .xlsx",onChange:e=>{console.log("file selected");const t=e.target.files[0];if(t){const a=t.name.split(".").pop();"xlsx"===a||"xls"===a?(w(e.target.files[0]),C(e.target.files[0].name),y(!1)):(y(!0),C(null),w(null))}else y(!0),C(null),w(null)}})]}),j&&(0,m.jsx)("p",{children:"Please Select xlsx file to Upload "})]}),O&&(0,m.jsx)("p",{children:O})]})]}),(0,m.jsx)(we.A,{children:(0,m.jsxs)(Oe.A,{colSpan:2,children:[(0,m.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,m.jsx)("a",{onClick:()=>{u.downloadSampleFile("massUpdate/sample-massUpdatepartDescription.xlsx")},download:"Example-XLSX-document",rel:"noreferrer",style:{color:"blue",cursor:"pointer"},children:"Click Here"})," to download the sample Excel template for the Part Description Update."]}),(0,m.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,m.jsx)("b",{children:"Note:"})," Use only the Excel template, downloaded from this page. Other Excel templates will not be accepted. The Excel file has four columns with Header labels in the following order. Fields mark with * are the mandatory fields in the input excel."]}),(0,m.jsxs)("div",{style:{paddingTop:"10px"},children:["Part Type*",(0,m.jsx)("br",{}),"Part Name*",(0,m.jsx)("br",{}),"Part Revision*",(0,m.jsx)("br",{}),"Part Description*",(0,m.jsx)("br",{})]})]})})]})})})})}),(0,m.jsxs)(ve.A,{children:[(0,m.jsx)(H.A,{onClick:()=>{let e=!1;if((null===R.BU||R.BU.length<1)&&(_(!0),e=!0),(null===S||S.length<1)&&(y(!0),e=!0),!e&&null!==S){if(window.confirm("You have requested a report that will take some time to complete. This report will continue to run if you close this browser window. To access this report later, use 'Mass Update Part Description' > My Report.")){h(!1),v(!0),console.log("ok for mass update");let e={file:S,data:{BU:R.BU,Instance:D}};console.log(e,"postData"),u.massUpdatePartDescription(e).then((e=>{console.log(e,"response 11111"),b(e),E(!0),w(null),C(null),h(!1),v(!1),x(!1),"success"===(null===e||void 0===e?void 0:e.status)?(x(!0),g({severity:"success",desc:null===e||void 0===e?void 0:e.msg})):"failed"===(null===e||void 0===e?void 0:e.status)&&(x(!0),g({severity:"error",desc:null===e||void 0===e?void 0:e.msg}))}))}console.log("cancle for mass update")}},children:"Done"}),(0,m.jsx)(H.A,{autoFocus:!0,onClick:()=>{w(null),h(!1)},children:"Cancel"})]})]}),(0,m.jsx)(Le.A,{open:T,autoHideDuration:6e3,onClose:k,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,m.jsxs)(Ie,{onClose:k,severity:!f||null!==f&&void 0!==f&&null!==(t=f.errorInTemplate)&&void 0!==t&&t.length||null!==f&&void 0!==f&&null!==(a=f.errorInPlants)&&void 0!==a&&a.length?"error":"success",sx:{width:"100%"},children:[(0,m.jsx)(_e.A,{children:!f||null!==f&&void 0!==f&&null!==(l=f.errorInTemplate)&&void 0!==l&&l.length||null!==f&&void 0!==f&&null!==(s=f.errorInPlants)&&void 0!==s&&s.length?"Error":"Success"}),f&&(null!==f&&void 0!==f&&null!==(i=f.errorInTemplate)&&void 0!==i&&i.length||null!==f&&void 0!==f&&null!==(r=f.errorInPlants)&&void 0!==r&&r.length)?(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{children:[null===f||void 0===f?void 0:f.msg," ",(0,m.jsx)("br",{}),null!==f&&void 0!==f&&f.errorInTemplateCount?(0,m.jsxs)(m.Fragment,{children:["Total Template Count: ",null===f||void 0===f?void 0:f.errorInTemplateCount," ",(0,m.jsx)("br",{}),"Templates are: ",(0,m.jsx)("br",{}),(0,m.jsx)("ul",{children:null===f||void 0===f||null===(o=f.errorInTemplate)||void 0===o?void 0:o.map((e=>(0,m.jsx)("li",{children:e},c().generate())))})]}):(0,m.jsx)(m.Fragment,{}),null!==f&&void 0!==f&&f.errorInPlantCount?(0,m.jsxs)(m.Fragment,{children:["Total Plant Count: ",null===f||void 0===f?void 0:f.errorInPlantCount," ",(0,m.jsx)("br",{}),"Plants are: ",(0,m.jsx)("br",{}),(0,m.jsx)("ul",{children:null===f||void 0===f||null===(d=f.errorInPlants)||void 0===d?void 0:d.map((e=>(0,m.jsx)("li",{children:e},c().generate())))})]}):(0,m.jsx)(m.Fragment,{})]})}):(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{children:[f.msg," ",(0,m.jsx)("br",{}),"Parts Description Updated: ",f.updateTemplates," ",(0,m.jsx)("br",{})]})})]})})]})});var Ue=a(88270),We=a(57972),$e=a(74605),Ve=a(14256),Ge=a(81807);const ze=(0,l.Ay)(Ee.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),He=e=>{new fe.D;const t=new Ue.W,{exportAllTempMapping:a,setExportAllTempMapping:l}=e,[s,i]=(0,n.useState)(null),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(null),{bussinessUnitLists:u}=(0,Re.A)(),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)({BU:"",dataToExport:"masterData"}),v=e=>{g((t=>({...t,[e.target.name]:e.target.value}))),"BU"===e.target.name&&h(!1),console.info(e.target,"importSelectionValues")};return(0,n.useEffect)((()=>{null===u||void 0===u||u.length}),[]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(ge.A,{open:a,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,m.jsx)(ye.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export All Template Mappings"}),(0,m.jsx)(Ae.A,{children:(0,m.jsx)(je.A,{children:(0,m.jsx)(A.A,{width:"100%",overflow:"auto",children:(0,m.jsx)(ze,{children:(0,m.jsxs)(Se.A,{children:[(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Design Organization"}),(0,m.jsxs)(Oe.A,{align:"left",children:[(0,m.jsxs)(Ce.A,{fullWidth:!0,children:[(0,m.jsx)(Pe.A,{id:"bussinessUnit",children:"Select RDO"}),(0,m.jsx)(Me.A,{labelId:"bussinessUnit",id:"bussinessUnit",name:"BU",size:"medium",label:"Select RDO",fullWidth:!0,style:{width:"70%",maxHeight:"200px"},value:x.BU?x.BU:"",onChange:v,children:null===u||void 0===u?void 0:u.map((e=>(0,m.jsx)(De.A,{value:e.buName,style:{backgroundColor:"#fff"},children:e.buName},e.buName)))})]}),p&&(0,m.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Data to Export"}),(0,m.jsxs)(Oe.A,{align:"left",children:[(0,m.jsx)("div",{style:{paddingTop:"10px"},children:(0,m.jsx)(Ce.A,{children:(0,m.jsxs)(We.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"dataToExport",defaultValue:"masterData",onChange:v,children:[(0,m.jsx)($e.A,{value:"masterData",control:(0,m.jsx)(Ve.A,{}),label:"Master Data"}),(0,m.jsx)($e.A,{value:"draftData",control:(0,m.jsx)(Ve.A,{}),label:"Proposed Changes"})]})})}),s&&(0,m.jsx)("p",{children:s})]})]})]})})})})}),(0,m.jsxs)(ve.A,{children:[(0,m.jsx)(H.A,{onClick:()=>{let e=!1;if((null===x.BU||x.BU.length<1)&&(h(!0),e=!0),e)return;let a={rdo:x.BU,dataToExport:x.dataToExport};console.log(a,"postData"),t.exportAllTemplateMapping(a).then((e=>{console.log(e,"response 11111"),i(null),o(!0),c({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),l(!1)}))},children:"Done"}),(0,m.jsx)(H.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"})]})]}),d?(0,m.jsx)(Ge.A,{openAlert:r,openDesc:d,setOpenAlert:o}):(0,m.jsx)(m.Fragment,{})]})},Ye=(0,l.Ay)(Ee.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Xe=e=>{new fe.D;const t=new Ue.W,{exportAllAdminGeneralPropertiesDialog:a,setExportAllAdminGeneralPropertiesDialog:l}=e,[s,i]=(0,n.useState)(null),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(null),{bussinessUnitLists:u}=(0,Re.A)(),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)({BU:"",dataToExport:"masterData"}),v=e=>{g((t=>({...t,[e.target.name]:e.target.value}))),"BU"===e.target.name&&h(!1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(ge.A,{open:a,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,m.jsx)(ye.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export All Admin General Properties"}),(0,m.jsx)(Ae.A,{children:(0,m.jsx)(je.A,{children:(0,m.jsx)(A.A,{width:"100%",overflow:"auto",children:(0,m.jsx)(Ye,{children:(0,m.jsxs)(Se.A,{children:[(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Design Organization"}),(0,m.jsxs)(Oe.A,{align:"left",children:[(0,m.jsxs)(Ce.A,{fullWidth:!0,children:[(0,m.jsx)(Pe.A,{id:"bussinessUnit",children:"Select RDO"}),(0,m.jsx)(Me.A,{labelId:"bussinessUnit",id:"bussinessUnit",name:"BU",size:"medium",label:"Select RDO",fullWidth:!0,style:{width:"70%",maxHeight:"200px"},value:x.BU?x.BU:"",onChange:v,children:null===u||void 0===u?void 0:u.map((e=>(0,m.jsx)(De.A,{value:e.buName,style:{backgroundColor:"#fff"},children:e.buName},e.buName)))})]}),p&&(0,m.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Data to Export"}),(0,m.jsxs)(Oe.A,{align:"left",children:[(0,m.jsx)("div",{style:{paddingTop:"10px"},children:(0,m.jsx)(Ce.A,{children:(0,m.jsxs)(We.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"dataToExport",defaultValue:"masterData",onChange:v,children:[(0,m.jsx)($e.A,{value:"masterData",control:(0,m.jsx)(Ve.A,{}),label:"Master Data"}),(0,m.jsx)($e.A,{value:"draftData",control:(0,m.jsx)(Ve.A,{}),label:"Proposed Changes"})]})})}),s&&(0,m.jsx)("p",{children:s})]})]})]})})})})}),(0,m.jsxs)(ve.A,{children:[(0,m.jsx)(H.A,{onClick:()=>{let e=!1;if((null===x.BU||x.BU.length<1)&&(h(!0),e=!0),e)return;let a={rdo:x.BU,dataToExport:x.dataToExport};t.exportAllAdminGeneralProperties(a).then((e=>{console.log(e,"response 11111"),i(null),o(!0),c({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),l(!1)}))},children:"Done"}),(0,m.jsx)(H.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"})]})]}),d?(0,m.jsx)(Ge.A,{openAlert:r,openDesc:d,setOpenAlert:o}):(0,m.jsx)(m.Fragment,{})]})};var qe=a(76987),Ke=a(66578);const Qe=(0,l.Ay)(Ee.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Ze=e=>{new fe.D;const t=new Ue.W,{exportAllAdminSystemSetupsDialog:a,setExportAllAdminSystemSetupsDialog:l}=e,[s,i]=(0,n.useState)(null),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(null),{bussinessUnitLists:u}=(0,Re.A)(),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)({BU:"",dataToExport:"masterData"}),v=e=>{g((t=>({...t,[e.target.name]:e.target.value}))),"BU"===e.target.name&&h(!1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(ge.A,{open:a,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,m.jsx)(ye.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export All Admin System System"}),(0,m.jsx)(Ae.A,{children:(0,m.jsx)(je.A,{children:(0,m.jsx)(A.A,{width:"100%",overflow:"auto",children:(0,m.jsx)(Qe,{children:(0,m.jsxs)(Se.A,{children:[(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Design Organization"}),(0,m.jsxs)(Oe.A,{align:"left",children:[(0,m.jsxs)(Ce.A,{fullWidth:!0,children:[(0,m.jsx)(Pe.A,{id:"bussinessUnit",children:"Select RDO"}),(0,m.jsx)(Me.A,{labelId:"bussinessUnit",id:"bussinessUnit",name:"BU",size:"medium",label:"Select RDO",fullWidth:!0,style:{width:"70%",maxHeight:"200px"},value:x.BU?x.BU:"",onChange:v,children:null===u||void 0===u?void 0:u.map((e=>(0,m.jsx)(De.A,{value:e.buName,style:{backgroundColor:"#fff"},children:e.buName},e.buName)))})]}),p&&(0,m.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Data to Export"}),(0,m.jsxs)(Oe.A,{align:"left",children:[(0,m.jsx)("div",{style:{paddingTop:"10px"},children:(0,m.jsx)(Ce.A,{children:(0,m.jsxs)(We.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"dataToExport",defaultValue:"masterData",onChange:v,children:[(0,m.jsx)($e.A,{value:"masterData",control:(0,m.jsx)(Ve.A,{}),label:"Master Data"}),(0,m.jsx)($e.A,{value:"draftData",control:(0,m.jsx)(Ve.A,{}),label:"Proposed Changes"})]})})}),s&&(0,m.jsx)("p",{children:s})]})]})]})})})})}),(0,m.jsxs)(ve.A,{children:[(0,m.jsx)(H.A,{onClick:()=>{let e=!1;if((null===x.BU||x.BU.length<1)&&(h(!0),e=!0),e)return;let a={rdo:x.BU,dataToExport:x.dataToExport};t.exportAllAdminSystemSetups(a).then((e=>{console.log(e,"response 11111"),i(null),o(!0),c({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),l(!1)}))},children:"Done"}),(0,m.jsx)(H.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"})]})]}),d?(0,m.jsx)(Ge.A,{openAlert:r,openDesc:d,setOpenAlert:o}):(0,m.jsx)(m.Fragment,{})]})},Je=(0,l.Ay)(C.fz)((e=>{let{theme:t,mode:a}=e;return{fontSize:"12px",marginTop:"20px",marginLeft:"15px",marginBottom:"10px",textTransform:"uppercase",display:"compact"===a&&"none",color:t.palette.text.secondary}})),et={display:"flex",overflow:"hidden",borderRadius:"4px",height:44,whiteSpace:"pre",marginBottom:"8px",textDecoration:"none",justifyContent:"space-between",transition:"all 150ms ease-in","&:hover":{background:"rgba(255, 255, 255, 0.08)"},"&.compactNavItem":{overflow:"hidden",justifyContent:"center !important"},"& .icon":{fontSize:"18px",paddingLeft:"16px",paddingRight:"16px",verticalAlign:"middle"}},tt=(0,l.Ay)("a")((e=>{let{theme:t}=e;return{...et,color:t.palette.text.primary}})),at=(0,l.Ay)(A.A)((e=>{let{theme:t}=e;return{"& a":{...et,color:t.palette.text.primary},"& .navItemActive":{backgroundColor:"rgba(255, 255, 255, 0.16)"}}})),nt=(0,l.Ay)(C.L9)((e=>{let{mode:t,theme:a}=e;return{fontSize:"0.875rem",paddingLeft:"0.8rem",display:"compact"===t&&"none",color:a.palette.common.white}})),lt=(0,l.Ay)(C.L9)((e=>{let{mode:t,theme:a}=e;return{fontSize:"0.875rem",paddingLeft:"0.8rem",display:"compact"===t&&"none",color:a.palette.common.white}})),st=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{padding:"2px",marginLeft:"24px",marginRight:"8px",overflow:"hidden",borderRadius:"300px",background:t.palette.common.white}})),it=(0,l.Ay)("div")((()=>({padding:"1px 8px",overflow:"hidden",borderRadius:"300px"}))),rt=e=>{let{items:t}=e;const{settings:a,updateSettings:l}=(0,X.A)(),[i,r]=(0,n.useState)(!1),{mode:d}=a.layout1Settings.leftSidebar,u=(0,re.A)(),p=(0,se.A)(u.breakpoints.down("md")),[h,x]=(0,n.useState)(!1),[g,v]=(0,n.useState)(!1),[j,y]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[T,E]=(0,n.useState)(null),[S,w]=(0,n.useState)(!1),O=e=>{"massUpdate"===e?x(!0):"exportAll"===e?v(!0):"exportAllAdminGeneralProperties"===e?y(!0):"exportAllAdminSystemSetups"===e&&w(!0)},C=()=>{p&&P({mode:"close"})},P=e=>{let t=a.activeLayout+"Settings",n=a[t];l({...a,[t]:{...n,leftSidebar:{...n.leftSidebar,...e}}})},M=e=>e.map(((e,t)=>"label"===e.type?(0,m.jsx)(Je,{mode:d,className:"sidenavHoverShow",children:e.label},c().generate()):e.children?(0,m.jsx)(xe,{mode:d,item:e,children:(0,m.jsx)("div",{style:{marginLeft:"20px"},children:M(e.children)})}):"extLink"===e.type?(0,m.jsx)(tt,{href:e.path,className:`${"compact"===d&&"compactNavItem"}`,rel:"noopener noreferrer",target:"_blank",children:(0,m.jsxs)(ie.A,{name:"child",sx:{width:"100%"},children:[e.icon?(0,m.jsx)(s.A,{className:"icon",children:e.icon}):(0,m.jsx)("span",{className:"item-icon icon-text",children:e.iconText}),(0,m.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(A.A,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{children:e.badge.value})]},e.name)},c().generate()):"popup3"===e.type?(0,m.jsx)(at,{children:void 0===e.type||"popup3"===e.type||"popup"!==e.type?(0,m.jsx)(m.Fragment,{children:"popup3"===e.type?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.NavLink,{children:(0,m.jsxs)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(A.A,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)}),(0,m.jsx)(Xe,{exportAllAdminGeneralPropertiesDialog:j,setExportAllAdminGeneralPropertiesDialog:y})]}):(0,m.jsx)(o.NavLink,{onClick:C,to:`${e.path}`,className:e=>{let{isActive:t}=e;return t?`navItemActive ${"compact"===d&&"compactNavItem"}`:`${"compact"===d&&"compactNavItem"}`},children:(0,m.jsxs)(ie.A,{name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(A.A,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(at,{children:(0,m.jsx)(o.NavLink,{children:(0,m.jsx)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name})]})},e.name)})},c().generate()),(0,m.jsx)(Fe,{importMassupdateFile:h,setImportMassupdateFile:x,setOpenAlert:b,setOpenDesc:E,setIsLoading:r}),T?(0,m.jsx)(qe.A,{openAlert:f,openDesc:T,setOpenAlert:b}):(0,m.jsx)(m.Fragment,{}),i?(0,m.jsx)("div",{className:"textAlignCenter",children:(0,m.jsx)(Ke.A,{show:i})}):(0,m.jsx)(m.Fragment,{})]})},c().generate()):"popup6"===e.type?(0,m.jsx)(at,{children:void 0===e.type||"popup6"===e.type||"popup"!==e.type?(0,m.jsx)(m.Fragment,{children:"popup6"===e.type?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.NavLink,{children:(0,m.jsxs)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(A.A,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)}),(0,m.jsx)(Ze,{exportAllAdminSystemSetupsDialog:S,setExportAllAdminSystemSetupsDialog:w})]}):(0,m.jsx)(o.NavLink,{onClick:C,to:`${e.path}`,className:e=>{let{isActive:t}=e;return t?`navItemActive ${"compact"===d&&"compactNavItem"}`:`${"compact"===d&&"compactNavItem"}`},children:(0,m.jsxs)(ie.A,{name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(A.A,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(at,{children:(0,m.jsx)(o.NavLink,{children:(0,m.jsx)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name})]})},e.name)})},c().generate()),(0,m.jsx)(Fe,{importMassupdateFile:h,setImportMassupdateFile:x,setOpenAlert:b,setOpenDesc:E,setIsLoading:r}),T?(0,m.jsx)(qe.A,{openAlert:f,openDesc:T,setOpenAlert:b}):(0,m.jsx)(m.Fragment,{}),i?(0,m.jsx)("div",{className:"textAlignCenter",children:(0,m.jsx)(Ke.A,{show:i})}):(0,m.jsx)(m.Fragment,{})]})},c().generate()):(0,m.jsx)(at,{children:void 0===e.type||"popup2"===e.type||"popup"!==e.type?(0,m.jsx)(m.Fragment,{children:"popup2"===e.type?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.NavLink,{children:(0,m.jsxs)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(A.A,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)}),(0,m.jsx)(He,{exportAllTempMapping:g,setExportAllTempMapping:v})]}):(0,m.jsx)(o.NavLink,{onClick:C,to:`${e.path}`,className:e=>{let{isActive:t}=e;return t?`navItemActive ${"compact"===d&&"compactNavItem"}`:`${"compact"===d&&"compactNavItem"}`},children:(0,m.jsxs)(ie.A,{name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(A.A,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(at,{children:(0,m.jsx)(o.NavLink,{children:(0,m.jsx)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name})]})},e.name)})},c().generate()),(0,m.jsx)(Fe,{importMassupdateFile:h,setImportMassupdateFile:x,setOpenAlert:b,setOpenDesc:E,setIsLoading:r}),T?(0,m.jsx)(qe.A,{openAlert:f,openDesc:T,setOpenAlert:b}):(0,m.jsx)(m.Fragment,{}),i?(0,m.jsx)("div",{className:"textAlignCenter",children:(0,m.jsx)(Ke.A,{show:i})}):(0,m.jsx)(m.Fragment,{})]})},c().generate())));return(0,m.jsx)("div",{className:"navigation",children:M(t)})},ot=n.memo(rt);var dt=a(12110);const ct=(0,Q.A)(dt.A)((()=>({height:"100%",padding:"20px 24px"}))),mt=(0,Q.A)("div")((e=>{let{subtitle:t}=e;return{fontSize:"1rem",fontWeight:"500",textTransform:"capitalize",marginBottom:!t&&"16px"}})),ut=e=>{let{children:t,title:a,subtitle:n,icon:l}=e;return(0,m.jsxs)(ct,{elevation:6,children:[(0,m.jsx)(mt,{subtitle:n,children:a}),n&&(0,m.jsx)(Z.A,{sx:{mb:2},children:n}),t]})};a(89420);(0,l.Ay)((e=>{let{palette:t,...a}=e;return{"@global":{".px-80":{paddingRight:"80px",paddingLeft:"80px",[a.breakpoints.down("sm")]:{paddingRight:"16px",paddingLeft:"16px"}},".px-sm-30":{padding:"0px 30px",[a.breakpoints.down("sm")]:{padding:"0px 16px"}},".p-sm-24":{padding:"24px !important",[a.breakpoints.down("sm")]:{padding:"16px !important"}},".px-sm-24":{padding:"0px 24px !important",[a.breakpoints.down("sm")]:{padding:"0px 12px !important"}},".pt-sm-24":{paddingTop:"24px !important",[a.breakpoints.down("sm")]:{paddingTop:"16px !important"}},".pl-sm-24":{paddingLeft:"24px !important",[a.breakpoints.down("sm")]:{paddingLeft:"16px !important"}},".m-auto":{margin:"auto !important"},".mx-auto":{marginLeft:"auto !important",marginRight:"auto !important"},".my-auto":{marginTop:"auto !important",marginBottom:"auto !important"},".m-sm-30":{margin:"30px",[a.breakpoints.down("sm")]:{margin:"16px"}},".mb-sm-30":{marginBottom:"30px",[a.breakpoints.down("sm")]:{marginBottom:"16px"}},".w-full":{width:"100%"},".mui-invalid":{color:"#FF3D57"},".max-w-full":{maxWidth:"100% !important"},".min-w-full":{minWidth:"100% !important"},".min-w-full-screen":{minWidth:"100vw !important"},".w-full-screen":{width:"100vw"},".min-w-600":{minWidth:"600px"},".min-w-750":{minWidth:"750px"},".min-w-1050":{minWidth:"1050px"},".max-w-450":{maxWidth:"450px"},".max-w-550":{maxWidth:"550px"},".max-h-500":{maxHeight:"500px"},".max-w-600":{maxWidth:"600px"},".max-w-770":{maxWidth:"770px"},".max-w-800":{maxWidth:"800px"},".max-w-850":{maxWidth:"850px"},".max-w-900":{maxWidth:"900px"},".max-w-1340":{maxWidth:"1340px"},".h-full":{height:"100% !important"},".min-h-full":{minHeight:"100% !important"},".h-auto":{height:"auto"},".h-full-screen":{height:"100vh"},".min-h-full-screen":{minHeight:"100vh !important"},".h-150px":{height:"150px !important"},".size-36":{height:"36px !important",width:"36px !important"},".size-24":{height:"24px !important",width:"24px !important"},...pt(0,25,.25,"rem"),...pt(1,16,1,"px"),...pt(-25,-1,.25,"rem"),...pt(-16,-1,1,"px"),...ht()}}}));const pt=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.25,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rem",n={};for(let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;l<=e;l++)n[`.m-${l}${"px"===a?"px":""}`]={margin:`${l*t}${a} !important`},n[`.mt-${l}${"px"===a?"px":""}`]={marginTop:`${l*t}${a} !important`},n[`.mb-${l}${"px"===a?"px":""}`]={marginBottom:`${l*t}${a} !important`},n[`.mr-${l}${"px"===a?"px":""}`]={marginRight:`${l*t}${a} !important`},n[`.ml-${l}${"px"===a?"px":""}`]={marginLeft:`${l*t}${a} !important`},n[`.mx-${l}${"px"===a?"px":""}`]={marginLeft:`${l*t}${a} !important`,marginRight:`${l*t}${a} !important`},n[`.my-${l}${"px"===a?"px":""}`]={marginTop:`${l*t}${a} !important`,marginBottom:`${l*t}${a} !important`},n[`.p-${l}${"px"===a?"px":""}`]={padding:`${l*t}${a} !important`},n[`.pt-${l}${"px"===a?"px":""}`]={paddingTop:`${l*t}${a} !important`},n[`.pb-${l}${"px"===a?"px":""}`]={paddingBottom:`${l*t}${a} !important`},n[`.pr-${l}${"px"===a?"px":""}`]={paddingRight:`${l*t}${a} !important`},n[`.pl-${l}${"px"===a?"px":""}`]={paddingLeft:`${l*t}${a} !important`},n[`.px-${l}${"px"===a?"px":""}`]={paddingLeft:`${l*t}${a} !important`,paddingRight:`${l*t}${a} !important`},n[`.py-${l}${"px"===a?"px":""}`]={paddingTop:`${l*t}${a} !important`,paddingBottom:`${l*t}${a} !important`};return n},ht=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"px",n={};for(let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;l<=e;l+=t)n[`.w-${l}`]={width:`${l}${a} !important`},n[`.min-w-${l}`]={minWidth:`${l}${a} !important`},n[`.max-w-${l}`]={maxWidth:`${l}${a} !important`},n[`.h-${l}`]={height:`${l}${a} !important`},n[`.min-h-${l}`]={minHeight:`${l}${a} !important`},n[`.max-h-${l}`]={maxHeight:`${l}${a} !important`};return n},xt=((0,l.Ay)((e=>{let{palette:t,...a}=e;return{"@global":{".circular-image-small":{height:"48px",width:"48px",borderRadius:"50%",overflow:"hidden"},".card":{transition:"all 0.3s ease"},".card:hover":{boxShadow:a.shadows[12]},".card-title":{fontSize:"1rem",textTransform:"capitalize",fontWeight:"500"},".card-subtitle":{fontSize:"0.875rem",color:"var(--text-muted)"},".theme-dark .card-subtitle":{color:"rgba(255, 255, 255, 0.54)"},".hide-on-mobile":{display:"inherit"},"@media screen and (max-width: 767px)":{".hide-on-mobile":{display:"none !important"},".show-on-mobile":{display:"inherit !important"},".invisible-on-pc":{visibility:"visible"}},"@media screen and (min-width: 1200px)":{".hide-on-pc":{display:"none !important"}},"@media screen and (max-width: 1200px)":{".show-on-pc":{display:"none !important"}},".VictoryContainer svg":{height:"100% !important"},".box-shadow-none":{boxShadow:"none !important"},".circle-44":{height:"44px !important",width:"44px !important"},".circle-32":{height:"32px !important",minHeight:"32px !important",width:"32px !important"},".circle-32 .MuiFab-root":{minHeight:"32px !important"},".circle-32 .MuiIcon-root":{fontSize:"13px !important"},".show-on-mobile":{display:"none !important"},".invisible-on-pc":{visibility:"hidden"},".highlight-js pre":{whiteSpace:"pre-line"},".cursor-pointer":{cursor:"pointer"},".cursor-move":{cursor:"move"},".avatar":{height:"32px !important",width:"32px !important"},".face-group .avatar:not(:first-child)":{marginLeft:"-0.875rem !important"},".opacity-1":{opacity:1},".datatimeInputCls":{opacity:1}}}})),e=>{let{children:t}=e;return t||null}),gt=n.memo(xt)},11472:(e,t,a)=>{"use strict";a.d(t,{H5:()=>o,H6:()=>d,L9:()=>m,fz:()=>c});var n=a(34535),l=a(81e3),s=a(58387),i=a(92960);const r=(0,n.Ay)(l.A)((e=>{let{theme:t,texttransformstyle:a,ellipsis:n}=e;return{textTransform:a||"none",whiteSpace:n?"nowrap":"normal",overflow:n?"hidden":"",textOverflow:n?"ellipsis":""}})),o=e=>{let{children:t,className:a,ellipsis:n,textTransform:l,...o}=e;return(0,i.jsx)(r,{texttransformstyle:l,ellipsis:n,className:(0,s.A)({[a||""]:!0}),component:"h5",mb:0,mt:0,fontSize:"14px",fontWeight:"500",lineHeight:"1.5",...o,children:t})},d=e=>{let{children:t,className:a,ellipsis:n,textTransform:l,...o}=e;return(0,i.jsx)(r,{texttransformstyle:l,ellipsis:n,className:(0,s.A)({[a||""]:!0}),component:"h6",mb:0,mt:0,fontSize:"13px",fontWeight:"500",lineHeight:"1.5",...o,children:t})},c=e=>{let{children:t,className:a,ellipsis:n,textTransform:l,...o}=e;return(0,i.jsx)(r,{texttransformstyle:l,ellipsis:n,className:(0,s.A)({[a||""]:!0}),component:"p",mb:0,mt:0,fontSize:"14px",...o,children:t})},m=e=>{let{children:t,className:a,ellipsis:n,textTransform:l,...o}=e;return(0,i.jsx)(r,{texttransformstyle:l,ellipsis:n,className:(0,s.A)({[a||""]:!0}),component:"span",lineHeight:"1.5",...o,children:t})}},15340:()=>{},26814:(e,t,a)=>{"use strict";a.d(t,{DT:()=>l,FY:()=>m,G2:()=>s,H1:()=>p,MV:()=>c,RY:()=>h,T2:()=>u,dH:()=>d,hv:()=>r,iZ:()=>o,sy:()=>x,ud:()=>i,xW:()=>n});new(a(93291).f);const n="GET_MCOLIST",l="GET_MCOINFO",s="GET_UPDATEMCODETAILS",i="GET_UPDATE_MCO_RELATED_VALUES",r="SET_ALL_CA_MCO_DETAILS",o="SET_UPDATED_ROUTES",d="RESET_VALUES",c=e=>({type:o,payload:e}),m=e=>async t=>{try{await t({type:n,payload:e})}catch(a){console.error(a)}},u=e=>async t=>{try{await t({type:l,payload:e})}catch(a){console.error(a)}},p=e=>async t=>{try{await t({type:s,payload:e})}catch(a){console.error(a)}},h=e=>async t=>{try{await t({type:i,payload:e})}catch(a){console.error(a)}},x=()=>async e=>{try{await e({type:d})}catch(t){console.error(t)}}},29215:(e,t,a)=>{"use strict";a.d(t,{L:()=>E,A:()=>S});var n=a(65043),l=a(81640),s=a(73216),i=a(88270),r=a(33302),o=(a(66578),a(81637)),d=a(89454),c=a(11906),m=a(34535),u=a(83462),p=a(26600),h=a(35316),x=a(29347),g=a(17392),v=a(74802),A=a(85865),j=a(92960);const y=(0,m.Ay)(u.A)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}));function f(e){let{isBUModified:t,updateBUModifiedData:a}=e;const[l,s]=n.useState(!1),i=(e,t)=>{"backdropClick"!==t&&"escapeKeyDown"!==t&&(s(!1),a())};return(0,n.useEffect)((()=>{s(t)}),[t]),(0,j.jsx)(n.Fragment,{children:(0,j.jsxs)(y,{onClose:i,"aria-labelledby":"customized-dialog-title",open:l,children:[(0,j.jsx)(p.A,{sx:{m:0,p:2},id:"customized-dialog-title",children:"Organization Credentials Updated"}),(0,j.jsx)(g.A,{"aria-label":"close",onClick:i,sx:e=>({position:"absolute",right:8,top:8,color:e.palette.grey[500]}),children:(0,j.jsx)(v.A,{})}),(0,j.jsx)(h.A,{dividers:!0,children:(0,j.jsxs)(A.A,{gutterBottom:!0,children:["The credentials for the organization have been modified. To ensure you have the latest data,",(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),'please click "Okay" to proceed.']})}),(0,j.jsx)(x.A,{children:(0,j.jsx)(c.A,{autoFocus:!0,onClick:i,children:"Okay"})})]})})}var b=a(5137);const T=(0,n.createContext)({isLoading:!1,userDetails:null,bussinessUnit:null,bussinessUnitLists:null,templatesInfo:[],allTemplatesInfo:[],mappingTemplatesInfo:[],refreshData:!0,updateBussinessUnit:()=>null,updateBussinessUnitLists:()=>null,updateTemplateLists:()=>[],updateAllTemplate:()=>[],updateMappingTemplatesInfo:()=>[],updateRefreshData:()=>null}),E=e=>{let{children:t}=e;const{authState:a,authService:c}=(0,l.rg)(),{globalBussinessUnit:m}=(0,b.d4)((e=>({globalBussinessUnit:e.globalBUandInstance.bu})),b.bN),u=new i.W,p=new r.D,h=(0,s.Zp)(),x=(0,s.zy)(),[g,v]=(0,n.useState)(null),[A,y]=(0,n.useState)(!1),[E,S]=(0,n.useState)(!1),[w,O]=(0,n.useState)(localStorage.getItem("bussinessUnit")||null),[C,P]=(0,n.useState)(!1),[M,D]=(0,n.useState)(null),[L,N]=(0,n.useState)([]),[_,R]=(0,n.useState)([]),[I,k]=(0,n.useState)([]),[B,F]=(0,n.useState)(!0),U=e=>{D(e)},W=e=>{N(e),R(e)},$=e=>{R(e),N(e)},V=e=>{k(e)},G=e=>{F(e)};return(0,n.useEffect)((()=>{g&&(null===I||void 0===I?void 0:I.length)<=1&&a&&a.isAuthenticated&&(G(!0),u.getAlltemplateMappings().then((e=>{var t,a,n,l;V(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),W(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.templateList),U(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.bulist),$(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.templateList),G(!1)}))),a&&a.isAuthenticated&&c&&c.getAccessToken().then((e=>{console.log("Access Token: ",e)}))}),[a,c,g]),(0,n.useEffect)((()=>{null!==a&&void 0!==a&&a.isAuthenticated&&!g&&(S(!0),p.validateUser().then((e=>{var t;"error"===e.status?h("/accessDenied",{state:{userInfo:null===e||void 0===e?void 0:e.data[0],NotAuthorized:!0}}):null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.length&&(v(null===e||void 0===e?void 0:e.data[0]),S(!1))})).catch((e=>{S(!1),y(!0)})))}),[a]),(0,n.useEffect)((()=>{console.log(m,"=====globalBussinessUnit");const e=e=>{var t;if(null!==x&&void 0!==x&&null!==(t=x.pathname)&&void 0!==t&&t.includes("mcodetail"))return!1;const a=localStorage.getItem("bussinessUnit");console.log(w,"===localStorageBusinessUnit"),console.log(a,"===localStorageBusinessUnit 2"),a&&a!==w&&(P(!0),console.log(a,"===localStorageBusinessUnit 3"))};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}})),(0,j.jsxs)(T.Provider,{value:{isLoading:E,userDetails:g,bussinessUnit:w,bussinessUnitLists:M,templatesInfo:L,allTemplatesInfo:_,mappingTemplatesInfo:I,refreshData:B,updateBussinessUnit:e=>{O(e)},updateBussinessUnitLists:U,updateTemplateLists:W,updateAllTemplate:$,updateMappingTemplatesInfo:V,updateRefreshData:G},children:[null!==a&&void 0!==a&&a.isAuthenticated?(0,j.jsx)(j.Fragment,{children:A?(0,j.jsx)(d.A,{}):(0,j.jsx)(j.Fragment,{children:g&&!E?t:(0,j.jsx)("div",{style:{textAlign:"center",position:"absolute",width:"100%",top:"50%"},children:(0,j.jsx)(o.A,{})})})}):t,C?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(f,{isBUModified:C,updateBUModifiedData:()=>{var e;if(null!==x&&void 0!==x&&null!==(e=x.pathname)&&void 0!==e&&e.includes("mcodetail"))window.location.reload();else{const e=localStorage.getItem("bussinessUnit");e&&O(e)}P(!1)}})}):null]})},S=T},31026:(e,t,a)=>{"use strict";a.d(t,{i:()=>g});var n=a(16096),l=a(63708),s=a(26814);const i={isPageHavingIssue:!1,stepData:"Create",RSMEList:{},RMEList:{},responseData:{itemERPStatus:[]},affectedPartsData:[],exportAffectedPartsData:[],currentMcoDetails:null,isPropertyFormEdited:!1,isMaterialFormEdited:!1,selectedRowData:{},selectedRowFormdata:{},selectedRowIndex:null,templates:[],source:[],plants:[],materialData:[],masterData:{},templateMappingsInfo:[],ORGAllowedTemplateMappings:[],previousMcosDetails:[],mrDetails:[],massUpdateChanges:{},lifeCycleData:{},systemSetingsDetail:[],eachTemplateOptions:{},bulkPartTemplates:[],caRelatedEachMCODetails:{},allCaMCODetails:{},mcoSearchLists:{},showMaterialForm:!1,parentMCODetails:{},caLifeCycleData:{}},r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.iZ:return{...e,updatedRoutes:t.payload};case s.xW:return{...t.payload};case s.DT:case s.G2:return{...e,responseData:{...e.responseData,...t.payload}};case s.ud:return{...e,...t.payload};case s.hv:return{...e,allCaMCODetails:t.payload};case s.dH:return{...i,updatedRoutes:e.updatedRoutes};default:return{...e}}};const o=(0,a(39892).h)(),d={segment:(null===o||void 0===o?void 0:o.segment)||{},instanceType:(null===o||void 0===o?void 0:o.instanceType)||{}},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return(arguments.length>1?arguments[1]:void 0).type,{...e}};var m=a(77115);const u={bu:"",instance:"",systemName:""},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;return t.type===m.T?{...e,...t.payload}:{...e}},h=(0,n.HY)({mcoDetails:r,globalData:c,globalBUandInstance:p});a(62285);const x=[l.A];const g=(0,n.y$)(h,{},(0,n.Zz)((0,n.Tw)(...x),(e=>e)))},31949:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(65043),l=a(47290);const s=()=>(0,n.useContext)(l.A)},33004:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1009),l=a(31949),s=a(62050),i=a(92960);const r=e=>{const{settings:t}=(0,l.A)(),a=s.c[t.activeLayout];return(0,i.jsx)(n.lZ,{children:(0,i.jsx)(a,{...e})})}},33302:(e,t,a)=>{"use strict";a.d(t,{D:()=>o});var n=a(83271),l=a(81650),s=a(31026),i=a(26814),r=a(38740);class o{constructor(){this.getAllUsersList=()=>l.A.get(`${n.Sb}/users/getUsers`,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getUsers",e),[]))),this.addnewUser=e=>l.A.post(`${n.Sb}/users/addUser`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewUser",e),[]))),this.updateUser=e=>l.A.put(`${n.Sb}/users/updateUser`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateUser",e),[]))),this.deleteUser=e=>l.A.delete(`${n.Sb}/users/deleteUser`,{data:{ids:e}},n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting users:",e),e})),this.validateUser=()=>(console.log("validateUser called with URL:",`${n.Sb}/users/validateUser`),console.log("Headers being sent:",n.YX),l.A.get(`${n.Sb}/users/validateUser`,n.YX).then((e=>{if(console.log("validateUser response:",e),200===e.status)return console.log("validateUser success:",e.data),e.data;throw console.warn("validateUser unexpected status:",e.status),e.data})).catch((e=>{throw console.error("validateUser request failed:",e),s.i.dispatch((0,i.RY)({isPageHavingIssue:!0})),e}))),this.requestForAccess=e=>l.A.post(`${n.Sb}/users/requestForAccessApp`,{data:e},n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error requestForAccessApp users:",e),e})),this.importUser=e=>l.A.post(`${n.Sb}/users/bulkAddUser`,e,n.hh).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddUser",e),[]))),this.exportUser=e=>l.A.post(`${n.Sb}/users/bulkExportUser`,e,n.YX).then((async e=>{if(200===e.status){const a=`${n.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,r.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const n=await t.blob(),l=URL.createObjectURL(n),s=document.createElement("a");s.href=l,s.download=e.data.filePath.replace("downloads/",""),s.click(),URL.revokeObjectURL(l)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportTemplate:",e),e})),this.downloadSampleFile=e=>{window.open(`http://localhost:8086/users/bulkExportUser/${e}`)}}}},37576:(e,t,a)=>{"use strict";a.d(t,{Q:()=>i});var n=a(83271),l=a(81650),s=a(38740);class i{constructor(){this.getAllTemplateList=()=>l.A.get(`${n.Sb}/template/gettemplate`,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTemplateDetails",e),[]))),this.addnewTemplate=e=>l.A.post(`${n.Sb}/template/addTemplate`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.getTemplateById=e=>l.A.post(`${n.Sb}/template/getTemplateById`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTemplateById",e),[]))),this.updateTemplate=e=>l.A.put(`${n.Sb}/template/updateTemplate`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.deleteTemplate=e=>l.A.delete(`${n.Sb}/template/deleteTemplate`,{data:{ids:e}},n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting plant:",e),e})),this.importTemplate=e=>l.A.post(`${n.Sb}/template/bulkAddTemplate`,e,n.hh).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddTemplate",e),[]))),this.exportTemplate=e=>l.A.post(`${n.Sb}/newtemplateMappings/bulkExportTemplate`,e,n.YX).then((async e=>{if(200===e.status){const a=`${n.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,s.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const n=await t.blob(),l=URL.createObjectURL(n),i=document.createElement("a");i.href=l,i.download=e.data.filePath.replace("downloads/",""),i.click(),URL.revokeObjectURL(l)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportTemplate:",e),e})),this.downloadSampleFile=e=>{window.open(`${n.Sb}/${e}`)}}}},38740:(e,t,a)=>{"use strict";a.d(t,{H:()=>i});var n=a(83662),l=a.n(n),s=a(26382);const i=()=>{var e,t,a,n;const i=window.localStorage.getItem("okta-token-storage");if(!i)return console.error("Token storage item not found"),null;const r=JSON.parse(i),o=null===r||void 0===r||null===(e=r.accessToken)||void 0===e?void 0:e.accessToken,d=null===r||void 0===r||null===(t=r.accessToken)||void 0===t||null===(a=t.claims)||void 0===a?void 0:a.uid,c=null===r||void 0===r||null===(n=r.idToken)||void 0===n?void 0:n.claims;if(!o||!c)return console.error("Access token or userinfo not found in token storage item"),null;const m={exp:Math.floor(Date.now()/1e3)+3600,data:{accessToken:o,userinfo:{username:null===c||void 0===c?void 0:c.name,email:null===c||void 0===c?void 0:c.email,uid:d}}};let u=null;try{window.Buffer=s.Buffer,u=l().encode(m,"EMRPRoDucTDaTa","HS512")}catch(p){return console.error("Error encoding JWT:",p),null}return u}},39787:(e,t,a)=>{"use strict";a.d(t,{FX:()=>s,MZ:()=>l,UE:()=>r,fb:()=>i,zs:()=>n});const n=e=>{if(e.match("rgba")){return e.slice(5).split(",").slice(0,-1).join(",")}let t;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return t=e.substring(1).split(""),3===t.length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),[t>>16&255,t>>8&255,255&t].join(",")};function l(){const e=window.crypto||window.msCrypto;let t=new Uint32Array(1);e.getRandomValues(t);return t[0]}const s=e=>{let t=[],a=[];return e.map((e=>{if(e.name){const a=e.name.match(/<div>.*?<\/div>/g)||[];t=a.sort(((e,t)=>{const a=e.replace(/<div>|<\/div>/g,"").toUpperCase(),n=t.replace(/<div>|<\/div>/g,"").toUpperCase();return a.localeCompare(n)}))}if(e.MVO_TEMPLATE_TO){const t=e.MVO_TEMPLATE_TO.match(/<div>.*?<\/div>/g)||[];a=t.sort(((e,t)=>{const a=e.replace(/<div>|<\/div>/g,"").toUpperCase(),n=t.replace(/<div>|<\/div>/g,"").toUpperCase();return a.localeCompare(n)}))}return{...e,name:t.join(""),MVO_TEMPLATE_TO:a.join("")}}))};function i(e){function t(e){return{Entity:e.Entity,...Object.fromEntries(Object.entries(e).filter((e=>{let[t]=e;return"Entity"!==t})).sort(((e,t)=>e[1].localeCompare(t[1]))))}}const a=e.find((e=>"PlantGroup"===e.Entity)),n=a?t(a):null,l=e.filter((e=>"PlantGroup"!==e.Entity)).map(t).sort(((e,t)=>e.Entity.localeCompare(t.Entity)));return n?[n,...l]:l}const r=(e,t)=>e.localeCompare(t,void 0,{sensitivity:"base"})},39892:(e,t,a)=>{"use strict";a.d(t,{h:()=>n});const n=()=>{const e=window.location.pathname;let t="";if("/"===e)return{segment:e,instanceType:t};if(e.includes("login"))return{segment:"/",instanceType:t};let a=e.split("/");a=a.filter((e=>""!==e));let n="/";if(a.length>1)"Cloud"!==a[1]&&"onPrem"!==a[1]||"Dev"===a[0]&&(t=a[1],n=a[0]+"/");else if(1===a.length&&"Dev"===a[0])return{segment:"/",instanceType:t};return{segment:n,instanceType:t}}},42895:(e,t,a)=>{"use strict";a.d(t,{D:()=>s});var n=a(83271),l=a(81650);class s{constructor(){this.getAllBuList=()=>l.A.get(`${n.Sb}/bu/getBusinessUnit`,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getAllBuList",e),[]))),this.getBusinessUnitbyid=e=>l.A.post(`${n.Sb}/bu/getBusinessUnitbyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getBusinessUnitbyid",e),[]))),this.addnewBU=e=>l.A.post(`${n.Sb}/bu/addBusinessUnit`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewBU",e),[]))),this.updateBU=e=>l.A.put(`${n.Sb}/bu/updateBusinessUnit`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateBU",e),[]))),this.deleteBU=e=>l.A.delete(`${n.Sb}/bu/deleteBusinessUnit`,{data:{ids:e}},n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting bu:",e),e}))}}},45212:(e,t,a)=>{"use strict";a.d(t,{k:()=>s,p:()=>i});const n={primary:"rgba(52, 49, 76, 1)",secondary:"rgba(52, 49, 76, 0.54)",disabled:"rgba(52, 49, 76, 0.38)",hint:"rgba(52, 49, 76, 0.38)"},l={main:"#FF3D57"},s={whitePurple:{palette:{type:"light",primary:{main:"#ffffff",contrastText:n.primary},secondary:{main:"#7467ef",contrastText:"#ffffff"},error:l,text:n}},whiteBlue:{palette:{type:"light",primary:{main:"#ffffff",contrastText:n.primary},secondary:{main:"#1976d2",contrastText:"#ffffff"},text:n}},slateDark1:{palette:{type:"dark",primary:{main:"#005686",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:n.primary},error:l,background:{paper:"#222A45",default:"#1a2038"}}},slateDark2:{palette:{type:"dark",primary:{main:"#1a2038",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:n.primary},error:l,background:{paper:"#222A45",default:"#1a2038"}}},purple1:{palette:{type:"light",primary:{main:"#7467ef",contrastText:"#ffffff"},secondary:{light:"#f9a352",main:"#ff9e43",dark:"#ff932e",contrastText:n.primary},error:l,text:n}},purple2:{palette:{type:"light",primary:{main:"#6a75c9",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:n.primary},error:l,text:n}},purpleDark1:{palette:{type:"dark",primary:{main:"#7467ef",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:n.primary},error:l,background:{paper:"#222A45",default:"#1a2038"}}},purpleDark2:{palette:{type:"dark",primary:{main:"#6a75c9",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:n.primary},error:l,background:{paper:"#222A45",default:"#1a2038"}}},blue:{palette:{type:"light",primary:{main:"#1976d2",contrastText:"#ffffff"},secondary:{main:"#FFAF38",contrastText:n.primary},error:l,text:n}},blueDark:{palette:{type:"dark",primary:{main:"#1976d2",contrastText:"#ffffff"},secondary:{main:"#FF4F30",contrastText:n.primary},error:l,background:{paper:"#222A45",default:"#1a2038"}}},red:{palette:{type:"dark",primary:{main:"#e53935",contrastText:"#ffffff"},secondary:{main:"#FFAF38",contrastText:n.primary},error:l}}},i=["none","0px 2px 1px -1px rgba(0, 0, 0, 0.06),0px 1px 1px 0px rgba(0, 0, 0, 0.042),0px 1px 3px 0px rgba(0, 0, 0, 0.036)","0px 3px 1px -2px rgba(0, 0, 0, 0.06),0px 2px 2px 0px rgba(0, 0, 0, 0.042),0px 1px 5px 0px rgba(0, 0, 0, 0.036)","0px 3px 3px -2px rgba(0, 0, 0, 0.06),0px 3px 4px 0px rgba(0, 0, 0, 0.042),0px 1px 8px 0px rgba(0, 0, 0, 0.036)","0px 2px 4px -1px rgba(0, 0, 0, 0.06),0px 4px 5px 0px rgba(0, 0, 0, 0.042),0px 1px 10px 0px rgba(0, 0, 0, 0.036)","0px 3px 5px -1px rgba(0, 0, 0, 0.06),0px 5px 8px 0px rgba(0, 0, 0, 0.042),0px 1px 14px 0px rgba(0, 0, 0, 0.036)","0px 3px 5px -1px rgba(0, 0, 0, 0.06),0px 6px 10px 0px rgba(0, 0, 0, 0.042),0px 1px 18px 0px rgba(0, 0, 0, 0.036)","0px 4px 5px -2px rgba(0, 0, 0, 0.06),0px 7px 10px 1px rgba(0, 0, 0, 0.042),0px 2px 16px 1px rgba(0, 0, 0, 0.036)","0px 5px 5px -3px rgba(0, 0, 0, 0.06),0px 8px 10px 1px rgba(0, 0, 0, 0.042),0px 3px 14px 2px rgba(0, 0, 0, 0.036)","0px 5px 6px -3px rgba(0, 0, 0, 0.06),0px 9px 12px 1px rgba(0, 0, 0, 0.042),0px 3px 16px 2px rgba(0, 0, 0, 0.036)","0px 6px 6px -3px rgba(0, 0, 0, 0.06),0px 10px 14px 1px rgba(0, 0, 0, 0.042),0px 4px 18px 3px rgba(0, 0, 0, 0.036)","0px 6px 7px -4px rgba(0, 0, 0, 0.06),0px 11px 15px 1px rgba(0, 0, 0, 0.042),0px 4px 20px 3px rgba(0, 0, 0, 0.036)","0px 7px 8px -4px rgba(0, 0, 0, 0.06),0px 12px 17px 2px rgba(0, 0, 0, 0.042),0px 5px 22px 4px rgba(0, 0, 0, 0.036)","0px 7px 8px -4px rgba(0, 0, 0, 0.06),0px 13px 19px 2px rgba(0, 0, 0, 0.042),0px 5px 24px 4px rgba(0, 0, 0, 0.036)","0px 7px 9px -4px rgba(0, 0, 0, 0.06),0px 14px 21px 2px rgba(0, 0, 0, 0.042),0px 5px 26px 4px rgba(0, 0, 0, 0.036)","0px 8px 9px -5px rgba(0, 0, 0, 0.06),0px 15px 22px 2px rgba(0, 0, 0, 0.042),0px 6px 28px 5px rgba(0, 0, 0, 0.036)","0px 8px 10px -5px rgba(0, 0, 0, 0.06),0px 16px 24px 2px rgba(0, 0, 0, 0.042),0px 6px 30px 5px rgba(0, 0, 0, 0.036)","0px 8px 11px -5px rgba(0, 0, 0, 0.06),0px 17px 26px 2px rgba(0, 0, 0, 0.042),0px 6px 32px 5px rgba(0, 0, 0, 0.036)","0px 9px 11px -5px rgba(0, 0, 0, 0.06),0px 18px 28px 2px rgba(0, 0, 0, 0.042),0px 7px 34px 6px rgba(0, 0, 0, 0.036)","0px 9px 12px -6px rgba(0, 0, 0, 0.06),0px 19px 29px 2px rgba(0, 0, 0, 0.042),0px 7px 36px 6px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)"]},47290:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p,A:()=>h});var n=a(65043),l=a(53536),s=a(73188),i=a(45212),r=a(64851);const o={MuiTable:{styleOverrides:{root:{tableLayout:"fixed"}}},MuiTableCell:{styleOverrides:{head:{fontSize:"13px",padding:"12px 0px"},root:{fontSize:"14px",whiteSpace:"pre-wrap",wordBreak:"break-all",padding:"12px 8px 12px 0px"}}},MUIDataTableSelectCell:{styleOverrides:{root:{paddingLeft:12}}},MUIDataTableHeadCell:{styleOverrides:{root:{paddingLeft:16}}},MUIDataTableBodyCell:{styleOverrides:{root:{paddingLeft:8}}},MuiButton:{styleOverrides:{root:{fontSize:"12px",textTransform:"none",fontWeight:"400"},contained:{boxShadow:i.p[8]}}},MuiCssBaseline:{styleOverrides:{"*":{boxSizing:"border-box"},html:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",height:"100%",width:"100%"},body:{height:"100%"},a:{textDecoration:"none",color:"inherit"},"#root":{height:"100%"},"#nprogress .bar":{zIndex:"2000 !important"}}},MuiFab:{styleOverrides:{root:{boxShadow:i.p[12]}}},MuiAccordion:{styleOverrides:{root:{"&:before":{display:"none"}}}},MuiTooltip:{styleOverrides:{tooltip:{fontSize:"11px"}}},MuiMenuItem:{styleOverrides:{root:{fontSize:"0.875rem"}}},MuiExpansionPanel:{styleOverrides:{root:{"&:before":{display:"none"}}}},MuiCard:{styleOverrides:{root:{borderRadius:"8px",boxShadow:"0px 3px 3px -2px rgb(0 0 0 / 6%), 0px 3px 4px 0px rgb(0 0 0 / 4%), 0px 1px 8px 0px rgb(0 0 0 / 4%) !important"}}}},d={typography:{fontSize:14,body1:{fontSize:"14px"}},status:{danger:r.A[500]},components:{...o}};const c={activeLayout:"layout1",activeTheme:"blue",perfectScrollbar:!0,themes:function(){let e={};return(0,l.forEach)(i.k,((t,a)=>{e[a]=(0,s.A)((0,l.merge)({},d,t))})),e}(),layout1Settings:{leftSidebar:{show:!0,mode:"full",theme:"slateDark1",bgimgurl:"/assets/images/sidebar/sidebar-bg-dark.jpg"},topbar:{show:!0,fixed:!0,theme:"whiteBlue"}},secondarySidebar:{show:!0,open:!1,theme:"slateDark1"},footer:{show:!0,fixed:!1,theme:"slateDark1"}};var m=a(92960);const u=(0,n.createContext)({settings:c,updateSettings:()=>{}}),p=e=>{let{settings:t,children:a}=e;const[s,i]=(0,n.useState)(t||c),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,l.merge)({},s,e);i(t)},o=(0,n.useMemo)((()=>({settings:s,updateSettings:r})),[s]);return(0,m.jsx)(u.Provider,{value:o,children:a})},h=u},47790:()=>{},50195:(e,t,a)=>{"use strict";a.d(t,{bV:()=>s,eb:()=>i,hw:()=>n,t$:()=>l});const n=(e,t)=>{let a=e;return t.forEach(((e,t)=>{var n;const l=new RegExp(`\\{${t}\\}`,"g");a=null===(n=a)||void 0===n?void 0:n.replace(l,e)})),a},l=(e,t)=>Array.isArray(e)?e.sort(((e,a)=>{const n=void 0!==e[t]?e[t].toString().toLowerCase():"",l=void 0!==a[t]?a[t].toString().toLowerCase():"";return isNaN(n)||isNaN(l)?n<l?-1:n>l?1:0:parseFloat(n)-parseFloat(l)})):(console.error("Invalid data: Expected an array"),[]),s=(e,t)=>e.sort(((e,a)=>{const n=e.details[t]||"",l=a.details[t]||"";return n.toLowerCase().localeCompare(l.toLowerCase())})),i=e=>e.sort(((e,t)=>{const a=e.label?e.label.toLowerCase():"",n=t.label?t.label.toLowerCase():"";return a.localeCompare(n)}))},51069:()=>{},62050:(e,t,a)=>{"use strict";a.d(t,{c:()=>n});const n={layout1:a(65043).lazy((()=>Promise.all([a.e(1),a.e(858)]).then(a.bind(a,36949))))}},63779:()=>{},64688:()=>{},66089:()=>{},66578:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(65043),l=a(12220),s=a(81637),i=a(92960);function r(e){const[t,a]=n.useState(!1);return(0,n.useEffect)((()=>{a(e.show)}),[e.show]),(0,i.jsx)("div",{children:(0,i.jsx)(l.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:t,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{textAlign:"center"},children:(0,i.jsx)(s.A,{color:"inherit",style:{zIndex:9999}})}),(0,i.jsx)("div",{children:"Please wait..."})]})})})}},67986:(e,t,a)=>{"use strict";a.d(t,{c:()=>s});var n=a(83271),l=a(81650);class s{constructor(){this.getAllsystemSetupList=()=>l.A.get(`${n.Sb}/systemSettings/getSystemSettings`,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getSystemSettings",e),[]))),this.getSystemSettingsbyid=e=>l.A.post(`${n.Sb}/systemSettings/getSystemSettingsbyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getSystemSettings",e),[]))),this.addSystemSettings=e=>l.A.post(`${n.Sb}/systemSettings/addSystemSettings`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewSystemSettings",e),[]))),this.updateSystemSettings=e=>l.A.put(`${n.Sb}/systemSettings/updateSystemSettings`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateSystemSettings",e),[]))),this.deleteSystemSettings=e=>l.A.delete(`${n.Sb}/systemSettings/deleteSystemSettings`,{data:e},n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting SystemSettings:",e),e}))}}},73776:()=>{},76987:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(40794),l=a(67254),s=a(40490),i=a(92960);const r=e=>{let{openAlert:t,openDesc:a,setOpenAlert:r}=e;const o="center";return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.A,{anchorOrigin:{vertical:"top",horizontal:o},open:t,onClose:(e,t)=>{"clickaway"!==t&&r(!1)},sx:{top:"70px!important"},children:(0,i.jsxs)(l.A,{onClose:(e,t)=>{"clickaway"!==t&&r(!1)},severity:a.severity,sx:{width:"100%",maxHeight:"calc(100vh - 100px)"},children:["success"===a.severity?(0,i.jsx)(s.A,{children:"Success"}):(0,i.jsx)(i.Fragment,{}),"warning"===a.severity?(0,i.jsx)(s.A,{children:"Warning"}):(0,i.jsx)(i.Fragment,{}),"error"===a.severity?(0,i.jsx)(s.A,{children:"Error"}):(0,i.jsx)(i.Fragment,{}),"validationcheck"===(null===a||void 0===a?void 0:a.type)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{fontWeight:"bold"},children:"Please verify the below items."}),(0,i.jsx)("ul",{children:a.desc})]}):(0,i.jsx)(i.Fragment,{children:a.desc})]})},"top"+o)})}},77115:(e,t,a)=>{"use strict";a.d(t,{T:()=>n,o:()=>l});const n="GET_BU_AND_INSTANSE",l=e=>async t=>{try{console.log(e,"updateGlobalBUandInstance data"),t({type:n,payload:e})}catch(a){console.error(a)}}},77199:()=>{},77965:()=>{},78982:()=>{},79368:()=>{},79838:()=>{},81650:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(86213),l=a(38740);const s=n.A.create();s.interceptors.request.use((e=>(e.headers.Authorization="Bearer "+(0,l.H)(),e)),(e=>Promise.reject(e))),s.interceptors.response.use((e=>e),(e=>{var t;return console.error("Error response:",e.response),Promise.reject((null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)||"Something went wrong!")}));const i=s},81807:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(40794),l=a(67254),s=a(40490),i=a(92960);const r=e=>{let{openAlert:t,openDesc:a,setOpenAlert:r}=e;const o="center";return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.A,{anchorOrigin:{vertical:"top",horizontal:o},open:t,onClose:(e,t)=>{"clickaway"!==t&&r(!1)},sx:{top:"70px!important"},children:(0,i.jsxs)(l.A,{onClose:(e,t)=>{"clickaway"!==t&&r(!1)},severity:a.severity,sx:{width:"100%",maxHeight:"calc(100vh - 100px)"},children:["success"===a.severity?(0,i.jsx)(s.A,{children:"Success"}):(0,i.jsx)(i.Fragment,{}),"warning"===a.severity?(0,i.jsx)(s.A,{children:"Warning"}):(0,i.jsx)(i.Fragment,{}),"error"===a.severity?(0,i.jsx)(s.A,{children:"Error"}):(0,i.jsx)(i.Fragment,{}),"validationcheck"===(null===a||void 0===a?void 0:a.type)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{fontWeight:"bold"},children:"Please verify the below items."}),(0,i.jsx)("ul",{children:a.desc})]}):(0,i.jsx)(i.Fragment,{children:a.desc})]})},"top"+o)})}},83051:(e,t,a)=>{"use strict";a.d(t,{i:()=>s});var n=a(83271),l=a(81650);class s{constructor(){this.massUpdatePartDescription=e=>l.A.post(`${n.Sb}/massUpdate/massUpdatePartDescription`,e,n.hh).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddTemplate",e),[]))),this.getMyReport=e=>l.A.get(`${n.Sb}/massUpdate/myReport`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("myReport",e),[]))),this.deleteReport=e=>l.A.delete(`${n.Sb}/massUpdate/deleteMyReport`,{data:{ids:e}},n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting bu:",e),e})),this.downloadSampleFile=e=>{window.open(`${n.Sb}/${e}`)}}}},83271:(e,t,a)=>{"use strict";a.d(t,{By:()=>l,CE:()=>i,Hs:()=>s,Sb:()=>n,W7:()=>p,YX:()=>m,hh:()=>u,ij:()=>c,w7:()=>r,yf:()=>o});const n="https://emr-product-datahub-server-qa.azurewebsites.net",l="0oaok0vsqjk0VzGhj5d7",s="https://dev-17215060.okta.com/oauth2/default",i="https://dev-17215060.okta.com",r="https://3dxr21x-u1.emrsn.org:8081/plmws/api",o="https://3dxr21x-u1.emrsn.org:8081/plmws/api",d="PLM-API-KEY",c="https://emr-product-datahub-server-qa.azurewebsites.net",m={headers:{"Content-Type":"application/json"}},u={headers:{"content-type":"multipart/form-data; boundary=-------842470573919341855553902"}},p={headers:{"Content-Type":"application/json",[d]:"2644d-d0bp-42b04-77y65"}}},88270:(e,t,a)=>{"use strict";a.d(t,{W:()=>i});var n=a(83271),l=a(81650),s=a(38740);class i{constructor(){this.getAlltemplateMappings=()=>l.A.get(`${n.Sb}/newtemplateMappings/getTemplateMappings`,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTeamplateMappings",e),[]))),this.deleteTemplateMapping=e=>l.A.delete(`${n.Sb}/newtemplateMappings/deleteTemplateMappings/${e}`,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting deleteTemplateMappings:",e),e})),this.addnewTemplateMapping=e=>l.A.post(`${n.Sb}/newtemplateMappings/addTemplateMappings`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addTemplateMappings",e),[]))),this.updateTemplateMapping=e=>l.A.put(`${n.Sb}/newtemplateMappings/updateTemplateMappings`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateTemplateMappings",e),[]))),this.importTemplate=e=>l.A.post(`${n.Sb}/newtemplateMappings/bulkAddTemplate`,e,n.hh).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddTemplate",e),[]))),this.downloadSampleFile=e=>{window.open(`${n.Sb}/${e}`)},this.exportAllTemplateMapping=e=>l.A.post(`${n.Sb}/newtemplateMappings/exportAllTemplateMapping`,e,n.YX).then((async e=>{if(200===e.status){const a=`${n.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,s.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const n=await t.blob(),l=URL.createObjectURL(n),i=document.createElement("a");i.href=l,i.download=e.data.filePath,i.click(),URL.revokeObjectURL(l)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportAllData:",e),e})),this.exportAllAdminGeneralProperties=e=>l.A.post(`${n.Sb}/newtemplateMappings/exportAllAdminGeneralProperties`,e,n.YX).then((async e=>{if(200===e.status){const a=`${n.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,s.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const n=await t.blob(),l=URL.createObjectURL(n),i=document.createElement("a");i.href=l,i.download=e.data.filePath,i.click(),URL.revokeObjectURL(l)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportAllData:",e),e})),this.exportAllAdminSystemSetups=e=>l.A.post(`${n.Sb}/newtemplateMappings/exportAllAdminSystemSetups`,e,n.YX).then((async e=>{if(200===e.status){const a=`${n.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,s.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const n=await t.blob(),l=URL.createObjectURL(n),i=document.createElement("a");i.href=l,i.download=e.data.filePath,i.click(),URL.revokeObjectURL(l)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportAllData:",e),e}))}}},88722:(e,t,a)=>{"use strict";a.d(t,{Ch:()=>s,EP:()=>p,FD:()=>o,HW:()=>m,PV:()=>d,Qy:()=>l,bf:()=>c,h4:()=>u,oX:()=>r,sd:()=>i});var n=a(50195);const l=[{value:"Micro Motion",label:"Micro Motion"},{value:"Daniel",label:"Daniel"},{value:"EPM brazil",label:"EPM brazil"},{value:"Poly Oil",label:"Poly Oil"},{value:"Rosemount Flow",label:"Rosemount Flow"},{value:"Roxar",label:"Roxar"},{value:"Rosemount Measurement",label:"Rosemount Measurement"},{value:"Flow Assurance",label:"Flow Assurance"},{value:"Flow Systems",label:"Flow Systems"},{value:"Ultrasonic",label:"Ultrasonic"},{value:"Metran Flow",label:"Metran Flow"},{value:"Flow Control Valves",label:"Flow Control Valves"},{value:"Biffi Morin",label:"Biffi Morin"},{value:"DP Flow",label:"DP Flow"},{value:"Magtech",label:"Magtech"},{value:"Keystone Butterfly Valves",label:"Keystone Butterfly Valves"}],s=[{value:"1",label:"Production"},{value:"2",label:"Engineering/Design"},{value:"3",label:"Universal"},{value:"4",label:"Plant maintenance"},{value:"5",label:"Sales and Distribution"},{value:"6",label:"Costing"},{value:"7",label:"Empties"},{value:"8",label:"Stability study"},{value:"M",label:"External Munitions Display "},{value:"Z",label:"Planning BOM"}],i=[{value:"ORACLE",label:"ORACLE"},{value:"JDE",label:"JDE"},{value:"SAP",label:"SAP"}],r=(0,n.eb)([{value:"BETSYD10",label:"betsyD10"},{value:"D01",label:"D01"},{value:"D03",label:"D03"},{value:"ED1",label:"ED1"},{value:"EP1",label:"EP1"},{value:"P01",label:"P01"},{value:"P03",label:"P03"}]),o=[{value:"Y",label:"Yes"},{value:"N",label:"No"}],d=[{value:"Y",label:"Yes"},{value:"N",label:"No"}],c=["admin","Everyone","Guest"],m=[{value:"Y",label:"Yes"},{value:"N",label:"No"}],u=[{value:"Y",label:"Yes"},{value:"N",label:"No"}],p=(0,n.eb)([{value:"onPrem",label:"onPrem"},{value:"SaaS",label:"SaaS"}])},89454:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});a(65043);var n=a(68903),l=a(11906),s=a(1009),i=a(92960);const r=()=>(0,i.jsx)(s.Tn,{children:(0,i.jsx)(n.Ay,{container:!0,spacing:3,alignItems:"center",style:{position:"relative"},children:(0,i.jsxs)(n.Ay,{item:!0,md:12,sm:12,xs:12,style:{textAlign:"center"},children:["Something went wrong! Please inform to administrator or reload the page.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(l.A,{variant:"contained",onClick:()=>window.location.reload(),children:"Reload"})]})})})},90270:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Al});var n=a(65043),l=a(84391),s=a(5137),i=a(73216),r=a(77259),o=a(81640),d=a(83271);const c=()=>{const e=new URLSearchParams(window.location.search).get("uwaUrl");return e||window.location.origin+"/login/callback"},m=d.By,u=d.Hs,p=d.CE,h={ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\jatin.khanna\\AppData\\Roaming",BABEL_ENV:"production",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133435626024204989",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_15120_QQEDDQSZPMLSTDJP",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"SLKBGENHR90WOTL",ComSpec:"C:\\Windows\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\Windows\\notepad.exe",EFC_7132:"1",ERLANG_HOME:"C:\\Program Files\\Erlang OTP",GIT_ASKPASS:"c:\\Users\\jatin.khanna\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\jatin.khanna",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\jatin.khanna",IGCCSVC_DB:"AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAAhpY15cIrgUGhfPr9m0/cqQQAAAACAAAAAAAQZgAAAAEAACAAAACDm9WX6ccp5qHz2rRg9r2okUiwn1ir1umyFnKBm38U3gAAAAAOgAAAAAIAACAAAAA0OhJspNQ/1pnb7/7SgDq+Ruw13Z+gUjE7TscP/DzSRWAAAAAMIMeirFk4M4XK61WSkxxU6R29P5cHsDn6liYeOwMGKPBsmfXYHXwYvm7m75hIHYsXgVceEXIn913RYmBdymcEvw8bysZ2CEiRWIG5NlaBTYRJ9ygjjQcNKCogXKiknCBAAAAA9QodLRhU5+YQFSZYhaMgEdqdJ8MS/U8P0R5vJmZaH4fUdhpfvVwIH+6iOzSdo1q1JGh63Zs2dB9rhuhcP465lQ==",INIT_CWD:"C:\\SLK\\EMRPDH-SaaS-Client-Widget",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\jatin.khanna\\AppData\\Local",LOGONSERVER:"\\\\SLKBGENHR90WOTL",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NODE_PATH:"",NPM_CLI_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\jatin.khanna\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\jatin.khanna\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\jatin.khanna\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\jatin.khanna\\.npm-init.js",npm_config_local_prefix:"C:\\SLK\\EMRPDH-SaaS-Client-Widget",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_prefix:"C:\\Users\\jatin.khanna\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\jatin.khanna\\.npmrc",npm_config_user_agent:"npm/9.6.7 node/v18.17.1 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"react-app-rewired build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\SLK\\EMRPDH-SaaS-Client-Widget\\package.json",npm_package_name:"erp_product_hub",npm_package_version:"1.0.0",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\jatin.khanna\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"12",OneDrive:"C:\\Users\\jatin.khanna\\OneDrive - SLK Software Pvt Ltd",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\SLK\\EMRPDH-SaaS-Client-Widget\\node_modules\\.bin;C:\\SLK\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\WindowsPowerShell\\Scripts;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\ProgramData\\DockerDesktop\\version-bin;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\Microsoft SQL Server\\150\\DTS\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\150\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn\\;C:\\Program Files\\dotnet\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn\\;C:\\Program Files\\Azure Data Studio\\bin;C:\\Users\\jatin.khanna\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\jatin.khanna\\AppData\\Roaming\\npm;C:\\Users\\jatin.khanna\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\jatin.khanna\\.dotnet\\tools;C:\\Users\\jatin.khanna\\AppData\\Local\\Programs\\Git\\cmd;C:\\Users\\jatin.khanna\\flutter\\bin;",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 154 Stepping 4, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9a04",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\jatin.khanna\\OneDrive - SLK Software Pvt Ltd\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules;C:\\Program Files (x86)\\Microsoft Azure Information Protection\\Powershell",PUBLIC:"C:\\Users\\Public",QIP7132:"0",REACT_APP_EMRPDH_OKTA_CLIENT_ID:"0oaok0vsqjk0VzGhj5d7",REACT_APP_EMRPDH_OKTA_DOMAIN:"https://dev-17215060.okta.com",REACT_APP_EMRPDH_OKTA_ISSUER:"https://dev-17215060.okta.com/oauth2/default",REACT_APP_ENOVIA_API_URL:"https://3dxr21x-u1.emrsn.org:8081/plmws/api",REACT_APP_ENOVIA_CLOUD_API_URL:"https://3dxr21x-u1.emrsn.org:8081/plmws/api",REACT_APP_PLM_API_KEY:"PLM-API-KEY",REACT_APP_PLM_API_KEY_VALUE:"2644d-d0bp-42b04-77y65",REACT_APP_PRO_MODE:"https://emr-product-datahub-server-qa.azurewebsites.net",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\JATIN~1.KHA\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.99.3",TMP:"C:\\Users\\JATIN~1.KHA\\AppData\\Local\\Temp",USERDNSDOMAIN:"SLKSOFTWARE.AD",USERDOMAIN:"SLKSOFTWARE",USERDOMAIN_ROAMINGPROFILE:"SLKSOFTWARE",USERNAME:"jatin.khanna",USERPROFILE:"C:\\Users\\jatin.khanna",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\jatin.khanna\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\jatin.khanna\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-4f7fe03c90-sock",VSCODE_INJECTION:"1",VSCODE_NONCE:"06e058e5-e800-48db-a0d4-4507e68daa4d",VSCODE_STABLE:"1",windir:"C:\\Windows",ZES_ENABLE_SYSMAN:"1"}.OKTA_TESTING_DISABLEHTTPSCHECK||!1,x=c();console.log("dfrgthyju",x);const g={oidc:{clientId:m,issuer:u,redirectUri:x,scopes:["openid","profile","email"],pkce:!0,disableHttpsCheck:h,domain:p},resourceServer:{messagesUrl:`${window.location.origin}`}};var v=a(31026),A=(a(87070),a(1009)),j=a(92960);const y={isAuthenticated:!1,isInitialised:!1,user:null},f=()=>{const{authState:e,oktaAuth:t}=(0,o.rg)();return(0,n.useEffect)((()=>{if(e&&(null===e||void 0===e||!e.isAuthenticated)){const e=(0,r.Bcr)(window.location.href,window.location.origin);t.setOriginalUri(e),(async()=>{try{const e=c();await t.signInWithRedirect({redirectUri:e})}catch(e){"AuthApiError"===e.name?console.error("Authentication failed:",e.message):console.error("An unexpected error occurred:",e)}})()}}),[t,null===e||void 0===e?void 0:e.isAuthenticated]),e&&null!==e&&void 0!==e&&e.isAuthenticated?(0,j.jsx)(i.sv,{}):null},b=e=>{let{children:t}=e;const{authState:a}=(0,o.rg)();let n=a&&a.isAuthenticated;return(0,j.jsx)(j.Fragment,{children:n?t:(0,j.jsx)(f,{})})};var T=a(34535),E=a(81e3),S=a(11906);const w=(0,T.Ay)(E.A)((()=>({display:"flex",alignItems:"center"}))),O=(0,T.Ay)(w)((()=>({maxWidth:320,flexDirection:"column",justifyContent:"center"}))),C=(0,T.Ay)("img")((()=>({width:"100%",marginBottom:"32px"}))),P=(0,T.Ay)(w)((()=>({width:"100%",alignItems:"center",justifyContent:"center",height:"100vh !important"}))),M=()=>{const e=(0,i.Zp)();return(0,j.jsx)(P,{children:(0,j.jsxs)(O,{children:[(0,j.jsx)(C,{src:"/assets/images/illustrations/404.svg",alt:""}),(0,j.jsx)(S.A,{color:"primary",variant:"contained",sx:{textTransform:"capitalize"},onClick:()=>e(-1),children:"Go Back"})]})})};var D=a(39892);const L=()=>{const e=(0,D.h)();return null!==e&&void 0!==e&&e.segment.startsWith("/")?null===e||void 0===e?void 0:e.segment:"/"+(null===e||void 0===e?void 0:e.segment)};var N=a(33302);const _={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#f8f9fa"},title:{fontSize:"2rem",color:"#333"},message:{fontSize:"1rem",color:"#666",textAlign:"center",marginTop:"10px"},button:{marginTop:"20px",padding:"10px 20px",fontSize:"1rem",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",transition:"background-color 0.3s ease",textDecoration:"none",outline:"none",":hover":{backgroundColor:"#0056b3"}}},R=()=>{var e,t,a,l,s;const r=new N.D,{authState:d,oktaAuth:c}=(0,o.rg)(),m=(0,i.Zp)(),u=(0,i.zy)(),p=void 0!==(null===(e=u.state)||void 0===e?void 0:e.userInfo)&&(null===(t=u.state)||void 0===t?void 0:t.userInfo),h=void 0!==(null===(a=u.state)||void 0===a?void 0:a.NotAuthorized)&&(null===(l=u.state)||void 0===l?void 0:l.NotAuthorized);console.log(null===(s=u.state)||void 0===s?void 0:s.NotAuthorized,"location.state?.NotAuthorized"),console.log(h,"NotAuthorized");const[x,g]=(0,n.useState)(!1),v=async()=>{try{d.isAuthenticated&&await c.signOut({postLogoutRedirectUri:window.location.origin})}catch(e){}};return(0,j.jsxs)("div",{style:_.container,children:[(0,j.jsx)("h1",{style:_.title,children:"Access Denied"}),h?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("p",{style:_.message,children:"Sorry, you don't have permission to access the application."}),(0,j.jsx)("p",{style:_.message,children:"To access the application Please request by click on the button below."}),(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{x||r.requestForAccess({userData:p}).then((e=>{g(!0),setTimeout((()=>{v()}),2e3)}))},children:"Request Access"})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("p",{style:_.message,children:"Sorry, you don't have permission to access the page."}),(0,j.jsx)(S.A,{variant:"contained",onClick:()=>m(L()+"/calist"),children:"Go to Home"})]})]})};var I=a(72221),k=a(37970),B=a(319);function F(e){let{isdisabled:t=!1,selectedvalue:a,defaultValue:l,onChangeFunc:s,style:i={},size:r}=e;const{bussinessUnitLists:o}=(0,B.A)();return(0,n.useEffect)((()=>{l&&s(l)}),[l]),(0,j.jsx)(I.A,{disabled:t,className:"form-control",defaultValue:l,value:a,onChange:e=>s(e.target.value),style:i,size:r||"medium",displayEmpty:!0,renderValue:e=>{var t;let a=[];return a=null===o||void 0===o?void 0:o.find((t=>t.businessUnit===e)),null!==(t=a)&&void 0!==t&&t.businessUnit?a.buName:""},children:null===o||void 0===o?void 0:o.map(((e,t)=>{const a="dpKey"+t;return(0,j.jsx)(k.A,{value:e.businessUnit,children:e.buName},a)}))})}var U=a(68903),W=a(88722);const $={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#f8f9fa"},title:{fontSize:"2rem",color:"#333"},message:{fontSize:"1rem",color:"#666",textAlign:"center",marginTop:"10px"},button:{marginTop:"20px",padding:"10px 20px",fontSize:"1rem",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",transition:"background-color 0.3s ease",textDecoration:"none",outline:"none",":hover":{backgroundColor:"#0056b3"}}},V=()=>{const e=(0,s.d4)((e=>e.globalBUandInstance)),[t,a]=(0,n.useState)(""),[l,i]=(0,n.useState)("");return(0,n.useEffect)((()=>{""!==e.bu&&a(e.bu),""!==e.instanse&&i(e.instanse)}),[]),(0,j.jsxs)("div",{style:$.container,children:[(0,j.jsx)("h1",{style:$.title,children:"Select RDO and Instance"}),(0,j.jsxs)(U.Ay,{container:!0,item:!0,md:6,sm:6,xs:12,className:"font-medium",style:{backgroundColor:"lightblue",padding:"20px"},children:[(0,j.jsxs)(U.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:[(0,j.jsx)("span",{children:"Design Organization:"}),(0,j.jsx)(F,{selectedvalue:t,style:{width:"50%"},defaultValue:t||"",onChangeFunc:e=>{a(e),console.log(e,"selectedOptionValue")}})]}),(0,j.jsxs)(U.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:[(0,j.jsx)("span",{children:"Select Instance:"}),(0,j.jsx)(I.A,{labelId:"Instance",id:"Instance",name:"Instance",fullWidth:!0,style:{width:"50%"},value:l||"",onChange:e=>{const{name:t,value:a}=e.target;"Instance"===t&&i(a)},children:W.EP.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})]})]})]})};var G=a(97753);const z=e=>t=>(0,j.jsx)(n.Suspense,{fallback:(0,j.jsx)(G.A,{}),children:(0,j.jsx)(e,{...t})}),H=z((0,n.lazy)((()=>a.e(977).then(a.bind(a,7977))))),Y=z((0,n.lazy)((()=>Promise.all([a.e(446),a.e(720),a.e(677),a.e(339)]).then(a.bind(a,73334))))),X=z((0,n.lazy)((()=>Promise.all([a.e(720),a.e(677),a.e(205)]).then(a.bind(a,4871))))),q=z((0,n.lazy)((()=>Promise.all([a.e(446),a.e(138),a.e(612),a.e(720),a.e(6)]).then(a.bind(a,78351))))),K=z((0,n.lazy)((()=>Promise.all([a.e(138),a.e(720),a.e(479)]).then(a.bind(a,97709))))),Q=z((0,n.lazy)((()=>a.e(767).then(a.bind(a,46767))))),Z=z((0,n.lazy)((()=>a.e(632).then(a.bind(a,4632))))),J=z((0,n.lazy)((()=>a.e(422).then(a.bind(a,88422))))),ee=[{path:"/calist",element:(0,j.jsx)(H,{})},{path:"/caDetails/:ca_id",element:(0,j.jsx)(Y,{})},{path:"/mcolist",element:(0,j.jsx)(X,{})},{path:"/mcodetail/:mco_id?",element:(0,j.jsx)(q,{})},{path:"/:mcoName/tracker",element:(0,j.jsx)(K,{})},{path:"/specCreationList",element:(0,j.jsx)(Q,{})},{path:"/obsoletePartList",element:(0,j.jsx)(Z,{})},{path:"/myreport",element:(0,j.jsx)(J,{})}];var te=a(33004);const ae=e=>{var t;let{children:a}=e;const{userDetails:n}=(0,B.A)(),{authState:l}=(0,o.rg)();return null!==l&&void 0!==l&&l.isAuthenticated&&null!==n&&void 0!==n&&null!==(t=n.userinfo)&&void 0!==t&&t.includes("admin")?a:(0,j.jsx)(i.C5,{to:"/accessDenied"})};var ne=a(35475),le=a(83462),se=a(29347),ie=a(35316),re=a(98533),oe=a(26600),de=a(66578),ce=a(15795),me=a(77739),ue=a(37576),pe=a(62954),he=a(36631),xe=a(71806),ge=a(84882),ve=a(28076),Ae=a(10039),je=a(18356),ye=a(82357),fe=a(73460),be=a(81807);a(83423);const Te=(0,T.Ay)(xe.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Ee=(0,T.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),Se=e=>{const{allTemplatesInfo:t,updateAllTemplate:a,bussinessUnitLists:l}=(0,B.A)(),s=new ue.Q,{importTemplate:i,setImportTemplate:r,setTemplateData:o,setIsLoading:d}=e,[c,m]=(0,n.useState)(!1),[u,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)(!1),[g,v]=(0,n.useState)(!1),[A,y]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[T,w]=(0,n.useState)(null),[O,C]=(0,n.useState)(null),[P,M]=(0,n.useState)({ERPType:[],instance:[],BU:[]}),[D,L]=(0,n.useState)(!1),[N,_]=(0,n.useState)(null),R=(e,t)=>{console.log(e,"==values ==",t),M((a=>({...a,[e]:"BU"===e?t:t.value}))),"ERPType"===e&&m(!1),"instance"===e&&p(!1),"BU"===e&&x(!1),console.info(P,"importSelectionValues")};return(0,n.useEffect)((()=>{}),[t]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(le.A,{open:i,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Import Template"}),(0,j.jsx)(ie.A,{children:(0,j.jsx)(re.A,{children:(0,j.jsx)(E.A,{width:"100%",overflow:"auto",children:(0,j.jsxs)(Te,{children:[(0,j.jsxs)(ge.A,{children:[(0,j.jsxs)(ve.A,{children:[(0,j.jsx)(Ae.A,{align:"left",children:(0,j.jsx)(je.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Design Organization"})}),(0,j.jsxs)(Ae.A,{align:"left",children:[(0,j.jsx)(ye.A,{style:{width:"70%"},multiple:!1,options:(e=>{const t=new Set;return null===l||void 0===l||l.forEach((a=>{t.add(a[e])})),Array.from(t)})("buName"),value:P.BU,onChange:(e,t)=>R("BU",t),renderValue:()=>null,renderInput:e=>(0,j.jsx)(ce.A,{...e,variant:"outlined",label:"Select RDO",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!1,disableClearable:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionSelected:(e,t)=>P.BU.includes(t),ChipProps:{style:{fontSize:"8px"}}}),h&&(0,j.jsx)("p",{style:{textAlign:"left",color:"red"},children:"please select Design Organization"})]})]}),(0,j.jsxs)(ve.A,{children:[(0,j.jsx)(Ae.A,{align:"left",children:(0,j.jsx)(je.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"ERP Type"})}),(0,j.jsxs)(Ae.A,{align:"right",children:[(0,j.jsx)(ye.A,{style:{width:"70%"},multiple:!1,options:W.sd,value:P.ERPType,onChange:(e,t)=>R("ERPType",t),renderValue:()=>null,renderInput:e=>(0,j.jsx)(ce.A,{...e,variant:"outlined",label:"Select ERP Type",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!1,disableClearable:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionSelected:(e,t)=>P.ERPType.includes(t),ChipProps:{style:{fontSize:"8px"}}}),c&&(0,j.jsx)("p",{style:{textAlign:"left",color:"red"},children:"please select ERP Type"})]})]}),(0,j.jsxs)(ve.A,{children:[(0,j.jsx)(Ae.A,{align:"left",children:(0,j.jsx)(je.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Instance"})}),(0,j.jsxs)(Ae.A,{align:"right",children:[(0,j.jsx)(ye.A,{style:{width:"70%"},multiple:!1,options:W.oX,value:P.instance,onChange:(e,t)=>R("instance",t),renderValue:()=>null,renderInput:e=>(0,j.jsx)(ce.A,{...e,variant:"outlined",label:"Select Instance",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!1,disableClearable:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionSelected:(e,t)=>P.instance.includes(t),ChipProps:{style:{fontSize:"8px"}}}),u&&(0,j.jsx)("p",{style:{textAlign:"left",color:"red"},children:"please select Instance"})]})]})]}),(0,j.jsxs)(fe.A,{children:[(0,j.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,j.jsxs)(S.A,{component:"label",variant:"contained",startIcon:(0,j.jsx)(pe.A,{}),children:["Upload file",(0,j.jsx)(Ee,{type:"file",name:"file",accept:".xls, .xlsx",onChange:e=>{const t=e.target.files[0];if(t){const a=t.name.split(".").pop();"xlsx"===a||"xls"===a?(w(e.target.files[0]),C(e.target.files[0].name),v(!1)):(v(!0),C(null),w(null))}else v(!0),C(null),w(null)}})]}),g&&(0,j.jsx)("p",{style:{textAlign:"left",color:"red"},children:"Please Select xlsx file to Upload "})]}),O&&(0,j.jsx)("p",{children:O}),(0,j.jsx)("div",{style:{paddingTop:"10px"},children:(0,j.jsx)(S.A,{component:"label",variant:"contained",startIcon:(0,j.jsx)(he.A,{}),onClick:()=>{s.downloadSampleFile("sample-template.xlsx")},children:"Download sample file"})})]})]})})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{autoFocus:!0,onClick:()=>{M((e=>({ERPType:[],instance:[],BU:[]}))),w(null),r(!1),C(null),v(!1),m(!1),p(!1),x(!1)},children:"Cancel"}),(0,j.jsx)(S.A,{onClick:()=>{if((null===P.ERPType||P.ERPType.length<1)&&m(!0),(null===P.instance||P.instance.length<1)&&p(!0),(null===P.BU||P.BU.length<1)&&x(!0),(null===T||T.length<1)&&v(!0),P.ERPType.length>1&&P.instance.length>1&&P.BU.length>1&&null!==T){let e={file:T,data:P};d(!0),r(!1),s.importTemplate(e).then((async e=>{let t,n;y(e),e.errorCount>0?(t=(0,j.jsxs)("div",{style:{color:"red"},children:["New Template Added: ",e.newTemplateAdded," ",(0,j.jsx)("br",{}),"Template Updated: ",e.updateTemplates," ",(0,j.jsx)("br",{}),"Error in Template: ",e.errorCount," ",(0,j.jsx)("br",{})]}),n="error",L(!0),_({severity:n,desc:t}),d(!1)):(t=(0,j.jsxs)("div",{children:["Success ",(0,j.jsx)("br",{}),"New Template Added: ",e.newTemplateAdded," ",(0,j.jsx)("br",{}),"Template Updated: ",e.updateTemplates," ",(0,j.jsx)("br",{}),"Error in Template: ",e.errorCount," ",(0,j.jsx)("br",{})]}),n="success",d(!1)),L(!0),_({severity:n,desc:t}),M((e=>({ERPType:[],instance:[],BU:[]}))),w(null),C(null),await s.getAllTemplateList().then((e=>{o(e.template),a(e.template)})),d(!1)}))}},children:"Import"})]})]}),N?(0,j.jsx)(be.A,{openAlert:D,openDesc:N,setOpenAlert:L,sx:{"& .MuiAlertTitle-root":{backgroundColor:"red"}}}):(0,j.jsx)(j.Fragment,{})]})};var we=a(14256),Oe=a(57972),Ce=a(74605),Pe=a(53193),Me=a(51292);const De=e=>{const t=new ue.Q,[a,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)((null===e||void 0===e?void 0:e.templateData)||[]),[r,o]=(0,n.useState)("allData"),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)(null);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{l(!0)},children:"Export"}),(0,j.jsxs)(le.A,{open:a,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,j.jsx)(ie.A,{children:(0,j.jsx)(re.A,{children:(0,j.jsx)(E.A,{width:"100%",overflow:"auto",children:(0,j.jsx)(A.Tn,{children:(0,j.jsx)(U.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,j.jsx)(U.Ay,{container:!0,alignItems:"center",children:(0,j.jsxs)(Pe.A,{children:[(0,j.jsx)(Me.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,j.jsxs)(Oe.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:r,onChange:t=>{o(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.templateData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,j.jsx)(Ce.A,{value:"allData",control:(0,j.jsx)(we.A,{}),label:"All Data"}),(0,j.jsx)(Ce.A,{value:"selectedData",control:(0,j.jsx)(we.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"}),(0,j.jsx)(S.A,{onClick:()=>{l(!1),console.log(null===e||void 0===e?void 0:e.filterTemplateData,"filterTemplateData");let a=("allData"!==r?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.templateData)||[],n=null===a||void 0===a?void 0:a.map((e=>({"Template Name":e.templateName,Description:e.desc,"ERP Type":e.ERPType,Instance:e.instance,"Design Organization":Array.isArray(null===e||void 0===e?void 0:e.BU)&&(null===e||void 0===e?void 0:e.BU.length)>0?null===e||void 0===e?void 0:e.BU.join(", "):null})));t.exportTemplate({data:n,sheet_name:"Template"}).then((e=>{u(e),c(!0),h(!0),g({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),x?(0,j.jsx)(be.A,{openAlert:p,openDesc:x,setOpenAlert:h}):(0,j.jsx)(j.Fragment,{})]})};var Le=a(91048);a(30588);const Ne=e=>t=>{let{data:a=[],sortInfo:n={},initialData:l=[],...s}=t;const i=((e,t)=>{if(!Array.isArray(e))return[];if(!t||!t.id)return l;const a=t.id||t.name||t.columnName,n=1===t.dir?1:-1;return[...e].sort(((e,t)=>{const l=String(e[a]||"").toLowerCase(),s=String(t[a]||"").toLowerCase();return l<s?-n:l>s?n:0}))})(a,n);return(0,j.jsx)(e,{data:i,sortInfo:n,...s})};var _e=a(50195);const Re=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Ie=()=>{let e=(0,i.zy)().state;const{updateAllTemplate:t}=(0,B.A)(),a=new ue.Q,[l,s]=(0,n.useState)(!1),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)([]),[m,u]=(0,n.useState)([]),[p,h]=(0,n.useState)(),[x,g]=(0,n.useState)(""),[v,y]=(0,n.useState)([]),[f,b]=(0,n.useState)(!1),[T,w]=(0,n.useState)(null),[O,C]=(0,n.useState)({}),[P,M]=(0,n.useState)({}),[D,L]=(0,n.useState)([]),N=(0,n.useRef)(null),_=N&&N.current&&N.current.dataMap?N.current.dataMap:null,[R,I]=(0,n.useState)(!0),k=(0,_e.t$)(v,"templateName"),F=(0,n.useCallback)((e=>{let{selected:t}=e;M(t)}),[]);(0,n.useEffect)((()=>{I(!0),a.getAllTemplateList().then((e=>{c(e.template),u(e.template),y(e.template),t(e.template)})).finally((()=>{I(!1)}))}),[]),(0,n.useEffect)((()=>{y(d)}),[d]),(0,n.useEffect)((()=>{var t,a,n;null!==(t=e)&&void 0!==t&&t.status&&(b(!0),w({severity:null===(a=e)||void 0===a?void 0:a.status,desc:null===(n=e)||void 0===n?void 0:n.message}));e={},window.onbeforeunload=()=>{window.history.replaceState({},document.title)}}),[e]);const W=(0,i.Zp)(),$=(0,n.useRef)("initialValue"),V=e=>{$.current="edit";const t=e;setTimeout((()=>{W(`/editTemplate/${null===t||void 0===t?void 0:t.id}`,{state:{templateMode:$.current,selectedTempalteData:t}})}),200)},G=e=>{s(!0),h(e)};(0,n.useEffect)((()=>{const e=!0===P?_:P,t=e&&Object.keys(e).map((t=>e[t]));L(t)}),[P,_]),(0,n.useEffect)((()=>{if(d){const e=d.filter((e=>{var t,a,n;return""===x||(null===e||void 0===e||null===(t=e.templateName)||void 0===t?void 0:t.toLowerCase().includes(x.toLowerCase()))||e.desc.toLowerCase().includes(x.toLowerCase())||(null===(a=e.plants)||void 0===a?void 0:a.some((e=>e.plantName.toLowerCase().includes(x.toLowerCase()))))||(null===(n=e.BU)||void 0===n?void 0:n.some((e=>e.toLowerCase().includes(x.toLowerCase()))))||e.instance.toLowerCase().includes(x.toLowerCase())||e.ERPType.toLowerCase().includes(x.toLowerCase())}));y(e)}}),[x,d]);const z=e=>{C(e);const t=Ne(Ie)({data:d,sortInfo:e,onSortInfoChange:z,initialData:m});c(t.props.data)};return(0,j.jsxs)(Re,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Template"}]})}),(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(ce.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;g(t)},value:x,style:{width:"100%"}})}),(0,j.jsxs)(U.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{},children:"Search"}),(0,j.jsx)("div",{style:{flex:1}}),(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,onClick:()=>{$.current="create",setTimeout((()=>{W("/createTemplate")}),200)},style:{marginRight:"10px"},children:"Create"}),(0,j.jsx)(S.A,{variant:"contained",disabled:1!==(null===D||void 0===D?void 0:D.length),onClick:()=>{V(D[0])},style:{margin:"0 10px 0 0px"},children:"Edit"}),(0,j.jsx)(S.A,{variant:"contained",disabled:null===D||void 0===D||!D.length,onClick:()=>{G(D[0]),s(!0)},style:{margin:"0 10px 0 0px"},children:"Delete"}),(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{o(!0)},style:{marginRight:"10px"},children:"Import"}),(0,j.jsx)(De,{templateData:d,filterTemplateData:D})]}),(0,j.jsxs)(E.A,{width:"100%",overflow:"auto",children:[(0,j.jsx)("br",{}),(0,j.jsx)(Le.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:[{name:"templateName",header:(0,j.jsx)(me.A,{title:"Name",children:"Template Name"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.templateName})}},{name:"desc",header:(0,j.jsx)(me.A,{title:"Description",children:"Description"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.desc})}},{name:"ERPType",header:(0,j.jsx)(me.A,{title:"ERP Type",children:"ERP Type"}),defaultFlex:1,defaultWidth:50},{name:"instance",header:(0,j.jsx)(me.A,{title:"Instance",children:"Instance"}),defaultFlex:1,defaultWidth:50},{name:"BU",header:(0,j.jsx)(me.A,{title:"Design Organization",children:"Design Organization"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null!==t&&void 0!==t&&t.BU?t.BU.sort().map((e=>e)).join(", "):""})}}],dataSource:k,checkboxColumn:!0,selected:P,onSelectionChange:F,handle:e=>N.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===N||void 0===N||null===(e=N.current)||void 0===e?void 0:e.setScrollTop(0==(null===D||void 0===D?void 0:D.length)?0:null===N||void 0===N||null===(t=N.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:z})]})]})}),(0,j.jsxs)(le.A,{open:l,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete template"}),(0,j.jsx)(ie.A,{children:1===D.length?(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(re.A,{children:["Do you want to delete the template"," ",(0,j.jsx)("b",{children:null===p||void 0===p?void 0:p.templateName})," with instance"," ",(0,j.jsx)("b",{children:null===p||void 0===p?void 0:p.instance})]})}):(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(re.A,{children:"Do you want to delete the seleted templates?"})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{autoFocus:!0,onClick:()=>{h(null),s(!1)},children:"Cancel"}),(0,j.jsx)(S.A,{onClick:async()=>{s(!1);try{I(!0);const e=null===D||void 0===D?void 0:D.map((e=>null===e||void 0===e?void 0:e.id));await a.deleteTemplate(e).then((async e=>{b(!0),w({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),M({}),L([]),await a.getAllTemplateList().then((e=>{c(e.template),u(e.template),y(e.template),t(e.template)}))}))}catch(e){return e}finally{I(!1)}},children:"delete"})]})]}),(0,j.jsx)(Se,{importTemplate:r,setImportTemplate:o,setTemplateData:c,setIsLoading:I}),T?(0,j.jsx)(be.A,{openAlert:f,openDesc:T,setOpenAlert:b}):(0,j.jsx)(j.Fragment,{}),R?(0,j.jsx)("div",{style:{textAlign:"center"},children:(0,j.jsx)(de.A,{show:R})}):(0,j.jsx)(j.Fragment,{})]})},ke=Ie,Be=()=>(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(ke,{})});var Fe=a(63336),Ue=a(17392),We=a(95540),$e=a(63471),Ve=a(40794),Ge=a(67254),ze=a(81650);class He{constructor(){this.getAllPlantsList=()=>ze.A.get(`${d.Sb}/plant/getplants`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getAllPlantsList",e),[]))),this.getPlantById=e=>ze.A.post(`${d.Sb}/plant/getPlantById`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getPlantById",e),[]))),this.addnewPlant=e=>ze.A.post(`${d.Sb}/plant/addPlant`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.updatePlant=e=>ze.A.put(`${d.Sb}/plant/updatePlant`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.deletePlant=e=>ze.A.delete(`${d.Sb}/plant/deletePlant`,{data:{ids:e}},d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting plant:",e),e}))}}const Ye=e=>{let{open:t,handleDialogClose:a,tempObject:n,handleAttributeChange:l,handleAddAttribute:s,newKey:i,newValue:r,handleAddRow:o,handleDeleteRow:d,keyerror:c,attributeForm:m,valuesInputList:u}=e;return(0,j.jsxs)(le.A,{open:t,children:[(0,j.jsx)(oe.A,{children:null===m?"Add Attribute":"Edit Attribute"}),(0,j.jsx)(ie.A,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsx)("span",{children:"Name:"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"name",value:n.name||"",onChange:l,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsx)("span",{children:"Mandatory: "})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(Pe.A,{children:(0,j.jsxs)(Oe.A,{row:!0,value:n.mandatory||"YES","aria-labelledby":"demo-row-radio-buttons-group-label",name:"mandatory",onChange:l,children:[(0,j.jsx)(Ce.A,{value:"Y",control:(0,j.jsx)(we.A,{}),label:"Yes"}),(0,j.jsx)(Ce.A,{value:"N",control:(0,j.jsx)(we.A,{}),label:"No"})]})})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Material master:"," "]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(Pe.A,{children:(0,j.jsxs)(Oe.A,{row:!0,value:n.material_master||"Y","aria-labelledby":"demo-row-radio-buttons-group-label",name:"material_master",onChange:l,children:[(0,j.jsx)(Ce.A,{value:"Y",control:(0,j.jsx)(we.A,{}),label:"Yes"}),(0,j.jsx)(Ce.A,{value:"N",control:(0,j.jsx)(we.A,{}),label:"No"})]})})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsx)("span",{children:"Data type: "})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{labelId:"DataType-label",id:"DataType-select",name:"dataType",fullWidth:!0,value:n.dataType||"",onChange:l,children:[{value:"int",label:"int"},{value:"string",label:"string"},{value:"long",label:"long"},{value:"bool",label:"bool"}].map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.value},e.value)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsx)("span",{children:"Input Type: "})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{labelId:"InputType-label",id:"InputType-select",name:"inputType",fullWidth:!0,value:n.inputType||"",onChange:l,children:[{value:"text",label:"text"},{value:"select",label:"select"}].map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),"select"===n.inputType&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsx)("span",{children:"Values: "})}),(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,j.jsxs)(U.Ay,{container:!0,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,xs:3,style:{marginLeft:"3px"},children:(0,j.jsx)(ce.A,{name:"newKey",label:"value",value:i,variant:"outlined",fullWidth:!0,margin:"normal",onChange:l})}),"\xa0 \xa0",(0,j.jsx)(U.Ay,{item:!0,xs:3,children:(0,j.jsx)(ce.A,{name:"newValue",label:"display value",value:r,variant:"outlined",fullWidth:!0,margin:"normal",onChange:l})}),"\xa0 \xa0",(0,j.jsx)(U.Ay,{item:!0,xs:3,children:(0,j.jsx)(S.A,{style:{fontSize:"30px",marginTop:"6px"},onClick:o,children:(0,j.jsx)("b",{children:"+"})})})]}),(0,j.jsx)("p",{style:{color:"red"},children:c}),(0,j.jsx)("div",{style:{height:"100px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",alignContent:"center"},children:u.map(((e,t)=>(0,j.jsx)(Fe.A,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,j.jsxs)(U.Ay,{container:!0,alignItems:"center",style:{marginLeft:"2px"},children:[(0,j.jsx)(U.Ay,{item:!0,xs:6,children:(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:e.key}),":",(0,j.jsx)("b",{children:e.value})]})}),(0,j.jsx)(U.Ay,{item:!0,xs:2,children:(0,j.jsx)(Ue.A,{onClick:()=>d(t),children:(0,j.jsx)($e.A,{})})})]})},t)))})]})]}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsx)("span",{children:"Default values: "})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"defaultValues",value:n.defaultValues||"",onChange:l,fullWidth:!0,margin:"normal"})})]})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:a,children:"Cancel"}),(0,j.jsx)(S.A,{onClick:s,children:null===m?"Add":"Update"})]})]})};var Xe=a(39787),qe=a(21803),Ke=a.n(qe);const Qe=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Ze=n.forwardRef((function(e,t){return(0,j.jsx)(Ge.A,{elevation:6,ref:t,variant:"filled",...e})})),Je=(0,T.Ay)({spanRed:{color:"#FF3D57"}}),et={name:null,mandatory:null,material_master:null,dataType:null,inputType:null,values:null,defaultValues:null};function tt(){const e=new ue.Q,{bussinessUnitLists:t}=(0,B.A)(),a=new He,[l,s]=(0,n.useState)(),[r,o]=(0,n.useState)({exportToERP:"Y",existInOracle:"N",notOwningDivision:"Y"}),d=Je();let c=(0,i.Zp)();const[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(),[x,g]=(0,n.useState)(),[v,y]=(0,n.useState)(!1),[f,b]=(0,n.useState)([]),[T,w]=(0,n.useState)(null),[O,C]=(0,n.useState)({}),[P,M]=(0,n.useState)([]),[D,L]=(0,n.useState)(""),[N,_]=(0,n.useState)(""),[R,F]=(0,n.useState)(""),[$,V]=(0,n.useState)([]),[G,z]=(0,n.useState)([]),[H,Y]=(0,n.useState)(!1),[X,q]=(0,n.useState)(null);(0,n.useEffect)((()=>{a.getAllPlantsList().then((e=>{s(e)}))}),[]);const K=e=>{const{name:t,value:a}=e.target;let n={};if("ERPtype"===t)n={...r,plantId:null,plants:null,url:null,username:null,port:null,authkey:null,material_master:null,SalesOrg:null,ECN_required:null,bomusage:null,[t]:a};else if("plant"===t){const{id:e,plantName:t,material_master:l,SalesOrg:s,ECN_required:i,bomusage:o,ConnectivityDetails:d}=a,{url:c,username:m,password:u,port:p,authkey:h}=d;n={...r,plantId:e,plantName:t,SalesOrg:s,url:c,material_master:l,username:m,password:u,port:p,authkey:h,ECN_required:i,bomusage:o}}else n={...r,[t]:a};o(n)},Q=(null===l||void 0===l||l.filter((e=>e.ERPType===r.ERPType&&e.instance===r.instance)),(e,t)=>{Y(!0),q({severity:t,desc:e})}),Z=(e,t)=>{"clickaway"!==t&&u(!1)};(0,_e.t$)(t,"businessUnit");return(0,j.jsxs)(Qe,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Create Template"}]})}),(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,j.jsxs)("form",{children:[(0,j.jsx)("h4",{children:"Create Template"}),(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsxs)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,j.jsx)("span",{children:"Template Name"})," ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"templateName",value:r.templateName,onChange:K,onBlur:e=>{const{name:t,value:a}=e.target,n=a.trim().replace(/\s+/g," ");o((e=>({...e,[t]:n})))},fullWidth:!0,margin:"normal"})}),(0,j.jsxs)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,j.jsx)("span",{children:"Description"})," ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"desc",value:r.desc,onChange:K,fullWidth:!0,margin:"normal"})}),(0,j.jsxs)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,j.jsx)("span",{children:"ERP Type "})," ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:r.ERPType,onChange:K,children:W.sd.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),("SAP"===r.ERPType||"ORACLE"===r.ERPType)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,j.jsx)("span",{children:"Instance"})," ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"instance",name:"instance",fullWidth:!0,displayEmpty:!0,value:r.instance,onChange:K,children:W.oX.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})})]}),("ORACLE"===r.ERPType||"SAP"===r.ERPType)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Design Organization ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{style:{width:"100%"},multiple:!0,name:"BU",value:$.sort(Xe.UE),onChange:e=>((e,t)=>{const a=e.target.value;if("BU"===t)V(a);else if("plants"===t){const e=l.filter((e=>a.includes(e.plantName))).map((e=>({plantName:e.plantName,id:e.id})));z(e)}})(e,"BU"),renderValue:e=>e.sort(Xe.UE).join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:t.map((e=>(0,j.jsx)(k.A,{value:e.businessUnit,children:e.businessUnit},e.businessUnit)))})})]}),"SAP"===r.ERPType&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Attributes"})}),(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{w(null),y(!0),C({name:"",mandatory:"",material_master:"",dataType:"",inputType:"",defaultValues:""}),M([])},children:"Add Attribute"})}),(0,j.jsx)("br",{}),"\xa0",(0,j.jsx)(U.Ay,{md:4,children:(0,j.jsx)("span",{children:(0,j.jsx)("div",{style:{height:"154px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",width:"500px"},children:f.map(((e,t)=>(0,j.jsx)(Fe.A,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"46px"},children:(0,j.jsx)(U.Ay,{container:!0,alignItems:"center",spacing:3,children:(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Name:"})," ",e.name,(0,j.jsx)(Ue.A,{onClick:()=>(e=>{if(e>=0&&e<f.length){var t;w(e),y(!0),C({...f[e]});const a=null===(t=f[e])||void 0===t?void 0:t.values[0],n=Object.entries(a||{}).map((e=>{let[t,a]=e;return{key:t,value:a}}));M(n)}})(t),children:(0,j.jsx)(We.A,{})}),(0,j.jsx)(Ue.A,{onClick:()=>{return e=t,void b((t=>{const a=[...t];return a.splice(e,1),a}));var e},children:(0,j.jsx)($e.A,{})})]})})})},t)))})})})]})]})]}),(0,j.jsx)("br",{}),(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:async()=>{var t,a,n;const l=Math.floor(1e5+9e5*(0,Xe.MZ)());if(""===(null===(t=r.templateName)||void 0===t?void 0:t.trim())||!r.templateName||""===(null===(a=r.desc)||void 0===a?void 0:a.trim())||!r.desc||""===(null===(n=r.ERPType)||void 0===n?void 0:n.trim())||!r.ERPType||"SAP"===r.ERPType&&!r.instance)return void Q("Please fill the required details","error");const s={...r,id:l.toString(),attributes:f,BU:$,plants:G};e.addnewTemplate(s).then((e=>{var t;if(e&&null!==(t=Object.keys(e))&&void 0!==t&&t.length&&"failed"===(null===e||void 0===e?void 0:e.status)){var a;const t=null===e||void 0===e||null===(a=e.message)||void 0===a?void 0:a.map((e=>(0,j.jsx)("li",{children:e},Ke().generate())));Q(t,"error")}else setTimeout((()=>{c("/template",{state:{message:"Template added successfully",status:"success"}})}),200)}))},children:"Submit"})})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{c(-1)}),200)},children:"Cancel"})})})]})]}),(0,j.jsx)(Ve.A,{open:m,autoHideDuration:3e3,onClose:Z,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,j.jsx)(Ze,{onClose:Z,severity:x,sx:{width:"100%"},children:p})}),X?(0,j.jsx)(be.A,{openAlert:H,openDesc:X,setOpenAlert:Y}):(0,j.jsx)(j.Fragment,{}),(0,j.jsx)(Ye,{open:v,handleDialogClose:()=>{y(!1)},attributeForm:T,tempObject:O,handleAttributeChange:e=>{const{name:t,value:a}=e.target;"newKey"===t?L(a):"newValue"===t?_(a):C((e=>({...e,[t]:a})))},handleAddAttribute:()=>{const e={...O,values:P.reduce(((e,t)=>(e[t.key]=t.value,e)),{})};if(""===e.material_master&&(e.material_master="Y"),""===e.mandatory&&(e.mandatory="Y"),Object.keys(e.values).length&&(e.values=[e.values]),null!==T){const t=[...f];t[T]=e,b(t)}else b((t=>[...t,e]));y(!1),C(et),M([]),w(null)},newKey:D,newValue:N,handleAddRow:()=>{const e=P.some((e=>e.key===D)),t=P.some((e=>e.value===N));e||t?F("The key or value already exists"):(M((e=>[...e,{key:D,value:N}])),L(""),_(""),F(""))},handleDeleteRow:e=>{M((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:R,valuesInputList:P})]})})]})}const at=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),nt=n.forwardRef((function(e,t){return(0,j.jsx)(Ge.A,{elevation:6,ref:t,variant:"filled",...e})})),lt=(0,T.Ay)({spanRed:{color:"#FF3D57"}}),st={name:null,mandatory:null,material_master:null,dataType:null,inputType:null,values:null,defaultValues:null};function it(){const e=new ue.Q,{refreshData:t,bussinessUnitLists:a}=(0,B.A)(),l=new He,[s,r]=(0,n.useState)(),o=lt(),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(),[p,h]=(0,n.useState)(),[x,g]=(0,n.useState)(!1),[v,y]=(0,n.useState)(null),[f,b]=(0,n.useState)({}),[T,w]=(0,n.useState)([]),[O,C]=(0,n.useState)(""),[P,M]=(0,n.useState)(""),[D,L]=(0,n.useState)(""),[N,_]=(0,n.useState)(!1),[R,F]=(0,n.useState)(null),[$,V]=(0,n.useState)(!0);let G=(0,i.Zp)();(0,i.zy)();const z=(0,i.g)(),[H,Y]=(0,n.useState)(),[X,q]=(0,n.useState)({}),[K,Q]=(0,n.useState)([]),[Z,J]=(0,n.useState)([]),[ee,te]=(0,n.useState)([]);(0,n.useEffect)((()=>{l.getAllPlantsList().then((e=>{r(e)}))}),[]);const ae=e=>{const{name:t,value:a}=e.target;let n={};if("ERPtype"===t)n={...X,plantId:null,plants:null,url:null,username:null,port:null,authkey:null,material_master:null,SalesOrg:null,ECN_required:null,bomusage:null,BU:null,[t]:a};else if("plant"===t){const{id:e,plantName:t,material_master:l,ECN_required:s,bomusage:i,SalesOrg:r,ConnectivityDetails:o}=a,{url:d,username:c,password:m,port:u,authkey:p}=o;n={...X,plantId:e,plantName:t,ECN_required:s,bomusage:i,SalesOrg:r,url:d,material_master:l,username:c,password:m,port:u,authkey:p}}else n={...X,[t]:a};q(n)},ne=(null===s||void 0===s||s.filter((e=>e.ERPType===X.ERPType&&e.instance===X.instance)),(e,t)=>{_(!0),F({severity:t,desc:e})}),le=(e,t)=>{"clickaway"!==t&&c(!1)};return(0,n.useEffect)((()=>{null!==z&&void 0!==z&&z.tempId?(V(!0),e.getTemplateById({id:null===z||void 0===z?void 0:z.tempId}).then((e=>{var t;if(V(!1),e&&null!==Object&&void 0!==Object&&null!==(t=Object.keys(e))&&void 0!==t&&t.length){const t=e;Y(t),J(t.BU),Q(t.attributes),te(t.plants),q({id:t.id,templates:t.templates,templateName:t.templateName,desc:t.desc,ERPType:t.ERPType,instance:t.instance,plantId:t.plantId,plantName:t.plantName,port:t.port,url:t.url,username:t.username,attributes:t.attributes,ECN_required:t.ECN_required,bomusage:t.bomusage,BU:t.BU})}else G("/template",{state:{message:"Template not found!",status:"error"}})}))):setTimeout((()=>{G("/template",{state:{message:"Template not found!",status:"error"}})}),200)}),[]),(0,_e.t$)(a,"businessUnit"),(0,j.jsxs)(at,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Edit Template"}]})}),(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,j.jsxs)("form",{children:[(0,j.jsx)("h4",{children:"Edit Template"}),(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsxs)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,j.jsx)("span",{children:"Template Name"}),(0,j.jsx)("span",{className:o.spanRed,children:"*"})]}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"templateName",value:X.templateName,onChange:ae,fullWidth:!0,margin:"normal",disabled:!0})}),(0,j.jsxs)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,j.jsx)("span",{children:"Description"}),(0,j.jsx)("span",{className:o.spanRed,children:"*"})]}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"desc",value:X.desc,onChange:ae,fullWidth:!0,margin:"normal"})}),("SAP"===X.ERPType||"ORACLE"===X.ERPType)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,j.jsx)("span",{children:"ERP Type "}),(0,j.jsx)("span",{className:o.spanRed,children:"*"})]}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:null===X||void 0===X?void 0:X.ERPType,onChange:ae,children:null===W.sd||void 0===W.sd?void 0:W.sd.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),(0,j.jsxs)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,j.jsx)("span",{children:"Instance"}),(0,j.jsx)("span",{className:o.spanRed,children:"*"})]}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{label:"instance",id:"instance",name:"instance",fullWidth:!0,displayEmpty:!0,value:X.instance,onChange:ae,children:null===W.oX||void 0===W.oX?void 0:W.oX.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})})]}),("ORACLE"===X.ERPType||"SAP"===X.ERPType)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Design Organization ",(0,j.jsx)("span",{className:o.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{style:{width:"100%"},multiple:!0,name:"BU",value:Z.sort(Xe.UE),onChange:e=>((e,t)=>{const a=e.target.value;if("BU"===t)J(a);else if("plants"===t){const e=null===s||void 0===s?void 0:s.filter((e=>a.includes(e.plantName))),t=null===e||void 0===e?void 0:e.map((e=>({plantName:e.plantName,id:e.id})));te(t)}})(e,"BU"),renderValue:e=>e.sort(Xe.UE).join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===a||void 0===a?void 0:a.map((e=>(0,j.jsx)(k.A,{value:e.businessUnit,children:e.businessUnit},e.businessUnit)))})})]}),"SAP"===X.ERPType&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Attributes"})}),(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{y(null),g(!0),b({name:"",mandatory:"",material_master:"",dataType:"",inputType:"",defaultValues:""}),w([])},children:"Add Attribute"})}),(0,j.jsx)("br",{}),"\xa0",(0,j.jsx)(U.Ay,{md:4,children:(0,j.jsx)("span",{children:(0,j.jsx)("div",{style:{height:"154px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",width:"500px"},children:null===K||void 0===K?void 0:K.map(((e,t)=>(0,j.jsx)(Fe.A,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"46px"},children:(0,j.jsx)(U.Ay,{container:!0,alignItems:"center",spacing:3,children:(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Name:"})," ",e.name,(0,j.jsx)(Ue.A,{onClick:()=>(e=>{if(e>=0&&e<K.length){var t,a;y(e),g(!0);const n={...K[e]},l=null===(t=K[e])||void 0===t?void 0:t.values[0],s=null===(a=Object.entries(l||{}))||void 0===a?void 0:a.map((e=>{let[t,a]=e;return{key:t,value:a}}));w(s),b(n)}})(t),children:(0,j.jsx)(We.A,{})}),(0,j.jsx)(Ue.A,{onClick:()=>(e=>{if(e>=0&&e<K.length){const t=[...K];t.splice(e,1),Q(t)}})(t),children:(0,j.jsx)($e.A,{})})]})})})},t)))})})})]})]}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:async()=>{var t,a,n;""!==(null===(t=X.templateName)||void 0===t?void 0:t.trim())&&X.templateName&&""!==(null===(a=X.desc)||void 0===a?void 0:a.trim())&&X.desc&&""!==(null===(n=X.ERPType)||void 0===n?void 0:n.trim())&&X.ERPType&&("SAP"!==X.ERPType||X.instance)?q((t=>{const a={...t,id:X.id,templates:X.templates,attributes:K,BU:Z,plants:ee};return e.updateTemplate(a).then((e=>{var t;if(e&&null!==(t=Object.keys(e))&&void 0!==t&&t.length&&"failed"===(null===e||void 0===e?void 0:e.status)){var a;const t=null===e||void 0===e||null===(a=e.message)||void 0===a?void 0:a.map((e=>(0,j.jsx)("li",{children:e},Ke().generate())));ne(t,"error")}else setTimeout((()=>{G("/template",{state:{message:e.msg,status:e.status}})}),200)})),a})):ne("Please fill the required details","error")},children:"Update"})})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{G(-1)}),200)},children:"Cancel"})})})]})]}),(0,j.jsx)(Ve.A,{open:d,autoHideDuration:3e3,onClose:le,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,j.jsx)(nt,{onClose:le,severity:p,sx:{width:"100%"},children:m})}),R?(0,j.jsx)(be.A,{openAlert:N,openDesc:R,setOpenAlert:_}):(0,j.jsx)(j.Fragment,{}),t||$?(0,j.jsx)("div",{style:{textAlign:"center"},children:(0,j.jsx)(de.A,{show:!0})}):(0,j.jsx)(j.Fragment,{}),(0,j.jsx)(Ye,{open:x,handleDialogClose:()=>{g(!1)},attributeForm:v,tempObject:f,handleAttributeChange:e=>{const{name:t,value:a}=e.target;"newKey"===t?C(a):"newValue"===t?M(a):b((e=>({...e,[t]:a})))},handleAddAttribute:()=>{const e={...f,values:T.reduce(((e,t)=>(e[t.key]=t.value,e)),{})};if(""===e.material_master&&(e.material_master=H),""===e.mandatory&&(e.mandatory="Y"),Object.keys(e.values).length&&(e.values=[e.values]),null!==v){const t=[...K];t[v]=e,Q(t)}else if(K)Q((t=>[...t,e]));else{Q([e])}g(!1),b(st),w([]),y(null)},newKey:O,newValue:P,handleAddRow:()=>{const e=T.some((e=>e.key===O)),t=T.some((e=>e.value===P));e||t?L("The key or value already exists"):(w((e=>[...e,{key:O,value:P}])),C(""),M(""),L(""))},handleDeleteRow:e=>{w((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:D,valuesInputList:T})]})})]})}const rt=[{path:"/template",element:(0,j.jsx)(ae,{children:(0,j.jsx)(Be,{})})},{path:"/createTemplate",exact:!0,element:(0,j.jsx)(ae,{children:(0,j.jsx)(tt,{})})},{path:"/editTemplate/:tempId",exact:!0,element:(0,j.jsx)(ae,{children:(0,j.jsx)(it,{})})}],ot={sa:["SA"],admin:["SA","ADMIN"],editor:["SA","ADMIN","EDITOR"],guest:["SA","ADMIN","EDITOR","GUEST"]};var dt=a(81637);const ct=e=>{const t=new ue.Q,[a,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)((null===e||void 0===e?void 0:e.plantData)||[]),[r,o]=(0,n.useState)("allData"),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)(null);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{l(!0)},children:"Export"}),(0,j.jsxs)(le.A,{open:a,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,j.jsx)(ie.A,{children:(0,j.jsx)(re.A,{children:(0,j.jsx)(E.A,{width:"100%",overflow:"auto",children:(0,j.jsx)(A.Tn,{children:(0,j.jsx)(U.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,j.jsx)(U.Ay,{container:!0,alignItems:"center",children:(0,j.jsxs)(Pe.A,{children:[(0,j.jsx)(Me.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,j.jsxs)(Oe.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:r,onChange:t=>{o(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.plantData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,j.jsx)(Ce.A,{value:"allData",control:(0,j.jsx)(we.A,{}),label:"All Data"}),(0,j.jsx)(Ce.A,{value:"selectedData",control:(0,j.jsx)(we.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"}),(0,j.jsx)(S.A,{onClick:()=>{l(!1);let a=("allData"!==r?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.plantData)||[],n=null===a||void 0===a?void 0:a.map((e=>({"Plant Name":e.plantName,"ERP Type":e.ERPType,Instance:e.instance,"Export To ERP":e.exportToERP})));t.exportTemplate({data:n,sheet_name:"Plants"}).then((e=>{u(e),c(!0),h(!0),g({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),x?(0,j.jsx)(be.A,{openAlert:p,openDesc:x,setOpenAlert:h}):(0,j.jsx)(j.Fragment,{})]})},mt=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),ut=()=>{const e=new He,[t,a]=(0,n.useState)(!1),[l,s]=(0,n.useState)(""),[r,o]=(0,n.useState)([]),[d,c]=(0,n.useState)([]),[m,u]=(0,n.useState)(),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)(null),[v,y]=(0,n.useState)({}),[f,b]=(0,n.useState)({}),[T,w]=(0,n.useState)([]),O=(0,n.useRef)(null),C=O&&O.current&&O.current.dataMap?O.current.dataMap:null,P=(0,n.useCallback)((e=>{let{selected:t}=e;b(t)}),[]),[M,D]=(0,n.useState)(!0);(0,n.useEffect)((()=>{D(!0),e.getAllPlantsList().then((e=>{o(e),c(e),N(e)})).finally((()=>{D(!1)}))}),[]);const[L,N]=(0,n.useState)([]);let _=(0,_e.t$)([...L],"plantName");(0,n.useEffect)((()=>{N(r)}),[r]);const R=(0,i.Zp)(),I=(0,n.useRef)("initialValue"),k=e=>{a(!0),u(e)},B=e=>{I.current="edit";const t=e;setTimeout((()=>{R(`/editPlant/${null===t||void 0===t?void 0:t.id}`,{state:{plantMode:I.current,selectedPlantData:t}})}),200)},F=(e,t)=>{h(!0),g({severity:t,desc:e})};(0,n.useEffect)((()=>{const e=!0===f?C:f,t=e&&Object.keys(e).map((t=>e[t]));w(t)}),[f,C]),(0,n.useEffect)((()=>{const e=r.filter((e=>""===l||e.plantName.toLowerCase().includes(l.toLowerCase())||e.instance.toLowerCase().includes(l.toLowerCase())||e.ERPType.toLowerCase().includes(l.toLowerCase())));N(e)}),[l,r]);const W=e=>{y(e);const t=Ne(ut)({data:r,sortInfo:e,sortedPlanteData:_,onSortInfoChange:W,initialData:d});o(t.props.data),N(t.props.data)};return(0,j.jsxs)(mt,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Plant"}]})}),(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(ce.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;s(t)},value:l,style:{width:"100%"}})}),(0,j.jsxs)(U.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{},children:"Search"}),(0,j.jsx)("div",{style:{flex:1}}),(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,onClick:()=>{I.current="create",setTimeout((()=>{R("/createPlant",{state:{plantMode:I.current}})}),200)},children:"Create"}),(0,j.jsx)(S.A,{variant:"contained",disabled:1!==(null===T||void 0===T?void 0:T.length),onClick:()=>{B(T[0])},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,j.jsx)(S.A,{variant:"contained",disabled:null===T||void 0===T||!T.length,onClick:()=>{k(T[0]),a(!0)},style:{margin:"0 10px"},children:"Delete"}),(0,j.jsx)(ct,{plantData:v&&0===Object.keys(v).length?_:r,filterTemplateData:T})]}),(0,j.jsxs)(E.A,{width:"100%",overflow:"auto",children:[(0,j.jsx)("br",{}),M?(0,j.jsx)(E.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:550},children:(0,j.jsx)(dt.A,{})}):(0,j.jsx)(Le.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:[{name:"plantName",header:(0,j.jsx)(me.A,{title:"Name",children:"Plant Name"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.plantName})}},{name:"ERPType",header:(0,j.jsx)(me.A,{title:"ERP Type",children:"ERP Type"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.ERPType})}},{name:"instance",header:(0,j.jsx)(me.A,{title:"instance",children:"Instance"}),defaultFlex:1,defaultWidth:50},{name:"exportToERP",header:(0,j.jsx)(me.A,{title:"Export To ERP",children:"Export To ERP"}),defaultFlex:1,defaultWidth:50}],dataSource:null===v?L:_,checkboxColumn:!0,selected:f,onSelectionChange:P,handle:e=>O.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===O||void 0===O||null===(e=O.current)||void 0===e?void 0:e.setScrollTop(0==(null===T||void 0===T?void 0:T.length)?0:null===O||void 0===O||null===(t=O.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:W})]})]})}),x?(0,j.jsx)(be.A,{openAlert:p,openDesc:x,setOpenAlert:h}):(0,j.jsx)(j.Fragment,{}),(0,j.jsxs)(le.A,{open:t,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Plant"}),(0,j.jsx)(ie.A,{children:1===T.length?(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(re.A,{children:["Do you want to delete the plant ",(0,j.jsx)("b",{children:null===m||void 0===m?void 0:m.plantName})," ","with instance ",(0,j.jsx)("b",{children:null===m||void 0===m?void 0:m.instance})," having Design Organizations"," "]})}):(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(re.A,{children:"Do you want to delete the seleted plants?"})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{autoFocus:!0,onClick:()=>{a(!1)},children:"Cancel"}),(0,j.jsx)(S.A,{onClick:async()=>{a(!1);try{const t=null===T||void 0===T?void 0:T.map((e=>null===e||void 0===e?void 0:e.id));await e.deletePlant(t),b({}),w([])}catch(t){return t}e.getAllPlantsList().then((e=>{o(e)})),F("Plant deleted successfully","success")},children:"delete"})]})]})]})},pt=ut;var ht=a(63516);function xt(e){let{open:t,connDetails:a,handleCDChange:n,handleAddCD:l,connectivityError:s,handleDialogClose:i,plantForm:r}=e;return(0,j.jsxs)(le.A,{open:t,children:[(0,j.jsx)(oe.A,{children:"Add Connectivity details"}),(0,j.jsxs)(ie.A,{children:[(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"URL :"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{label:"URL",name:"url",value:a.url,onChange:n,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Username :"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{label:"Username",name:"username",value:a.username,onChange:n,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Password :"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{label:"Password",name:"password",value:(null===a||void 0===a?void 0:a.password)||"",onChange:n,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"AuthKey :"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{label:"Authkey",name:"authkey",value:a.authkey,onChange:n,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Port :"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{label:"Port",name:"port",value:a.port,onChange:n,fullWidth:!0,margin:"normal"})}),"SAP"===r.ERPType&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"sapsysnum :"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{label:"sapsysnum",name:"sapsysnum",value:a.sapsysnum,onChange:n,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"sapclientid :"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{label:"sapclientid",name:"sapclientid",value:a.sapclientid,onChange:n,fullWidth:!0,margin:"normal"})})]})]}),(0,j.jsx)("p",{style:{color:"red"},children:s})]}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:i,children:"Cancel"}),(0,j.jsx)(S.A,{onClick:l,children:"Add"})]})]})}const gt=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),vt=(0,T.Ay)({spanRed:{color:"#FF3D57"}});function At(){var e;const t=new He,{bussinessUnitLists:a}=(0,B.A)(),[l,s]=(0,n.useState)(),[r,o]=(0,n.useState)(!1),d=vt(),[c,m]=(0,n.useState)({BU:[],exportToERP:"Y",ERPType:"",instance:"",orgId:"",plantName:"",SalesOrg:"",aliasPlant:"",material_master:"",ECN_required:"",bomusage:""}),[u,p]=(0,n.useState)({}),[h,x]=(0,n.useState)(),[g,v]=(0,n.useState)([]),[y,f]=(0,n.useState)(!1),[b,T]=(0,n.useState)(null);let w=(0,i.Zp)();const O=[{value:"Y",label:"Yes"},{value:"N",label:"No"}];(0,n.useEffect)((()=>{t.getAllPlantsList().then((e=>{s(e.plant)}))}),[]);const C=e=>{const{name:t,value:a}=e.target,n={...c,[t]:a};m(n)},P=()=>{o(!1),x(""),p("")},M=(e,t)=>{f(!0),T({severity:t,desc:e})};return(0,j.jsxs)(gt,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Create Plant"}]})}),(0,j.jsx)(ht.l1,{initialValues:{id:"",plants:"",ERPType:"",instance:"",Connectivitydetails:{}},onSubmit:()=>{},children:(0,j.jsx)(ht.lV,{children:(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,j.jsx)("h4",{children:"Create Plant"}),(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Plant Name ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"plantName",value:c.plantName,onChange:C,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["ERP Type ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"ERPType",name:"ERPType",fullWidth:!0,displayEmpty:!0,value:c.ERPType,onChange:C,children:W.sd.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),("SAP"===c.ERPType||"ORACLE"===c.ERPType||"JDE"===c.ERPType)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Organization Id",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{label:"Organization Id",name:"orgId",value:c.orgId,onChange:C,fullWidth:!0,margin:"normal"})})]}),("SAP"===c.ERPType||"ORACLE"===c.ERPType||"JDE"===c.ERPType)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Instance ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"instance",name:"instance",fullWidth:!0,displayEmpty:!0,value:c.instance,onChange:C,children:W.oX.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})})]}),(null===(e=["ORACLE","SAP","JDE"])||void 0===e?void 0:e.includes(c.ERPType))&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Export to ERP"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"exportToERP",name:"exportToERP",fullWidth:!0,displayEmpty:!0,value:c.exportToERP,onChange:C,children:W.FD.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})})]}),"SAP"===c.ERPType&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Default Sales Org",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{label:"Sales Org",name:"SalesOrg",value:c.SalesOrg,onChange:C,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Material Master ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"material_master",name:"material_master",fullWidth:!0,displayEmpty:!0,value:c.material_master,onChange:C,children:O.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),"Y"===c.material_master&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Plant Alias Name",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"aliasPlant",value:c.aliasPlant,onChange:C,fullWidth:!0,margin:"normal"})})]}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["ECN Required ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"ECN_required",name:"ECN_required",fullWidth:!0,displayEmpty:!0,value:c.ECN_required,onChange:C,children:O.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["BOM Usage ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"bomusage",name:"bomusage",fullWidth:!0,displayEmpty:!0,value:c.bomusage,onChange:C,children:W.Ch.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),console.log(c.ERPType,"plantForm.ERPType"),"SAP"===c.ERPType&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Connectivity Details "})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsxs)("span",{children:[0===Object.keys(u).length&&(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{o(!0)},children:"Add Connectivity Details"}),Object.keys(u).length>0&&(0,j.jsx)(U.Ay,{item:!0,md:12,sm:8,xs:12,children:(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{style:{display:"flex"},children:[(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"URL :"})," ",u.url]})," ","\xa0",(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Username :"})," ",u.username]})," ","\xa0",(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Pass :"})," ",u.password]})," ","\xa0",(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"AuthKey :"})," ",u.authkey]})," ","\xa0",(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Port :"})," ",u.port]})," ","\xa0","SAP"===c.ERPType&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"sapsysnum :"})," ",u.sapsysnum]})," ","\xa0",(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"sapclientid :"})," ",u.sapclientid]})," "]}),(0,j.jsxs)("p",{children:[" ",(0,j.jsx)(We.A,{onClick:()=>{o(!0)}})]})]})})})]})})]})]}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{type:"submit",variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e,a,n,l,s,i,r;const o={id:c.plantName+"_"+c.ERPType+"_"+c.instance,plants:c.plantName+"_"+c.ERPType,plantName:c.plantName,ERPType:c.ERPType,orgId:c.orgId,SalesOrg:c.SalesOrg,aliasPlant:c.aliasPlant,material_master:c.material_master,ECN_required:c.ECN_required,bomusage:c.bomusage,exportToERP:c.exportToERP,ConnectivityDetails:u};null!==c&&void 0!==c&&c.instance&&(o.instance=null===c||void 0===c?void 0:c.instance,o.id=c.plantName+"_"+c.ERPType+"_"+c.instance,o.plants=c.plantName+"_"+c.ERPType+"_"+c.instance),""!==(null===(e=c.plantName)||void 0===e?void 0:e.trim())&&c.plantName&&""!==(null===(a=c.ERPType)||void 0===a?void 0:a.trim())&&c.ERPType&&""!==(null===(n=c.instance)||void 0===n?void 0:n.trim())&&c.instance&&""!==(null===(l=c.exportToERP)||void 0===l?void 0:l.trim())&&c.exportToERP&&("SAP"!==c.ERPType||""!==(null===(s=c.plantName)||void 0===s?void 0:s.trim())&&c.plantName)&&("SAP"!==c.ERPType||""!==(null===(i=c.material_master)||void 0===i?void 0:i.trim())&&c.material_master)&&("SAP"!==c.ERPType||""!==(null===(r=c.bomusage)||void 0===r?void 0:r.trim())&&c.bomusage)&&("SAP"!==c.ERPType||c.instance)?t.addnewPlant(o).then((e=>{var t,a,n;if(e&&null!==e&&void 0!==e&&e.data&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.length)if(null!==e&&void 0!==e&&null!==(a=e.data[0])&&void 0!==a&&a.id)M("Plant added successfully!","success"),setTimeout((()=>{w("/plants")}),2e3);else if(null!==e&&void 0!==e&&null!==(n=e.data[0])&&void 0!==n&&n.msg){var l;M(null===e||void 0===e||null===(l=e.data[0])||void 0===l?void 0:l.msg,"error")}})):M("Please fill required details ","error")},children:"Submit"})})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{w(-1)}),200)},children:"Cancel"})})})]})]})})})}),b?(0,j.jsx)(be.A,{openAlert:y,openDesc:b,setOpenAlert:f}):(0,j.jsx)(j.Fragment,{}),(0,j.jsx)(xt,{open:r,onClose:P,connDetails:u,handleDialogClose:P,handleCDChange:e=>{p({...u,[e.target.name]:e.target.value})},handleAddCD:()=>{o(!1)},connectivityError:h,plantForm:c,classes:d})]})}const jt=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),yt=(0,T.Ay)({spanRed:{color:"#FF3D57"}});function ft(){var e;const{refreshData:t}=(0,B.A)(),a=new He,[l,s]=(0,n.useState)(),[r,o]=(0,n.useState)(!1),d=yt(),[c,m]=(0,n.useState)(!0),[u,p]=(0,n.useState)(),h=((0,i.zy)(),(0,i.Zp)()),x=(0,i.g)(),[g,v]=(0,n.useState)(!1),[y,f]=(0,n.useState)(null),[b,T]=(0,n.useState)({}),[w,O]=(0,n.useState)({}),[C,P]=(0,n.useState)([]),[M,D]=(0,n.useState)({}),L=[{value:"Y",label:"Yes"},{value:"N",label:"No"}];(0,n.useEffect)((()=>{a.getAllPlantsList().then((e=>{s(e.plant)}))}),[]);const N=e=>{const{name:t,value:a}=e.target,n={...b,[t]:a};T(n)},_=()=>{o(!1),p("")},R=(e,t)=>{v(!0),f({severity:t,desc:e})};return(0,n.useEffect)((()=>{null!==x&&void 0!==x&&x.plantId?(m(!0),a.getPlantById({id:null===x||void 0===x?void 0:x.plantId}).then((e=>{var t;if(m(!1),null!==e&&void 0!==e&&e.data&&null!==Object&&void 0!==Object&&null!==(t=Object.keys(null===e||void 0===e?void 0:e.data))&&void 0!==t&&t.length){var a,n,l,s,i,r,o,d,c,u,p,x;const t=null===e||void 0===e?void 0:e.data;D(t),P(null===t||void 0===t?void 0:t.BU),T({id:null===t||void 0===t?void 0:t.id,plants:null===t||void 0===t?void 0:t.plants,plantName:null===t||void 0===t?void 0:t.plantName,SalesOrg:null===t||void 0===t?void 0:t.SalesOrg,aliasPlant:null===t||void 0===t?void 0:t.aliasPlant,ERPType:null===t||void 0===t?void 0:t.ERPType,instance:null===t||void 0===t?void 0:t.instance,material_master:null===t||void 0===t?void 0:t.material_master,ECN_required:null===t||void 0===t?void 0:t.ECN_required,bomusage:null===t||void 0===t?void 0:t.bomusage,exportToERP:null===t||void 0===t?void 0:t.exportToERP,Connectivitydetails:{url:null===t||void 0===t||null===(a=t.ConnectivityDetails)||void 0===a?void 0:a.url,username:null===t||void 0===t||null===(n=t.ConnectivityDetails)||void 0===n?void 0:n.username,password:null===t||void 0===t||null===(l=t.ConnectivityDetails)||void 0===l?void 0:l.password,authkey:null===t||void 0===t||null===(s=t.ConnectivityDetails)||void 0===s?void 0:s.authkey,port:null===t||void 0===t||null===(i=t.ConnectivityDetails)||void 0===i?void 0:i.port}}),O({url:null===t||void 0===t||null===(r=t.ConnectivityDetails)||void 0===r?void 0:r.url,username:null===t||void 0===t||null===(o=t.ConnectivityDetails)||void 0===o?void 0:o.username,password:null===t||void 0===t||null===(d=t.ConnectivityDetails)||void 0===d?void 0:d.password,authkey:null===t||void 0===t||null===(c=t.ConnectivityDetails)||void 0===c?void 0:c.authkey,port:null===t||void 0===t||null===(u=t.ConnectivityDetails)||void 0===u?void 0:u.port,sapsysnum:null===t||void 0===t||null===(p=t.ConnectivityDetails)||void 0===p?void 0:p.sapsysnum,sapclientid:null===t||void 0===t||null===(x=t.ConnectivityDetails)||void 0===x?void 0:x.sapclientid})}else h("/plants",{state:{message:"Plant not found!",status:"error"}})}))):setTimeout((()=>{h("/plants",{state:{message:"Plant not found!",status:"error"}})}),200)}),[]),(0,j.jsxs)(jt,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Edit Plant"}]})}),(0,j.jsx)(ht.l1,{initialValues:{id:"",plants:"",ERPType:"",instance:"",Connectivitydetails:{}},onSubmit:()=>{},children:(0,j.jsx)(ht.lV,{children:(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,j.jsx)("h4",{children:"Edit Plant"}),(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Plant Name ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{disabled:!0,name:"plantName",value:b.plantName,onChange:N,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["ERP Type ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"ERPType",name:"ERPType",label:"ERPType",fullWidth:!0,disabled:!0,displayEmpty:!0,value:[null===b||void 0===b?void 0:b.ERPType],onChange:N,children:W.sd.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),("SAP"===b.ERPType||"ORACLE"===b.ERPType)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Instance ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{label:"instance",id:"instance",name:"instance",disabled:!0,fullWidth:!0,displayEmpty:!0,value:b.instance,onChange:N,children:W.oX.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})})]}),(null===(e=["ORACLE","SAP"])||void 0===e?void 0:e.includes(b.ERPType))&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Export To ERP"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"exportToERP",name:"exportToERP",fullWidth:!0,displayEmpty:!0,value:b.exportToERP,onChange:N,children:W.FD.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})})]}),"SAP"===b.ERPType&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Default Sales Org"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{label:"SalesOrg",name:"SalesOrg",defaultValue:b.SalesOrg,onChange:N,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Material Master"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"material_master",name:"material_master",label:"material_master",fullWidth:!0,displayEmpty:!0,value:b.material_master,onChange:N,children:L.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),"Y"===b.material_master&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Plantname Alias"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{label:"aliasPlant",name:"aliasPlant",value:b.aliasPlant,onChange:N,fullWidth:!0,margin:"normal"})})]}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"ECN Required"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"ECN_required",name:"ECN_required",label:"ECN_required",fullWidth:!0,displayEmpty:!0,value:b.ECN_required,onChange:N,children:L.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"BOM Usage"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"bomusage",name:"bomusage",fullWidth:!0,displayEmpty:!0,value:b.bomusage,onChange:N,children:W.Ch.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),function(e){for(let t in e)if(e.hasOwnProperty(t)&&""!==e[t]&&void 0!==e[t])return!0;return!1}(w)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Connectivity Details "})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsxs)("span",{children:[0===Object.keys(w).length||null===(null===M||void 0===M?void 0:M.ConnectivityDetails)&&(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{o(!0)},children:"Add Connectivity Details"}),(Object.keys(w).length>0||null!==(null===M||void 0===M?void 0:M.ConnectivityDetails))&&(0,j.jsx)(U.Ay,{item:!0,md:12,sm:8,xs:12,children:(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{style:{display:"flex"},children:[(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"URL :"})," ",w.url]})," ","\xa0",(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Username :"})," ",w.username]})," ","\xa0",(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Pass :"})," ",w.password]})," ","\xa0",(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"authkey :"})," ",w.authkey]})," ","\xa0",(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Port :"})," ",w.port]})," ","\xa0","SAP"===b.ERPType&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"sapsysnum :"})," ",w.sapsysnum]})," ","\xa0",(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"sapclientid :"})," ",w.sapclientid]})," "]}),(0,j.jsxs)("p",{children:[" ",(0,j.jsx)(We.A,{onClick:()=>{o(!0)}})]})]})})})]})})]})]}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{type:"submit",variant:"contained",color:"primary",margin:"2px",onClick:async()=>{var e,t,n,l,s,i,r;m(!0);const o={id:b.id,plants:b.plants,plantName:b.plantName,ERPType:b.ERPType,SalesOrg:b.SalesOrg,aliasPlant:b.aliasPlant,material_master:b.material_master,ECN_required:b.ECN_required,bomusage:b.bomusage,ConnectivityDetails:w,exportToERP:b.exportToERP};null!==b&&void 0!==b&&b.instance&&(o.instance=null===b||void 0===b?void 0:b.instance),""!==(null===(e=b.plantName)||void 0===e?void 0:e.trim())&&b.plantName&&""!==(null===(t=b.ERPType)||void 0===t?void 0:t.trim())&&b.ERPType&&""!==(null===(n=b.instance)||void 0===n?void 0:n.trim())&&b.instance&&""!==(null===(l=b.exportToERP)||void 0===l?void 0:l.trim())&&b.exportToERP&&("SAP"!==b.ERPType||""!==(null===(s=b.plantName)||void 0===s?void 0:s.trim())&&b.plantName)&&("SAP"!==b.ERPType||""!==(null===(i=b.material_master)||void 0===i?void 0:i.trim())&&b.material_master)&&("SAP"!==b.ERPType||""!==(null===(r=b.bomusage)||void 0===r?void 0:r.trim())&&b.bomusage)&&("SAP"!==b.ERPType||b.instance)?(m(!0),await a.updatePlant(o).then((e=>{var t;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(R("Plant updated successfully","success"),setTimeout((()=>{m(!1),h("/plants")}),2e3)):e.msg&&m(!1)}))):(R("Please fill required details ","error"),m(!1))},children:"Update"})})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{h(-1)}),200)},children:"Cancel"})})})]})]})})})}),y?(0,j.jsx)(be.A,{openAlert:g,openDesc:y,setOpenAlert:v}):(0,j.jsx)(j.Fragment,{}),t||c?(0,j.jsx)("div",{style:{textAlign:"center"},children:(0,j.jsx)(de.A,{show:!0})}):(0,j.jsx)(j.Fragment,{}),(0,j.jsx)(xt,{open:r,onClose:_,connDetails:w,handleDialogClose:_,handleCDChange:e=>{O({...w,[e.target.name]:e.target.value})},handleAddCD:()=>{o(!1)},connectivityError:u,plantForm:b,classes:d})]})}const bt=[{path:"/plants",element:(0,j.jsx)(ae,{children:(0,j.jsx)(pt,{})})},{path:"/createPlant",exact:!0,element:(0,j.jsx)(ae,{children:(0,j.jsx)(At,{})})},{path:"/editPlant/:plantId",exact:!0,element:(0,j.jsx)(ae,{children:(0,j.jsx)(ft,{})})}];class Tt{constructor(){this.getAllSourceList=()=>ze.A.get(`${d.Sb}/sourceList/getSource`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getSourceDetails",e),[]))),this.deleteSource=e=>ze.A.delete(`${d.Sb}/sourceList/deleteSource`,{data:{ids:e}},d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting source:",e),e})),this.addnewSource=e=>ze.A.post(`${d.Sb}/sourceList/addSource`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewSource",e),[]))),this.updateSource=e=>ze.A.put(`${d.Sb}/sourceList/updateSource`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.getSourceById=e=>ze.A.post(`${d.Sb}/sourceList/getSourceById`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getPlantById",e),[])))}}const Et=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),St=(0,T.Ay)({spanRed:{color:"#FF3D57"}});function wt(){const[e,t]=(0,n.useState)({}),[a,l]=(0,n.useState)(!1),[s,r]=(0,n.useState)(null),o=St();let d=(0,i.Zp)();const c=new Tt,m=a=>{const{name:n,value:l}=a.target,s={...e,[n]:l};t(s)},u=(e,t)=>{l(!0),r({severity:t,desc:e})};return(0,j.jsxs)(Et,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Create Source"}]})}),(0,j.jsxs)("form",{children:[(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,j.jsx)("h4",{children:"Create Source"}),(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Source ",(0,j.jsx)("span",{className:o.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"source",value:e.source,onChange:m,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Instance ",(0,j.jsx)("span",{className:o.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"instance",value:e.instance,onChange:m,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Environment ",(0,j.jsx)("span",{className:o.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"environment",value:e.environment,onChange:m,fullWidth:!0,margin:"normal"})}),(0,j.jsxs)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,j.jsx)("span",{children:"ERP Type "})," ",(0,j.jsx)("span",{className:o.spanRed,children:"*"})]}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:e.ERPType,onChange:m,children:W.sd.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})})]}),(0,j.jsx)("br",{}),(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var t,a,n,l;if(""===(null===(t=e.source)||void 0===t?void 0:t.trim())||!e.source||""===(null===(a=e.environment)||void 0===a?void 0:a.trim())||!e.environment||""===(null===(n=e.instance)||void 0===n?void 0:n.trim())||!e.instance||""===(null===(l=e.ERPType)||void 0===l?void 0:l.trim())||!e.ERPType)return void u("Please fill the require details","error");const s={source:e.source,environment:e.environment,instance:e.instance,ERPType:e.ERPType};c.addnewSource(s).then((e=>{var t,a;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(u("Source added successfully!","success"),setTimeout((()=>{d("/sourceList")}),2e3)):null!==e&&void 0!==e&&null!==(a=e.data[0])&&void 0!==a&&a.msg&&u(e.data[0].msg,"error")}))},children:"Submit"})})}),(0,j.jsx)(U.Ay,{item:!0,md:2,sm:4,xs:6,className:"font-medium",children:(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{d(-1)}),200)},children:"Cancel"})})})]})]})}),s?(0,j.jsx)(be.A,{openAlert:a,openDesc:s,setOpenAlert:l}):(0,j.jsx)(j.Fragment,{})]})]})}const Ot=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Ct=(0,T.Ay)({spanRed:{color:"#FF3D57"}});function Pt(){const{refreshData:e}=(0,B.A)(),[t,a]=(0,n.useState)(!0),[l,s]=(0,n.useState)(!1),[r,o]=(0,n.useState)(null),d=((0,i.zy)(),Ct());let c=(0,i.Zp)();const m=(0,i.g)(),u=new Tt,[p,h]=(0,n.useState)({}),x=e=>{const{name:t,value:a}=e.target,n={...p,[t]:a};h(n)},g=(e,t)=>{s(!0),o({severity:t,desc:e})};return(0,n.useEffect)((()=>{null!==m&&void 0!==m&&m.sourceId?(a(!0),u.getSourceById({id:null===m||void 0===m?void 0:m.sourceId}).then((e=>{var t;if(a(!1),null!==e&&void 0!==e&&e.data&&null!==Object&&void 0!==Object&&null!==(t=Object.keys(null===e||void 0===e?void 0:e.data))&&void 0!==t&&t.length){const t=null===e||void 0===e?void 0:e.data;h({source:t.source,environment:t.environment,instance:t.instance,ERPType:t.ERPType})}else c("/sourceList",{state:{message:"Source not found!",status:"error"}})}))):setTimeout((()=>{c("/sourceList",{state:{message:"Source not found!",status:"error"}})}),200)}),[]),(0,j.jsxs)(Ot,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Edit Source"}]})}),(0,j.jsxs)("form",{children:[(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,j.jsx)("h4",{children:"Edit Source"}),(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Source ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"source",disabled:!0,value:p.source,onChange:x,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Instance ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"instance",disabled:!0,value:p.instance,onChange:x,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Environment ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"environment",value:p.environment,onChange:x,fullWidth:!0,margin:"normal"})}),(0,j.jsxs)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,j.jsx)("span",{children:"ERP Type "})," ",(0,j.jsx)("span",{className:d.spanRed,children:"*"})]}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{disabled:!0,name:"ERPType",fullWidth:!0,value:[p.ERPType],onChange:x,children:W.sd.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})})]}),(0,j.jsx)("br",{}),(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:async()=>{var e,t,n,l;if(a(!0),""===(null===(e=p.source)||void 0===e?void 0:e.trim())||!p.source||""===(null===(t=p.environment)||void 0===t?void 0:t.trim())||!p.environment||""===(null===(n=p.instance)||void 0===n?void 0:n.trim())||!p.instance||""===(null===(l=p.ERPType)||void 0===l?void 0:l.trim())||!p.ERPType)return g("Please fill the require details","error"),void a(!1);const s={source:p.source,environment:p.environment,instance:p.instance,ERPType:p.ERPType};u.updateSource(s).then((e=>{g("Source updated successfully","success"),setTimeout((()=>{a(!1),c("/sourceList")}),2e3)}))},children:"Update"})})}),(0,j.jsx)(U.Ay,{item:!0,md:2,sm:4,xs:6,className:"font-medium",children:(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{c(-1)}),200)},children:"Cancel"})})})]})]})}),r?(0,j.jsx)(be.A,{openAlert:l,openDesc:r,setOpenAlert:s}):(0,j.jsx)(j.Fragment,{}),e||t?(0,j.jsx)("div",{style:{textAlign:"center"},children:(0,j.jsx)(de.A,{show:!0})}):(0,j.jsx)(j.Fragment,{})]})]})}const Mt=e=>{const t=new ue.Q,[a,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)((null===e||void 0===e?void 0:e.sourceData)||[]),[r,o]=(0,n.useState)("allData"),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)(null);console.log("props",e);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{l(!0)},children:"Export"}),(0,j.jsxs)(le.A,{open:a,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,j.jsx)(ie.A,{children:(0,j.jsx)(re.A,{children:(0,j.jsx)(E.A,{width:"100%",overflow:"auto",children:(0,j.jsx)(A.Tn,{children:(0,j.jsx)(U.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,j.jsx)(U.Ay,{container:!0,alignItems:"center",children:(0,j.jsxs)(Pe.A,{children:[(0,j.jsx)(Me.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,j.jsxs)(Oe.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:r,onChange:t=>{o(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.sourceData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,j.jsx)(Ce.A,{value:"allData",control:(0,j.jsx)(we.A,{}),label:"All Data"}),(0,j.jsx)(Ce.A,{value:"selectedData",control:(0,j.jsx)(we.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"}),(0,j.jsx)(S.A,{onClick:()=>{l(!1);let a=("allData"!==r?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.sourceData)||[],n=null===a||void 0===a?void 0:a.map((e=>({Source:e.source,Instance:e.instance,Environment:e.environment,"ERP Type":e.ERPType})));t.exportTemplate({data:n,sheet_name:"Source"}).then((e=>{u(e),c(!0),h(!0),g({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),x?(0,j.jsx)(be.A,{openAlert:p,openDesc:x,setOpenAlert:h}):(0,j.jsx)(j.Fragment,{})]})},Dt=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Lt=()=>{const[e,t]=(0,n.useState)(),[a,l]=(0,n.useState)([]),[s,r]=(0,n.useState)([]),[o,d]=(0,n.useState)(""),[c,m]=(0,n.useState)(!1),u=new Tt,[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)(null),[v,y]=(0,n.useState)({}),[f,b]=(0,n.useState)([]),[T,w]=(0,n.useState)({}),[O,C]=(0,n.useState)([]),P=(0,n.useRef)(null),M=P&&P.current&&P.current.dataMap?P.current.dataMap:null,D=(0,n.useCallback)((e=>{let{selected:t}=e;w(t)}),[]),[L,N]=(0,n.useState)(!0);(0,n.useEffect)((()=>{N(!0),u.getAllSourceList().then((e=>{l(e),r(e),R(e)})).finally((()=>{N(!1)}))}),[]);const[_,R]=(0,n.useState)([]);(0,n.useEffect)((()=>{R(a)}),[a]);let I=(0,_e.t$)([..._],"source");const k=(0,i.Zp)(),B=(0,n.useRef)("initialValue"),F=e=>{B.current="edit";const t=e;setTimeout((()=>{k(`/editSourceList/${null===t||void 0===t?void 0:t.id}`,{state:{plantMode:B.current,selectedSourceData:t}})}),200)},W=e=>{m(!0),t(e)};(0,n.useEffect)((()=>{const e=!0===T?M:T,t=e&&Object.keys(e).map((t=>e[t]));C(t)}),[T,M]),(0,n.useEffect)((()=>{const e=a.filter((e=>""===o||e.source.toLowerCase().includes(o.toLowerCase())||e.environment.toLowerCase().includes(o.toLowerCase())||e.instance.toLowerCase().includes(o.toLowerCase())||e.ERPType.toLowerCase().includes(o.toLowerCase())));R(e)}),[o,a]);const $=e=>{y(e);const t=Ne(Lt)({data:a,sortInfo:e,sortedSourceData:I,onSortInfoChange:$,initialData:s});l(t.props.data),R(t.props.data)};return(0,j.jsxs)(Dt,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Source"}]})}),(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(ce.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;d(t)},value:o,style:{width:"100%"}})}),(0,j.jsxs)(U.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{},children:"Search"}),(0,j.jsx)("div",{style:{flex:1}}),(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,onClick:()=>{B.current="create",setTimeout((()=>{k("/createSourceList",{state:{plantMode:B.current}})}),200)},children:"Create"}),(0,j.jsx)(S.A,{variant:"contained",disabled:1!==(null===O||void 0===O?void 0:O.length),onClick:()=>{F(O[0])},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,j.jsx)(S.A,{variant:"contained",disabled:null===O||void 0===O||!O.length,onClick:()=>{W(O[0]),m(!0)},style:{margin:"0 10px 0 10px"},children:"Delete"}),(0,j.jsx)(Mt,{sourceData:a,filterTemplateData:O})]}),(0,j.jsxs)(E.A,{width:"100%",overflow:"auto",children:[(0,j.jsx)("br",{}),L?(0,j.jsx)(E.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:550},children:(0,j.jsx)(dt.A,{})}):(0,j.jsx)(Le.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:[{name:"source",header:(0,j.jsx)(me.A,{title:"Name",children:"Source"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.source})}},{name:"instance",header:(0,j.jsx)(me.A,{title:"Instance",children:"Instance"}),defaultFlex:1,defaultWidth:50},{name:"environment",header:(0,j.jsx)(me.A,{title:"Environment",children:"Environment"}),defaultFlex:1,defaultWidth:50},{name:"ERPType",header:(0,j.jsx)(me.A,{title:"ERP Type",children:"ERP Type"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.ERPType})}}],dataSource:null==v?_:I,checkboxColumn:!0,selected:T,onSelectionChange:D,handle:e=>P.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===P||void 0===P||null===(e=P.current)||void 0===e?void 0:e.setScrollTop(0==(null===O||void 0===O?void 0:O.length)?0:null===P||void 0===P||null===(t=P.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:$})]})]})}),x?(0,j.jsx)(be.A,{openAlert:p,openDesc:x,setOpenAlert:h}):(0,j.jsx)(j.Fragment,{}),(0,j.jsxs)(le.A,{open:c,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Source"}),(0,j.jsx)(ie.A,{children:1===O.length?(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(re.A,{children:["Do you want to delete the source ",(0,j.jsx)("b",{children:null===e||void 0===e?void 0:e.source})," ","having instance ",(0,j.jsx)("b",{children:null===e||void 0===e?void 0:e.instance})," and ERPType"," ",(0,j.jsx)("b",{children:null===e||void 0===e?void 0:e.ERPType})]})}):(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(re.A,{children:"Do you want to delete the seleted sources?"})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{autoFocus:!0,onClick:()=>{m(!1)},children:"Cancel"}),(0,j.jsx)(S.A,{onClick:async()=>{m(!1);try{const e=null===O||void 0===O?void 0:O.map((e=>null===e||void 0===e?void 0:e.id));await u.deleteSource(e).then((e=>{w({}),C([]),h(!0),g({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))}catch(e){return e}u.getAllSourceList().then((e=>{l(e)}))},children:"delete"})]})]})]})},Nt=Lt,_t=[{path:"/sourceList",element:(0,j.jsx)(ae,{children:(0,j.jsx)(Nt,{})})},{path:"/createSourceList",element:(0,j.jsx)(ae,{children:(0,j.jsx)(wt,{})})},{path:"/editSourceList/:sourceId",element:(0,j.jsx)(ae,{children:(0,j.jsx)(Pt,{})})}];class Rt{constructor(){this.getAllMappings=()=>ze.A.get(`${d.Sb}/mappings/getMappings`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getSourceDetails",e),[]))),this.deleteMapping=e=>ze.A.delete(`${d.Sb}/mappings/deleteMapping/${e}`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting source:",e),e})),this.addnewMapping=e=>ze.A.post(`${d.Sb}/mappings/addMapping`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewSource",e),[]))),this.updateMapping=e=>ze.A.put(`${d.Sb}/mappings/updateMapping`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[])))}}const It=n.forwardRef((function(e,t){return(0,j.jsx)(Ge.A,{elevation:6,ref:t,variant:"filled",...e})})),kt=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Bt=(0,T.Ay)({spanRed:{color:"#FF3D57"}});function Ft(){const[e,t]=(0,n.useState)({}),[a,l]=(0,n.useState)({}),[s,r]=(0,n.useState)(!1),[o,d]=(0,n.useState)(),[c,m]=(0,n.useState)(),[u,p]=(0,n.useState)([]),[h,x]=(0,n.useState)(""),[g,v]=(0,n.useState)(""),[y,f]=(0,n.useState)(""),[b,T]=(0,n.useState)({}),w=Bt();let O=(0,i.Zp)();new Tt;const C=new Rt,P=e=>{const{name:t,value:a}=e.target;"newKey"===t?v(a):"newValue"===t?f(a):T((e=>({...e,[t]:a})))},M=e=>{const{name:t,value:n}=e.target,s={...a,[t]:n};l(s)},D=(e,t)=>{d(e),m(t),r(!0)},L=(e,t)=>{"clickaway"!==t&&r(!1)};return(0,j.jsxs)(kt,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Create Mapping"}]})}),(0,j.jsxs)("form",{children:[(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,j.jsx)("h4",{children:"Create Mapping"}),(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Name ",(0,j.jsx)("span",{className:w.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{label:"Name",name:"Name",value:a.Name,onChange:M,fullWidth:!0,margin:"normal"})}),(0,j.jsxs)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,j.jsx)("span",{children:"ERP Type "})," ",(0,j.jsx)("span",{className:w.spanRed,children:"*"})]}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:a.ERPType,onChange:M,children:W.sd.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Mapping values ",(0,j.jsx)("span",{className:w.spanRed,children:"*"})]})}),(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,j.jsxs)(U.Ay,{container:!0,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,xs:3,style:{marginLeft:"3px"},children:(0,j.jsx)(ce.A,{name:"newKey",label:"key",value:g,variant:"outlined",fullWidth:!0,margin:"normal",onChange:P})}),"\xa0 \xa0",(0,j.jsx)(U.Ay,{item:!0,xs:3,children:(0,j.jsx)(ce.A,{name:"newValue",label:"value",value:y,variant:"outlined",fullWidth:!0,margin:"normal",onChange:P})}),"\xa0 \xa0",(0,j.jsx)(U.Ay,{item:!0,xs:3,children:(0,j.jsx)(S.A,{style:{fontSize:"30px",marginTop:"6px"},onClick:()=>{const e=u.some((e=>e.key===g)),t=u.some((e=>e.value===y));e||t?x("The key or value already exists"):(p((e=>[...e,{key:g,value:y}])),v(""),f(""),x(""))},children:(0,j.jsx)("b",{children:"+"})})})]}),(0,j.jsx)("p",{style:{color:"red"},children:h}),(0,j.jsx)("div",{style:{height:"100px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",alignContent:"center",width:"51%"},children:u.map(((e,t)=>(0,j.jsx)(Fe.A,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,j.jsxs)(U.Ay,{container:!0,alignItems:"center",style:{marginLeft:"2px"},children:[(0,j.jsx)(U.Ay,{item:!0,xs:6,children:(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:e.key}),":",(0,j.jsx)("b",{children:e.value})]})}),(0,j.jsx)(U.Ay,{item:!0,xs:2,children:(0,j.jsx)(Ue.A,{onClick:()=>(e=>{p((t=>{const a=[...t];return a.splice(e,1),a}))})(t),children:(0,j.jsx)($e.A,{})})})]})},t)))})]})]}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e,t;if(""===(null===(e=a.Name)||void 0===e?void 0:e.trim())||!a.Name||""===(null===(t=a.ERPType)||void 0===t?void 0:t.trim())||!a.ERPType||0===u.length)return void D("Please fill the require details","error");const n={Name:a.Name,ERPType:a.ERPType,List:u.reduce(((e,t)=>(e[t.key]=t.value,e)),{})};C.addnewMapping(n).then((e=>{var t,a,n;if(e&&null!==e&&void 0!==e&&e.data&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.length){if(null!==e&&void 0!==e&&null!==(a=e.data[0])&&void 0!==a&&a.id)D("Mapping added successfully!","success"),setTimeout((()=>{O("/mappings")}),200);else if(null!==e&&void 0!==e&&null!==(n=e.data[0])&&void 0!==n&&n.msg){var l;D(null===e||void 0===e||null===(l=e.data[0])||void 0===l?void 0:l.msg,"error")}}else console.log("No data in resp.")}))},children:"Submit"})})})]})}),(0,j.jsx)(Ve.A,{open:s,autoHideDuration:3e3,onClose:L,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,j.jsx)(It,{onClose:L,severity:c,sx:{width:"100%"},children:o})})]})]})}const Ut=n.forwardRef((function(e,t){return(0,j.jsx)(Ge.A,{elevation:6,ref:t,variant:"filled",...e})})),Wt=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),$t=(0,T.Ay)({spanRed:{color:"#FF3D57"}});function Vt(){var e;const[t,a]=(0,n.useState)(!1),[l,s]=(0,n.useState)(),[r,o]=(0,n.useState)(),[d,c]=(0,n.useState)(""),[m,u]=(0,n.useState)(""),[p,h]=(0,n.useState)(""),[x,g]=(0,n.useState)({}),v=$t();let y=(0,i.Zp)();const f=(0,i.zy)(),b=new Rt,T=null===(e=f.state)||void 0===e?void 0:e.selectedMappingData,[w,O]=(0,n.useState)({Name:T.Name,ERPType:T.ERPType}),C=Object.entries(T.List).map((e=>{let[t,a]=e;return{key:t,value:a}})),[P,M]=(0,n.useState)(C),D=e=>{const{name:t,value:a}=e.target;"newKey"===t?u(a):"newValue"===t?h(a):g((e=>({...e,[t]:a})))},L=e=>{const{name:t,value:a}=e.target,n={...w,[t]:a};O(n)},N=(e,t)=>{s(e),o(t),a(!0)},_=(e,t)=>{"clickaway"!==t&&a(!1)};return(0,j.jsxs)(Wt,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Edit Mapping"}]})}),(0,j.jsxs)("form",{children:[(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,j.jsx)("h4",{children:"Edit Mapping"}),(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Name ",(0,j.jsx)("span",{className:v.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{label:"Name",name:"Name",disabled:!0,value:w.Name,onChange:L,fullWidth:!0,margin:"normal"})}),(0,j.jsxs)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,j.jsx)("span",{children:"ERP Type "})," ",(0,j.jsx)("span",{className:v.spanRed,children:"*"})]}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:w.ERPType,onChange:L,children:W.sd.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Mapping values ",(0,j.jsx)("span",{className:v.spanRed,children:"*"})]})}),(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,j.jsxs)(U.Ay,{container:!0,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,xs:3,style:{marginLeft:"3px"},children:(0,j.jsx)(ce.A,{name:"newKey",label:"key",value:m,variant:"outlined",fullWidth:!0,margin:"normal",onChange:D})}),"\xa0 \xa0",(0,j.jsx)(U.Ay,{item:!0,xs:3,children:(0,j.jsx)(ce.A,{name:"newValue",label:"value",value:p,variant:"outlined",fullWidth:!0,margin:"normal",onChange:D})}),"\xa0 \xa0",(0,j.jsx)(U.Ay,{item:!0,xs:3,children:(0,j.jsx)(S.A,{style:{fontSize:"30px",marginTop:"6px"},onClick:()=>{const e=P.some((e=>e.key===m)),t=P.some((e=>e.value===p));e||t?c("The key or value already exists"):(M((e=>[...e,{key:m,value:p}])),u(""),h(""),c(""))},children:(0,j.jsx)("b",{children:"+"})})})]}),(0,j.jsx)("p",{style:{color:"red"},children:d}),(0,j.jsx)("div",{style:{height:"100px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",alignContent:"center",width:"51%"},children:P.map(((e,t)=>(0,j.jsx)(Fe.A,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,j.jsxs)(U.Ay,{container:!0,alignItems:"center",style:{marginLeft:"2px"},children:[(0,j.jsx)(U.Ay,{item:!0,xs:6,children:(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:e.key}),":",(0,j.jsx)("b",{children:e.value})]})}),(0,j.jsx)(U.Ay,{item:!0,xs:2,children:(0,j.jsx)(Ue.A,{onClick:()=>(e=>{M((t=>{const a=[...t];return a.splice(e,1),a}))})(t),children:(0,j.jsx)($e.A,{})})})]})},t)))})]})]}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e,t;if(""===(null===(e=w.Name)||void 0===e?void 0:e.trim())||!w.Name||""===(null===(t=w.ERPType)||void 0===t?void 0:t.trim())||!w.ERPType||0===P.length)return void N("Please fill the require details","error");const a={Name:w.Name,ERPType:w.ERPType,List:P.reduce(((e,t)=>(e[t.key]=t.value,e)),{})};b.updateMapping(a).then((e=>{setTimeout((()=>{y("/mappings")}),200)})),N("Mapping updated successfully","success")},children:"Update"})})})]})}),(0,j.jsx)(Ve.A,{open:t,autoHideDuration:3e3,onClose:_,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,j.jsx)(Ut,{onClose:_,severity:r,sx:{width:"100%"},children:l})})]})]})}var Gt=a(19090);const zt=n.forwardRef((function(e,t){return(0,j.jsx)(Ge.A,{elevation:6,ref:t,variant:"filled",...e})})),Ht=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Yt=(0,T.Ay)(xe.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Xt=()=>{const[e,t]=(0,n.useState)(0),[a,l]=(0,n.useState)(10),[s,r]=(0,n.useState)(),[o,d]=(0,n.useState)(),[c,m]=(0,n.useState)(""),[u,p]=(0,n.useState)([]),[h,x]=(0,n.useState)(!1),[g,v]=(0,n.useState)(!1),y=new Rt;(0,n.useEffect)((()=>{y.getAllMappings().then((e=>{d(e)}))}),[]);const[f,b]=(0,n.useState)([]);(0,n.useEffect)((()=>{b(o)}),[o]);const T=(0,i.Zp)(),w=(0,n.useRef)("initialValue"),O=()=>{x(!0)},C=(e,t)=>{"clickaway"!==t&&x(!1)},[P,M]=(0,n.useState)({Name:[],ERPType:[]}),D=(e,t)=>{M((a=>({...a,[e]:t})))};(0,n.useEffect)((()=>{let e=o;P.Name.length>0&&(e=e.filter((e=>P.Name.includes(e.Name)))),P.ERPType.length>0&&(e=e.filter((e=>P.ERPType.includes(e.ERPType)))),p(e)}),[P]);const L=e=>{const t=new Set;return null===o||void 0===o||o.forEach((a=>t.add(a[e]))),Array.from(t)};return(0,j.jsxs)(Ht,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Mappings"}]})}),(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(ce.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;if(m(t),""===t)b(o);else{const e=null===o||void 0===o?void 0:o.filter((e=>{var a,n;return(null===e||void 0===e||null===(a=e.Name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))||(null===(n=e.ERPType)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase()))}));b(e)}},value:c,style:{width:"100%"}})}),(0,j.jsxs)(U.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{if(""===c)b(o);else{const e=o.filter((e=>null===e||void 0===e?void 0:e.Name.toLowerCase().includes(c.toLowerCase())));b(e)}},children:"Search"}),(0,j.jsx)("div",{style:{flex:1}}),(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,onClick:()=>{w.current="create",setTimeout((()=>{T("/createMappings",{state:{plantMode:w.current}})}),200)},children:"Create"})]}),(0,j.jsxs)(E.A,{width:"100%",overflow:"auto",children:[(0,j.jsxs)(Yt,{children:[(0,j.jsx)(ge.A,{children:(0,j.jsxs)(ve.A,{children:[(0,j.jsxs)(Ae.A,{align:"left",children:[(0,j.jsx)(je.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Mapping Name"}),(0,j.jsx)("br",{}),(0,j.jsx)(ye.A,{style:{width:"70%"},multiple:!0,options:L("Name"),value:P.Name,onChange:(e,t)=>D("Name",t),renderValue:()=>null,renderInput:e=>(0,j.jsx)(ce.A,{...e,variant:"outlined",label:"Filter Name",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionLabel:e=>e,getOptionSelected:(e,t)=>P.Name.includes(t),ChipProps:{style:{fontSize:"8px"}}})]}),(0,j.jsxs)(Ae.A,{align:"left",children:[(0,j.jsx)(je.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"ERP Type"}),(0,j.jsx)("br",{}),(0,j.jsx)(ye.A,{style:{width:"70%"},multiple:!0,options:L("ERPType"),value:P.ERPType,onChange:(e,t)=>D("ERPType",t),renderValue:()=>null,renderInput:e=>(0,j.jsx)(ce.A,{...e,variant:"outlined",label:"Filter ERP Type",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionLabel:e=>e,getOptionSelected:(e,t)=>P.ERPType.includes(t),ChipProps:{style:{fontSize:"8px"}}})]}),(0,j.jsx)(Ae.A,{align:"left",children:(0,j.jsx)(je.A,{style:{paddingBottom:"85px",fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Actions"})})]})}),(0,j.jsx)(fe.A,{children:(null===f||void 0===f?void 0:f.length)>0?f.filter((e=>(""===c||e.Name.toLowerCase().includes(c.toLowerCase())||(null===e||void 0===e?void 0:e.ERPType.toLowerCase().includes(c.toLowerCase())))&&(0===P.Name.length||P.Name.includes(e.Name))&&(0===P.ERPType.length||P.ERPType.includes(e.ERPType)))).slice(e*a,e*a+a).map(((e,t)=>(0,j.jsxs)(ve.A,{children:[(0,j.jsx)(Ae.A,{align:"left",style:{textTransform:"none"},children:e.Name}),(0,j.jsx)(Ae.A,{align:"left",style:{textTransform:"none"},children:e.ERPType}),(0,j.jsxs)(Ae.A,{align:"left",style:{textTransform:"none"},children:[(0,j.jsx)(We.A,{id:e.id,onClick:()=>(e=>{w.current="edit";const t=e;setTimeout((()=>{T("/editMappings",{state:{plantMode:w.current,selectedMappingData:t}})}),200)})(e)})," ",(0,j.jsx)($e.A,{onClick:()=>{return t=e,v(!0),void r(t);var t}})]})]},t))):(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(Ae.A,{align:"left",colSpan:5,style:{textAlign:"center"},children:"No result found!"})})})]}),null!==o&&void 0!==o&&o.length?(0,j.jsx)(Gt.A,{sx:{px:2},page:e,component:"div",rowsPerPage:a,count:null===o||void 0===o?void 0:o.length,onPageChange:(e,a)=>{t(a)},rowsPerPageOptions:[10,25,50],onRowsPerPageChange:e=>{l(+e.target.value),t(0)},nextIconButtonProps:{"aria-label":"Next Page"},backIconButtonProps:{"aria-label":"Previous Page"}}):(0,j.jsx)(j.Fragment,{})]})]})}),(0,j.jsx)(Ve.A,{open:h,autoHideDuration:3e3,onClose:C,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,j.jsx)(zt,{onClose:C,severity:"success",sx:{width:"100%"},children:"Mapping deleted successfully!"})}),(0,j.jsxs)(le.A,{open:g,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete template"}),(0,j.jsx)(ie.A,{children:(0,j.jsxs)(re.A,{children:["Do you want to delete the source ",(0,j.jsx)("b",{children:null===s||void 0===s?void 0:s.Name})," ","having ERP type ",(0,j.jsx)("b",{children:null===s||void 0===s?void 0:s.ERPType})]})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{autoFocus:!0,onClick:()=>{v(!1)},children:"Cancel"}),(0,j.jsx)(S.A,{onClick:async()=>{v(!1);try{await y.deleteMapping(s.id)}catch(e){console.error("Failed to delete plant:",e)}y.getAllMappings().then((e=>{d(e)})),O()},children:"delete"})]})]})]})},qt=[{path:"/mappings",element:(0,j.jsx)(ae,{children:(0,j.jsx)(Xt,{})}),auth:ot.admin},{path:"/createMappings",element:(0,j.jsx)(ae,{children:(0,j.jsx)(Ft,{})}),auth:ot.admin},{path:"/editMappings",element:(0,j.jsx)(ae,{children:(0,j.jsx)(Vt,{})}),auth:ot.admin}];var Kt=a(42895);const Qt=e=>{const t=new ue.Q,[a,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)((null===e||void 0===e?void 0:e.buData)||[]),[r,o]=(0,n.useState)("allData"),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)(null);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{l(!0)},children:"Export"}),(0,j.jsxs)(le.A,{open:a,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,j.jsx)(ie.A,{children:(0,j.jsx)(re.A,{children:(0,j.jsx)(E.A,{width:"100%",overflow:"auto",children:(0,j.jsx)(A.Tn,{children:(0,j.jsx)(U.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,j.jsx)(U.Ay,{container:!0,alignItems:"center",children:(0,j.jsxs)(Pe.A,{children:[(0,j.jsx)(Me.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,j.jsxs)(Oe.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:r,onChange:t=>{o(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.buData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,j.jsx)(Ce.A,{value:"allData",control:(0,j.jsx)(we.A,{}),label:"All Data"}),(0,j.jsx)(Ce.A,{value:"selectedData",control:(0,j.jsx)(we.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"}),(0,j.jsx)(S.A,{onClick:()=>{var a;l(!1);let n=("allData"!==r?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.buData)||[];e.sortInfo&&0!==Object.keys(e.sortInfo).length||(n=n.sort(((e,t)=>{var a,n;const l=(null===(a=e.businessUnit)||void 0===a?void 0:a.toLowerCase())||"",s=(null===(n=t.businessUnit)||void 0===n?void 0:n.toLowerCase())||"";return l<s?-1:l>s?1:0})));let s=null===(a=n)||void 0===a?void 0:a.map((e=>{var t,a;return{"Design Organization":e.businessUnit,"Export To ERP Disabled":e.exportToERPdisabled,"Export To ERP Bypassed":e.exportToERPbyPassed,"Enable BOS Transfer":e.enableBOSTransfer,"Context DFF":e.contextDEF,"EMR Division ARG":e.EMRDivisionORGValue,"Product Hierarchy":e.productHierarchy,"Plant Name":(null===e||void 0===e||null===(t=e.plants)||void 0===t?void 0:t.length)>0?null===e||void 0===e||null===(a=e.plants)||void 0===a?void 0:a.map((e=>null===e||void 0===e?void 0:e.plantName)).join("\n"):null,"Do Not Send To ERP":e.doNotSendToERP.join("\n"),"Oracle Existing":e.oracleExisting.join("\n"),"Make Without BOM List":e.makeWithoutBOMList.join("\n"),"Not Owning Division List":e.notOwningDivisionList.join("\n")}}));t.exportTemplate({data:s,sheet_name:"Design Organization"}).then((e=>{u(e),c(!0),h(!0),g({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),x?(0,j.jsx)(be.A,{openAlert:p,openDesc:x,setOpenAlert:h}):(0,j.jsx)(j.Fragment,{})]})},Zt=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Jt=()=>{const{bussinessUnitLists:e,updateBussinessUnitLists:t}=(0,B.A)();let a=(0,i.zy)().state;const[l,s]=(0,n.useState)(),[r,o]=(0,n.useState)([]),[d,c]=(0,n.useState)(""),[m,u]=(0,n.useState)(!1),p=new Kt.D,[h,x]=(0,n.useState)(!1),[g,v]=(0,n.useState)(null),[y,f]=(0,n.useState)({}),[b,T]=(0,n.useState)({}),[w,O]=(0,n.useState)([]),C=(0,n.useRef)(null),P=C&&C.current&&C.current.dataMap?C.current.dataMap:null,[M,D]=(0,n.useState)(!0),[L,N]=(0,n.useState)([]),_=(0,n.useCallback)((e=>{let{selected:t}=e;T(t)}),[]);(0,n.useEffect)((()=>{D(!0),e?setTimeout((()=>{o(e),N(e),D(!1)}),500):p.getAllBuList().then((e=>{o(e.data),t(e.data),N(e.data),I(e.data)})).finally((()=>{D(!1)}))}),[e]);const[R,I]=(0,n.useState)([]);(0,n.useEffect)((()=>{I(r)}),[r]);const k=(0,_e.t$)([...R],"buName"),F=(0,i.Zp)(),W=(0,n.useRef)("initialValue"),$=e=>{W.current="edit";const t=e;setTimeout((()=>{F(`/editBU/${null===t||void 0===t?void 0:t.id}`,{state:{plantMode:W.current,selectedBUData:t}})}),200)},V=e=>{u(!0),s(e)};(0,n.useEffect)((()=>{const e=!0===b?P:b,t=e&&Object.keys(e).map((t=>e[t]));O(t)}),[b,P]),(0,n.useEffect)((()=>{if(r){const e=r.filter((e=>""===d||e.buName.toLowerCase().includes(d.toLowerCase())));I(e)}}),[d,r]),(0,n.useEffect)((()=>{var e,n,l;null!==(e=a)&&void 0!==e&&e.status&&(x(!0),v({severity:null===(n=a)||void 0===n?void 0:n.status,desc:null===(l=a)||void 0===l?void 0:l.message}),p.getAllBuList().then((e=>{o(e.data),t(e.data),N(e.data)})));a={},window.onbeforeunload=()=>{window.history.replaceState({},document.title)}}),[a]);const G=e=>{f(e);const t=Ne(Jt)({data:r,sortInfo:e,sortedFilteredBuData:k,onSortInfoChange:G,initialData:L});o(t.props.data),I(t.props.data)};return(0,j.jsxs)(Zt,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Design Organization"}]})}),(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(ce.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;c(t)},value:d,style:{width:"100%"}})}),(0,j.jsxs)(U.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{},children:"Search"}),(0,j.jsx)("div",{style:{flex:1}}),(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,onClick:()=>{W.current="create",setTimeout((()=>{F("/createBU",{state:{plantMode:W.current}})}),200)},children:"Create"}),(0,j.jsx)(S.A,{variant:"contained",disabled:1!==(null===w||void 0===w?void 0:w.length),onClick:()=>{$(w[0])},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,j.jsx)(S.A,{variant:"contained",disabled:null===w||void 0===w||!w.length,onClick:()=>{V(w[0]),u(!0)},style:{margin:"0 10px 0 10px"},children:"Delete"}),(0,j.jsx)(Qt,{sortInfo:y,buData:r,filterTemplateData:w})]}),(0,j.jsxs)(E.A,{width:"100%",overflow:"auto",children:[(0,j.jsx)("br",{}),M?(0,j.jsx)(E.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:550},children:(0,j.jsx)(dt.A,{})}):(0,j.jsx)(Le.Ay,{idProperty:"id",showZebraRows:!1,defaultLimit:100,rowStyle:e=>{let{data:t}=e;const a=Object.keys(b).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===b?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},columns:[{name:"buName",header:(0,j.jsx)(me.A,{title:"Design Organization",children:"Design Organization"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.buName})}},{name:"exportToERPdisabled",header:(0,j.jsx)(me.A,{title:"Export To ERP Disabled",children:"Export To ERP Disabled"}),defaultFlex:1,defaultWidth:50},{name:"exportToERPbyPassed",header:(0,j.jsx)(me.A,{title:"Export To ERP Bypassed",children:"Export To ERP Bypassed"}),defaultFlex:1,defaultWidth:50},{name:"enableBOSTransfer",header:(0,j.jsx)(me.A,{title:"Enable BOS Transfer",children:"Enable BOS Transfer"}),defaultFlex:1,defaultWidth:50},{name:"contextDFF",header:(0,j.jsx)(me.A,{title:"Context DFF",children:"Context DFF"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.contextDEF})}},{name:"EMRDivisionORGValue",header:(0,j.jsx)(me.A,{title:"EMR Division ORG Value",children:"EMR Division ARG"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.EMRDivisionORGValue})}},{name:"productHierarchy",header:(0,j.jsx)(me.A,{title:"Product Hierarchy",children:"Product Hierarchy"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.productHierarchy})}},{name:"plants",header:(0,j.jsx)(me.A,{title:"Plant Name",children:"Plant Name"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.plants.sort(((e,t)=>e.plantName.localeCompare(t.plantName))).map(((e,t)=>(0,j.jsx)("div",{children:null===e||void 0===e?void 0:e.plantName},t)))})}},{name:"DoNotSendToERP",header:(0,j.jsx)(me.A,{title:"DoNotSendToERP",children:"Do Not Send To ERP"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.doNotSendToERP.sort(((e,t)=>e.localeCompare(t))).map(((e,t)=>(0,j.jsx)("div",{children:e},t)))})}},{name:"OracleExisting",header:(0,j.jsx)(me.A,{title:"OracleExisting",children:"Oracle Existing"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.oracleExisting.sort(((e,t)=>e.localeCompare(t))).map(((e,t)=>(0,j.jsx)("div",{children:e},t)))})}},{name:"MakeWithoutBOMList",header:(0,j.jsx)(me.A,{title:"Make Without BOMList",children:"Make Without BOM List"}),defaultFlex:0,defaultWidth:170,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.makeWithoutBOMList.sort(((e,t)=>e.localeCompare(t))).map(((e,t)=>(0,j.jsx)("div",{children:e},t)))})}},{name:"NotOwningDivisionList",header:(0,j.jsx)(me.A,{title:"Not Owning DivisionList",children:"Not Owning Division List"}),defaultFlex:1,defaultWidth:100,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.notOwningDivisionList.sort(((e,t)=>e.localeCompare(t))).map(((e,t)=>(0,j.jsx)("div",{children:e},t)))})}}],dataSource:k,checkboxColumn:!0,selected:b,onSelectionChange:_,handle:e=>C.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===C||void 0===C||null===(e=C.current)||void 0===e?void 0:e.setScrollTop(0==(null===w||void 0===w?void 0:w.length)?0:null===C||void 0===C||null===(t=C.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:G})]})]})}),g?(0,j.jsx)(be.A,{openAlert:h,openDesc:g,setOpenAlert:x}):(0,j.jsx)(j.Fragment,{}),(0,j.jsxs)(le.A,{open:m,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Design Organization"}),(0,j.jsx)(ie.A,{children:1===w.length?(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(re.A,{children:["Do you want to delete the RDO ",(0,j.jsx)("b",{children:null===l||void 0===l?void 0:l.buName})," having plants"," ",(0,j.jsxs)("b",{children:[" ",null===l||void 0===l?void 0:l.plants.map((e=>e.plantName)).join(",")," "]})]})}):(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(re.A,{children:"Do you want to delete the seleted Design Organization?"})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{autoFocus:!0,onClick:()=>{u(!1)},children:"Cancel"}),(0,j.jsx)(S.A,{onClick:async()=>{u(!1);try{const e=null===w||void 0===w?void 0:w.map((e=>null===e||void 0===e?void 0:e.id));await p.deleteBU(e).then((e=>{console.log(e,"delete response"),x(!0),v({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),T({}),O([])}))}catch(e){console.error("Failed to delete BU:",e)}p.getAllBuList().then((e=>{o(e.data),t(e.data),N(e.data)}))},children:"delete"})]})]})]})},ea=Jt,ta=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}}));function aa(){const{refreshData:e,templatesInfo:t}=(0,B.A)(),[a,l]=(0,n.useState)({exportToERPdisabled:"N",exportToERPbyPassed:"N",enableBOSTransfer:"Y"}),[s,r]=(0,n.useState)([]),[o,d]=(0,n.useState)([]),[c,m]=(0,n.useState)([]),[u,p]=(0,n.useState)([]),[h,x]=(0,n.useState)([]),[g,v]=(0,n.useState)([]),[y,f]=(0,n.useState)(!1),[b,T]=(0,n.useState)(null),[w,O]=(0,n.useState)(!0);let C=(0,i.Zp)();const P=new Kt.D,M=new He;(0,n.useEffect)((()=>{O(!0),M.getAllPlantsList().then((e=>{r(e),O(!1)}))}),[]);const D=e=>{const{name:t,value:n}=e.target,s={...a,[t]:n};l(s)},L=(e,a)=>{console.log(`New Value: ${e} - `,a);const n=(null===a||void 0===a?void 0:a.filter((e=>t.some((t=>t.templateName===e.templateName)))))||[];"DoNotSendToERP"===e?m(n):"OracleExisting"===e?p(n):"MakeWithoutBOMList"===e?x(n):"NotOwningDivisionList"===e&&v(n)},N=(e,t)=>{f(!0),T({severity:t,desc:e})};return(0,_e.t$)(s,"plantName"),(0,_e.t$)(t,"templateName"),(0,j.jsxs)(ta,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Create Design Organization"}]})}),(0,j.jsxs)("form",{children:[(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,j.jsx)("h4",{children:"Create Design Organization"}),(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Design Organization ",(0,j.jsx)("span",{style:{color:"#FF3D57"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"buName",value:a.buName,onChange:D,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Export to ERP Disabled "})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{labelId:"exportToERPdisabled",id:"exportToERPdisabled",name:"exportToERPdisabled",fullWidth:!0,value:a.exportToERPdisabled,onChange:D,children:W.FD.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Export To ERP Bypassed"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{labelId:"exportToERPbyPassed",id:"exportToERPbyPassed",name:"exportToERPbyPassed",fullWidth:!0,value:a.exportToERPbyPassed,onChange:D,children:W.FD.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Enable BOS Transfer "})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{labelId:"enableBOSTransfer",id:"enableBOSTransfer",name:"enableBOSTransfer",fullWidth:!0,value:"Y",onChange:D,children:W.h4.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Context DFF"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"contextDEF",value:a.contextDEF,onChange:D,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"EMR Division ARG"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"EMRDivisionORGValue",value:a.EMRDivisionORGValue,onChange:D,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Product Hierarchy"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"productHierarchy",value:a.productHierarchy,onChange:D,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Plant Name ",(0,j.jsx)("span",{style:{color:"#FF3D57"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ye.A,{multiple:!0,value:o,getOptionLabel:e=>e.plantName,autoHighlight:!0,onChange:(e,t)=>{(e=>{const t=(null===e||void 0===e?void 0:e.filter((e=>s.some((t=>t.plantName===e.plantName)))))||[];d(t)})(t)},options:s,renderInput:e=>(0,j.jsx)(ce.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,j.jsx)(E.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.plantName})})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Do Not Send To ERP"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ye.A,{multiple:!0,value:c,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{L("DoNotSendToERP",t)},options:t,renderInput:e=>(0,j.jsx)(ce.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,j.jsx)(E.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Oracle Existing"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ye.A,{multiple:!0,value:u,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{L("OracleExisting",t)},options:t,renderInput:e=>(0,j.jsx)(ce.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,j.jsx)(E.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Make Without BOM List"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ye.A,{multiple:!0,value:h,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{L("MakeWithoutBOMList",t)},options:t,renderInput:e=>(0,j.jsx)(ce.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,j.jsx)(E.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Not Owning Division List"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ye.A,{multiple:!0,value:g,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{L("NotOwningDivisionList",t)},options:t,renderInput:e=>(0,j.jsx)(ce.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,j.jsx)(E.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,j.jsxs)(U.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{textAlign:"right"},children:[(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{C(-1)}),200)},style:{marginRight:"20px"},children:"Cancel"}),(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e;if(""===(null===(e=a.buName)||void 0===e?void 0:e.trim())||!a.buName||0===o.length)return void N("Please fill the require details","error");const t={id:a.buName,buName:a.buName,exportToERPdisabled:a.exportToERPdisabled,contextDEF:a.contextDEF,EMRDivisionORGValue:a.EMRDivisionORGValue,productHierarchy:a.productHierarchy,exportToERPbyPassed:a.exportToERPbyPassed,enableBOSTransfer:a.enableBOSTransfer,plants:(null===o||void 0===o?void 0:o.map((e=>({id:null===e||void 0===e?void 0:e.id,plantName:null===e||void 0===e?void 0:e.plantName}))))||[],doNotSendToERP:(null===c||void 0===c?void 0:c.map((e=>e.templateName)))||[],oracleExisting:(null===u||void 0===u?void 0:u.map((e=>e.templateName)))||[],makeWithoutBOMList:(null===h||void 0===h?void 0:h.map((e=>e.templateName)))||[],notOwningDivisionList:(null===g||void 0===g?void 0:g.map((e=>e.templateName)))||[]};O(!0),P.addnewBU(t).then((e=>{O(!1),"success"===e.status?setTimeout((()=>{C("/buList",{state:{message:e.msg,status:e.status}})}),200):"error"===e.status&&N(e.msg,"error")}))},children:"Submit"})]})]})]})}),b?(0,j.jsx)(be.A,{openAlert:y,openDesc:b,setOpenAlert:f}):(0,j.jsx)(j.Fragment,{}),e||w?(0,j.jsx)("div",{style:{textAlign:"center"},children:(0,j.jsx)(de.A,{show:e})}):(0,j.jsx)(j.Fragment,{})]})]})}var na=a(98348),la=a(88270);const sa=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),ia=(0,T.Ay)({spanRed:{color:"#FF3D57"}});function ra(){const{refreshData:e,templatesInfo:t,updateMappingTemplatesInfo:a}=(0,B.A)(),[l,s]=(0,n.useState)([]),[r,o]=((0,i.zy)(),(0,n.useState)({})),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(null),[p,h]=(0,n.useState)({}),[x,g]=(0,n.useState)(!0),v=ia();let y=(0,i.Zp)();const f=(0,i.g)(),b=new Kt.D,T=new la.W,w=new He;(0,n.useEffect)((()=>{g(!0),w.getAllPlantsList().then((e=>{s(e),g(!1)}))}),[]);const O=e=>{const{name:t,value:a}=e.target,n={...p,[t]:a};console.log(n,"===================updatedForm"),h(n)},[C,P]=(0,n.useState)([]),[M,D]=(0,n.useState)([]),[L,N]=(0,n.useState)([]),[_,R]=(0,n.useState)([]),[F,$]=(0,n.useState)([]),V=(e,a)=>{console.log("New Value:",a);const n=(null===a||void 0===a?void 0:a.filter((e=>t.some((t=>t.templateName===e.templateName)))))||[];"DoNotSendToERP"===e?D(n):"OracleExisting"===e?N(n):"MakeWithoutBOMList"===e?R(n):"NotOwningDivisionList"===e&&$(n)},G=(e,t)=>{c(!0),u({severity:t,desc:e})},z=e=>(null===t||void 0===t?void 0:t.filter((t=>e.some((e=>e===t.templateName)))))||[];return(0,n.useEffect)((()=>{if(null!==r&&void 0!==r&&r.plants){const e=(null===l||void 0===l?void 0:l.filter((e=>null===r||void 0===r?void 0:r.plants.some((t=>(null===t||void 0===t?void 0:t.plantName)===(null===e||void 0===e?void 0:e.plantName))))))||[];P(e)}if(null!==r&&void 0!==r&&r.doNotSendToERP){const e=z(null===r||void 0===r?void 0:r.doNotSendToERP);D(e)}if(null!==r&&void 0!==r&&r.oracleExisting){const e=z(null===r||void 0===r?void 0:r.oracleExisting);N(e)}if(null!==r&&void 0!==r&&r.makeWithoutBOMList){const e=z(r.makeWithoutBOMList);R(e)}if(null!==r&&void 0!==r&&r.notOwningDivisionList){const e=z(r.notOwningDivisionList);$(e)}}),[r,l,t]),(0,n.useEffect)((()=>{null!==f&&void 0!==f&&f.buId?(g(!0),b.getBusinessUnitbyid([{id:null===f||void 0===f?void 0:f.buId}]).then((e=>{var t,a,n,l;if(g(!1),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.length&&null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a[0]&&null!==Object&&void 0!==Object&&null!==(n=Object.keys(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l[0]))&&void 0!==n&&n.length){o(null===e||void 0===e?void 0:e.data[0]);const t=null===e||void 0===e?void 0:e.data[0];h({id:t.id,buName:t.buName,exportToERPdisabled:t.exportToERPdisabled,exportToERPbyPassed:t.exportToERPbyPassed,enableBOSTransfer:t.enableBOSTransfer,contextDEF:t.contextDEF,EMRDivisionORGValue:t.EMRDivisionORGValue,productHierarchy:t.productHierarchy})}else y("/buList",{state:{message:"Design Organization not found!",status:"error"}})}))):setTimeout((()=>{y("/buList",{state:{message:"Design Organization not found!",status:"error"}})}),200)}),[]),(0,_e.t$)(l,"plantName"),(0,j.jsxs)(sa,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Edit Design Organization"}]})}),(0,j.jsxs)("form",{children:[(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,j.jsx)("h4",{children:"Edit Design Organization"}),(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Design Organization ",(0,j.jsx)("span",{className:v.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"buName",disabled:!0,value:p.buName,onChange:O,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Export to ERP Disabled "})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"exportToERPdisabled",name:"exportToERPdisabled",fullWidth:!0,value:null!==p&&void 0!==p&&p.exportToERPdisabled?null===p||void 0===p?void 0:p.exportToERPdisabled:"N",onChange:O,children:W.FD.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Export To ERP ByPassed"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"exportToERPbyPassed",name:"exportToERPbyPassed",fullWidth:!0,value:null!==p&&void 0!==p&&p.exportToERPbyPassed?null===p||void 0===p?void 0:p.exportToERPbyPassed:"N",onChange:O,children:W.FD.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Enable BOS Transfer "})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{labelId:"enableBOSTransfer",id:"enableBOSTransfer",name:"enableBOSTransfer",fullWidth:!0,value:null!==p&&void 0!==p&&p.enableBOSTransfer?null===p||void 0===p?void 0:p.enableBOSTransfer:"Y",onChange:O,children:W.h4.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Context DFF"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"contextDEF",value:p.contextDEF,onChange:O,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"EMR Division ARG"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"EMRDivisionORGValue",value:p.EMRDivisionORGValue,onChange:O,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Product Hierarchy"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"productHierarchy",value:p.productHierarchy,onChange:O,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Plant Name ",(0,j.jsx)("span",{className:v.spanRed,children:"*"})]})}),(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,j.jsx)(ye.A,{multiple:!0,value:C,getOptionLabel:e=>e.plantName,autoHighlight:!0,onChange:(e,t)=>{(e=>{const t=(null===e||void 0===e?void 0:e.filter((e=>l.some((t=>t.plantName===e.plantName)))))||[];P(t)})(t)},options:l,renderInput:e=>(0,j.jsx)(ce.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,j.jsx)(E.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.plantName})}),(0,j.jsxs)("div",{style:{marginTop:"5px"},children:[(0,j.jsx)(na.A,{style:{marginTop:"5px"},color:"secondary",fontSize:"small"}),(0,j.jsx)("span",{style:{marginBottom:"20px"},children:" Changing Plants will affect the Template Mappings."})]})]}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Do Not Send To ERP"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ye.A,{multiple:!0,value:M,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{V("DoNotSendToERP",t)},options:t,renderInput:e=>(0,j.jsx)(ce.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,j.jsx)(E.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Oracle Existing"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ye.A,{multiple:!0,value:L,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{V("OracleExisting",t)},options:t,renderInput:e=>(0,j.jsx)(ce.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,j.jsx)(E.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Make Without BOM List"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ye.A,{multiple:!0,value:_,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{V("MakeWithoutBOMList",t)},options:t,renderInput:e=>(0,j.jsx)(ce.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,j.jsx)(E.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsx)("span",{children:"Not Owning Division List"})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ye.A,{multiple:!0,value:F,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{V("NotOwningDivisionList",t)},options:t,renderInput:e=>(0,j.jsx)(ce.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,j.jsx)(E.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,j.jsxs)(U.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{textAlign:"right"},children:[(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{y(-1)}),200)},style:{marginRight:"20px"},children:"Cancel"}),(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e;if(""===(null===(e=p.buName)||void 0===e?void 0:e.trim())||!p.buName||0===C.length)return void G("Please fill the require details","error");const t={id:p.id,buName:p.buName,exportToERPdisabled:p.exportToERPdisabled,contextDEF:p.contextDEF,EMRDivisionORGValue:p.EMRDivisionORGValue,productHierarchy:p.productHierarchy,exportToERPbyPassed:p.exportToERPbyPassed,enableBOSTransfer:p.enableBOSTransfer,plants:(null===C||void 0===C?void 0:C.map((e=>({id:null===e||void 0===e?void 0:e.id,plantName:null===e||void 0===e?void 0:e.plantName}))))||[],doNotSendToERP:(null===M||void 0===M?void 0:M.map((e=>e.templateName)))||[],oracleExisting:(null===L||void 0===L?void 0:L.map((e=>e.templateName)))||[],makeWithoutBOMList:(null===_||void 0===_?void 0:_.map((e=>e.templateName)))||[],notOwningDivisionList:(null===F||void 0===F?void 0:F.map((e=>e.templateName)))||[]};g(!0),b.updateBU(t).then((e=>{g(!1),"success"===e.status?(g(!1),T.getAlltemplateMappings().then((e=>{var t;a(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),g(!0)})),setTimeout((()=>{y("/buList",{state:{message:e.msg,status:e.status}})}),200)):"error"===e.status&&G(e.msg,e.status)}))},children:"Update"})]})]})]})}),m?(0,j.jsx)(be.A,{openAlert:d,openDesc:m,setOpenAlert:c}):(0,j.jsx)(j.Fragment,{}),e||x?(0,j.jsx)("div",{style:{textAlign:"center"},children:(0,j.jsx)(de.A,{show:!0})}):(0,j.jsx)(j.Fragment,{})]})]})}const oa=[{path:"/buList",element:(0,j.jsx)(ae,{children:(0,j.jsx)(ea,{})})},{path:"/createBU",element:(0,j.jsx)(ae,{children:(0,j.jsx)(aa,{})})},{path:"/editBU/:buId",element:(0,j.jsx)(ae,{children:(0,j.jsx)(ra,{})})}];var da=a(93291);const ca=(0,T.Ay)(xe.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),ma=(0,T.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),ua=e=>{let{userImportDialog:t,setUserImportDialog:a,setUserData:l}=e;const s=new da.f,i=new N.D,[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(null),[x,g]=(0,n.useState)(null),v=localStorage.getItem("instance"),[A,y]=(0,n.useState)(!1),[f,b]=(0,n.useState)(null),T=()=>{a(!1),h(null),g(null)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(le.A,{open:t,onClose:T,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Bulk Upload Required Users"}),(0,j.jsx)(ie.A,{children:(0,j.jsx)(re.A,{children:(0,j.jsx)(E.A,{width:"100%",overflow:"auto",children:(0,j.jsx)(ca,{children:(0,j.jsxs)(fe.A,{children:[(0,j.jsxs)(ve.A,{children:[(0,j.jsx)(Ae.A,{align:"left",children:"Upload File (Excel File)"}),(0,j.jsxs)(Ae.A,{align:"left",children:[(0,j.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,j.jsxs)(S.A,{component:"label",variant:"contained",startIcon:(0,j.jsx)(pe.A,{}),children:["Upload file",(0,j.jsx)(ma,{type:"file",name:"file",accept:".xls, .xlsx",onChange:e=>{console.log("file selected");const t=e.target.files[0];if(t){const a=t.name.split(".").pop();"xlsx"===a||"xls"===a?(h(e.target.files[0]),g(e.target.files[0].name),o(!1)):(o(!0),g(null),h(null))}else o(!0),g(null),h(null)}})]}),r&&(0,j.jsx)("p",{children:"Please Select xlsx file to Upload "})]}),x&&(0,j.jsx)("p",{children:x})]})]}),(0,j.jsx)(ve.A,{children:(0,j.jsxs)(Ae.A,{colSpan:2,children:[(0,j.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,j.jsx)("a",{onClick:()=>{s.downloadSampleFile("sample-bulkUserUpload.xlsx")},download:"Example-XLSX-document",rel:"noreferrer",style:{color:"blue",cursor:"pointer"},children:"Click Here"})," ","to download the sample Excel template for bulk user upload."]}),(0,j.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,j.jsx)("b",{children:"Note:"})," Upload file must contain six columns with header labels in following order."]}),(0,j.jsxs)("div",{style:{paddingTop:"10px"},children:["1. User Name",(0,j.jsx)("br",{}),"3. Name",(0,j.jsx)("br",{}),"4. Email",(0,j.jsx)("br",{}),"5. Is Authorized",(0,j.jsx)("br",{}),"6. User Group",(0,j.jsx)("br",{})]})]})})]})})})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:async()=>{if(!p||p.length<1)o(!0);else try{const e={file:p,data:{Instance:v}};console.log(e,"postData");const t=await i.importUser(e);console.log(t,"response 11111");const a=t.status||"error";if(c(t),u(!0),h(null),g(null),T(),y(!0),b({severity:a,desc:"success"===a?null===t||void 0===t?void 0:t.msg:t.errors.join(", ")}),"success"===a){console.log(t,"response 22222 file uploaded successfully and user added");const e=await i.getAllUsersList();l(e.data)}else console.log(a,"response status")}catch(e){console.error("Error importing file:",e),y(!0),b({severity:"error",desc:"An error occurred while importing the file."})}},children:"Upload"}),(0,j.jsx)(S.A,{onClick:T,children:"Cancel"})]})]}),f?(0,j.jsx)(be.A,{openAlert:A,openDesc:f,setOpenAlert:y}):(0,j.jsx)(j.Fragment,{})]})},pa=e=>{let{userExportDialog:t,setUserExportDialog:a,userData:l,selectedRows:s}=e;new ue.Q;const[i,r]=(0,n.useState)(l||[]),[o,d]=(0,n.useState)("allData"),c=new N.D,[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)(!1),[v,y]=(0,n.useState)(null),f=()=>{a(!1)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(le.A,{open:t,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Users"}),(0,j.jsx)(ie.A,{children:(0,j.jsx)(re.A,{children:(0,j.jsx)(E.A,{width:"100%",overflow:"auto",children:(0,j.jsx)(A.Tn,{children:(0,j.jsx)(U.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,j.jsx)(U.Ay,{container:!0,alignItems:"center",children:(0,j.jsxs)(Pe.A,{children:[(0,j.jsx)(Me.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,j.jsxs)(Oe.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:o,onChange:e=>{const t=e.target.value;d(t),r("allData"===t?l:s)},children:[(0,j.jsx)(Ce.A,{value:"allData",control:(0,j.jsx)(we.A,{}),label:"All Data"}),(0,j.jsx)(Ce.A,{value:"selectedData",disabled:0===s.length,control:(0,j.jsx)(we.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:f,children:"Cancel"}),(0,j.jsx)(S.A,{onClick:()=>{console.log(l,"userData in bulk export inside export template.");let e=("allData"!==o?s:l)||[],t=null===e||void 0===e?void 0:e.map((e=>({Name:e.name,"User Name":e.userName,Email:e.email,"Is Authorized":e.is_authorized,"User Group":e.userinfo.join(", ")})));console.log(e,"data"),c.exportUser({data:t,sheet_name:"Users"}).then((e=>{h(e),u(!0),g(!0),y({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})})),f()},children:"Export"})]})]}),v?(0,j.jsx)(be.A,{openAlert:x,openDesc:v,setOpenAlert:g}):(0,j.jsx)(j.Fragment,{})]})},ha=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),xa=()=>{let e=(0,i.zy)().state;const[t,a]=(0,n.useState)([]),[l,s]=(0,n.useState)(""),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(!1),m=new N.D,[u,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)(null),[g,v]=(0,n.useState)(!1),[y,f]=(0,n.useState)(!1),[b,T]=(0,n.useState)([]),[w,O]=(0,n.useState)({}),[C,P]=(0,n.useState)({}),[M,D]=(0,n.useState)([]),L=(0,n.useRef)(null),_=L&&L.current&&L.current.dataMap?L.current.dataMap:null,R=(0,n.useCallback)((e=>{let{selected:t}=e;P(t)}),[]),I=[{name:"name",header:"Name",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.name})}},{name:"userName",header:"User Name",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.userName})}},{name:"email",header:"Email",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.email})}},{name:"is_authorized",header:"Is Authorized",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:"Y"===(null===t||void 0===t?void 0:t.is_authorized)?"Yes":"No"})}},{name:"userinfo",header:"User Group",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null!==t&&void 0!==t&&t.userinfo?t.userinfo.map((e=>e)).join(", "):""})}}];(0,n.useEffect)((()=>{console.log(t,"userData inside useEffect"),0===t.length?(o(!0),m.getAllUsersList().then((e=>{a(e.data),T(e.data),o(!1)}))):a(t)}),[]);const[k,B]=(0,n.useState)([]),F=Array.isArray(k)?k:[];let W=(0,_e.t$)([...F],"name");(0,n.useEffect)((()=>{B(t),T(W)}),[t]);const $=(0,i.Zp)(),V=e=>{const t=e;setTimeout((()=>{$("/addEditUser",{state:{isEdit:!0,selectedUserData:t}})}),200)},G=e=>{c(!0)};(0,n.useEffect)((()=>{const e=!0===C?_:C,t=e&&Object.keys(e).map((t=>e[t]));D(t)}),[C,_]),(0,n.useEffect)((()=>{if(t){const e=t.filter((e=>""===l||e.name.toLowerCase().includes(l.toLowerCase())||e.email.toLowerCase().includes(l.toLowerCase())||e.userName.toLowerCase().includes(l.toLowerCase())));B(e)}}),[l,t]),(0,n.useEffect)((()=>{var t,n,l;null!==(t=e)&&void 0!==t&&t.status&&(p(!0),x({severity:null===(n=e)||void 0===n?void 0:n.status,desc:null===(l=e)||void 0===l?void 0:l.message}),m.getAllUsersList().then((e=>{a(e.data),T(e.data)})));e={},window.onbeforeunload=()=>{window.history.replaceState({},document.title)}}),[e]);const z=e=>{O(e);const n=Ne(xa)({data:t,sortedUsersData:W,sortInfo:e,onSortInfoChange:z,initialData:b});a(n.props.data),B(n.props.data)};return(0,j.jsxs)(ha,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Users"}]})}),(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(ce.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;s(t)},value:l,style:{width:"100%"}})}),(0,j.jsxs)(U.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{},children:"Search"}),(0,j.jsx)("div",{style:{flex:1}}),(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,onClick:()=>{setTimeout((()=>{$("/addEditUser",{state:{isEdit:!1}})}),200)},children:"Create"}),(0,j.jsx)(S.A,{variant:"contained",disabled:1!==(null===M||void 0===M?void 0:M.length),onClick:()=>{V(M[0])},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,j.jsx)(S.A,{variant:"contained",disabled:null===M||void 0===M||!M.length,onClick:()=>{G(M[0]),c(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{v(!0)},style:{margin:"0 0px 0 10px"},children:"Import"}),(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{f(!0)},style:{margin:"0 0px 0 10px"},children:"Export"})]}),(0,j.jsxs)(E.A,{width:"100%",overflow:"auto",children:[(0,j.jsx)("br",{}),r?(0,j.jsx)(E.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,j.jsx)(dt.A,{})}):k&&(0,j.jsx)(Le.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:I,dataSource:null===w?k:W,checkboxColumn:!0,selected:C,onSelectionChange:R,handle:e=>L.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===L||void 0===L||null===(e=L.current)||void 0===e?void 0:e.setScrollTop(0==(null===M||void 0===M?void 0:M.length)?0:null===L||void 0===L||null===(t=L.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:z})]})]})}),h?(0,j.jsx)(be.A,{openAlert:u,openDesc:h,setOpenAlert:p}):(0,j.jsx)(j.Fragment,{}),(0,j.jsxs)(le.A,{open:d,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Design Organization"}),(0,j.jsx)(ie.A,{children:(0,j.jsx)(re.A,{children:"Do you want to delete the seleted User(s)?"})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{autoFocus:!0,onClick:()=>{c(!1)},children:"Cancel"}),(0,j.jsx)(S.A,{onClick:async()=>{c(!1);try{o(!0),console.log(M,"selectedRows");const e=null===M||void 0===M?void 0:M.map((e=>null===e||void 0===e?void 0:e.id));await m.deleteUser(e).then((e=>{console.log(e,"delete response"),o(!1),p(!0),x({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),P({}),D([])}))}catch(e){console.error("Failed to delete User:",e)}m.getAllUsersList().then((e=>{a(e.data)}))},children:"delete"})]})]}),(0,j.jsx)(pa,{userExportDialog:y,handleCloseExportDialog:()=>{f(!1)},setUserImportDialog:v,setUserExportDialog:f,selectedRows:M,userData:w&&0===Object.keys(w).length?W:t}),(0,j.jsx)(ua,{userImportDialog:g,setUserImportDialog:v,setUserData:a})]})},ga=xa,va=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Aa={spanRed:{color:"#FF3D57"}};function ja(){var e,t,a;const[l,s]=(0,n.useState)(!1),[r,o]=(0,n.useState)(null),d=(0,i.zy)(),c=null===(e=d.state)||void 0===e?void 0:e.isEdit,m=void 0!==(null===(t=d.state)||void 0===t?void 0:t.selectedUserData)?null===(a=d.state)||void 0===a?void 0:a.selectedUserData:{},[u,p]=(0,n.useState)({id:void 0!==m.userId?m.userId:Date.now().toString(),userName:m.userName,name:m.name,email:m.email,is_authorized:void 0!==m.is_authorized?m.is_authorized:"Y",userinfo:void 0!==m.userinfo?m.userinfo:[]}),h=Aa;let x=(0,i.Zp)();const g=new N.D,v=e=>{const{name:t,value:a}=e.target,n={...u,[t]:a};p(n)},[y,f]=(0,n.useState)(m.userinfo||[]),b=(e,t)=>{s(!0),o({severity:t,desc:e})};return(0,j.jsxs)(va,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:c?"Edit User":"Create User"}]})}),(0,j.jsx)("form",{children:(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,j.jsx)("h4",{children:c?"Edit User":"Create User"}),(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Name ",(0,j.jsx)("span",{className:h.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"name",value:u.name,onChange:v,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["User Name ",(0,j.jsx)("span",{className:h.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"userName",value:u.userName,onChange:v,fullWidth:!0,margin:"normal"})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["Email ",(0,j.jsx)("span",{className:h.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(ce.A,{name:"email",disabled:c,value:u.email,onChange:v,fullWidth:!0,margin:"normal"})}),(0,j.jsxs)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,j.jsx)("span",{children:"Is Authorized"})," ",(0,j.jsx)("span",{className:h.spanRed,children:"*"})]}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"is_authorized",name:"is_authorized",fullWidth:!0,value:u.is_authorized?u.is_authorized:"",onChange:v,children:W.HW.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,j.jsxs)("span",{children:["User Group ",(0,j.jsx)("span",{className:h.spanRed,children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{style:{width:"100%"},multiple:!0,value:y.map((e=>e)),onChange:e=>{const t=e.target.value,a=W.bf.filter((e=>t.includes(e)));f(a)},renderValue:e=>e.join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===W.bf||void 0===W.bf?void 0:W.bf.map((e=>(0,j.jsx)(k.A,{value:e,children:e},e)))})})]}),(0,j.jsx)("br",{}),(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:6,className:"font-medium",children:(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e,t,a,n;if(""===(null===(e=u.userName)||void 0===e?void 0:e.trim())||!u.userName||""===(null===(t=u.name)||void 0===t?void 0:t.trim())||!u.name||""===(null===(a=u.email)||void 0===a?void 0:a.trim())||!u.email||0===y.length||""===(null===(n=u.is_authorized)||void 0===n?void 0:n.trim())||!u.is_authorized)return void b("Please fill the require details","error");const l={id:u.id,userName:u.userName,name:u.name,email:u.email,is_authorized:u.is_authorized,userinfo:y};c?g.updateUser({userData:l}).then((e=>{"success"===e.status?setTimeout((()=>{x("/userList",{state:{message:e.msg,status:e.status}})}),200):"error"===e.status&&b(e.msg,e.status)})):g.addnewUser({userData:l}).then((e=>{"success"===e.status?setTimeout((()=>{x("/userList",{state:{message:e.msg,status:e.status}})}),200):"error"===e.status&&b(e.msg,e.status)}))},children:c?"Update":"Create"})})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:6,className:"font-medium",children:(0,j.jsx)("span",{children:(0,j.jsx)(S.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{x(-1)}),200)},children:"Cancel"})})})]})]})})}),r?(0,j.jsx)(be.A,{openAlert:l,openDesc:r,setOpenAlert:s}):(0,j.jsx)(j.Fragment,{})]})}const ya=[{path:"/userList",element:(0,j.jsx)(ae,{children:(0,j.jsx)(ga,{})})},{path:"/addEditUser",element:(0,j.jsx)(ae,{children:(0,j.jsx)(ja,{})})}],fa={adminConstant:{common:{deleteNote:"Data will not be romeved from the master data. It will be added to your draft changes only."},buplantList:{tooltip:{RDO:"Design Organization",Plant:"PLANT",BomStatus:"BOM STATUS",PoORG:"PO ORG",RduOuSetORG:"RDU OU SET ORG"}},expensemapList:{tooltip:{EXPENSE_TEMPLATE:"Template",RDO:"Design Organization",PlantName:"Plant Name"}},mvoallowedchangesList:{tooltip:{RDO:"Design Organization",mvoTemplatesFrom:"MVO Template - From",mvoTemplatesTo:"MVO Template - To"}},mvoTemplateList:{tooltip:{RDO:"Design Organization",TemplateOptionMVO:"Template MVO",HasMBom:"Has MBom",OnMBom:"ON MBom",Optional:"Optional",PoExist:"PO Exist",EBomAllowed:"EBOM Allowed",AllowableOrgTemplate:"Org Allowed Templates - Status"}},orgAllowedList:{tooltip:{RDO:"Design Organization",AllowableOrgTemplate:"Template Name",HasMBom:"Has MBOM",EBOM:"EBOM Allowed",Optional:"Optional",PoCheck:"PO Org Check",OnMbom:"ON MBOM",status:"status"}},parttypetemplateList:{tooltip:{RDO:"Design Organization",TemplateOptionsMVO:"Enovia Part Type",allowableOrgTemplatesExclusive:"Org Allowed Templates - Exclusive use"}},setComptempList:{tooltip:{RDO:"Design Organization",TemplateForOrgExist:"Template for Org(s) Existing",TemplateForOrgModify:"Template for Org Modifying"}}}},ba=e=>{var t;let{open:a,handleorgAllowedDialogClose:l,selectedPlants:s,orgAllowedForm:i,handleorgAllowedFormChange:r,handleAddOrgAllowedValues:o,isEdit:d,selectedBU:c}=e;const{templatesInfo:m,bussinessUnitLists:u}=(0,B.A)(),[p,h]=(0,n.useState)([]),[x,g]=(0,n.useState)([]);return(0,n.useEffect)((()=>{if(c){let e=m.filter((e=>{var t;return null===e||void 0===e||null===(t=e.BU)||void 0===t?void 0:t.includes(c)}));console.log(e,"tempData tempData tempData"),h(e)}g([c])}),[c,m]),(0,j.jsxs)(le.A,{open:a,children:[(0,j.jsxs)(oe.A,{children:[" ",d?"Edit Org Allowed Templates ":"Add OrgAllowed Templates"]}),(0,j.jsx)(ie.A,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Design Organization ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:c,onChange:r,disabled:!0,children:null===x||void 0===x?void 0:x.map((e=>(0,j.jsx)(k.A,{value:e,children:e},e)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Template Name ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{name:"ALLOWABLE_ORG_TEMPLATES",fullWidth:!0,value:i.ALLOWABLE_ORG_TEMPLATES,onChange:r,disabled:d,children:null===p||void 0===p?void 0:p.map((e=>(0,j.jsx)(k.A,{value:e.templateName,children:e.templateName},e.templateName)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Has MBOM ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"Has_MBOM",name:"Has_MBOM",fullWidth:!0,displayEmpty:!0,value:void 0!==i.Has_MBOM?i.Has_MBOM:"Y",onChange:r,children:W.PV.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["On MBOM ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"On_MBOM",name:"On_MBOM",fullWidth:!0,displayEmpty:!0,value:void 0!==i.On_MBOM?i.On_MBOM:"Y",onChange:r,children:W.PV.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["EBOM Allowed ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"EBOM_Allowed",name:"EBOM_Allowed",fullWidth:!0,displayEmpty:!0,value:void 0!==i.EBOM_Allowed?i.EBOM_Allowed:"Y",onChange:r,children:W.PV.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Optional ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"Optional",name:"Optional",fullWidth:!0,displayEmpty:!0,value:void 0!==i.Optional?i.Optional:"Y",onChange:r,children:W.PV.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["PO Org Check: ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"PO_Org_Exist_Check",name:"PO_Org_Exist_Check",fullWidth:!0,displayEmpty:!0,value:void 0!==i.PO_Org_Exist_Check?i.PO_Org_Exist_Check:"Y",onChange:r,children:W.PV.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.label},e.value)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Plants ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{style:{width:"100%"},multiple:!0,name:"plants",value:s,onChange:r,renderValue:e=>null===e||void 0===e?void 0:e.join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===(t=(()=>{var e;return(null===u||void 0===u||null===(e=u.find((e=>e.buName===c)))||void 0===e?void 0:e.plants)||[]})())||void 0===t?void 0:t.map((e=>(0,j.jsx)(k.A,{value:e.plantName,children:e.plantName},e.plantName)))})})]})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:l,children:"Cancel"}),(0,j.jsx)(S.A,{onClick:o,children:d?"Update":"Add"})]})]})};class Ta{constructor(){this.getAlldraftChanges=()=>ze.A.get(`${d.Sb}/draftChanges/getDraftChanges`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTeamplateMappings",e),[]))),this.deleteTemplateMapping=e=>ze.A.delete(`${d.Sb}/draftChanges/deletedraftChanges/${e}`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting deletedraftChanges:",e),e})),this.addnewTemplateMapping=e=>ze.A.post(`${d.Sb}/draftChanges/adddraftChanges`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("adddraftChanges",e),[]))),this.updateTemplateMapping=e=>ze.A.put(`${d.Sb}/draftChanges/updatedraftChanges`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updatedraftChanges",e),[]))),this.applyDraftChanges=e=>ze.A.post(`${d.Sb}/draftChanges/acceptChanges`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("applyDraftChanges",e),[]))),this.discardDraftChanges=e=>ze.A.delete(`${d.Sb}/draftChanges/deletedraftChanges/${e}`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting discardDraftChanges:",e),e})),this.getAllmappingHistory=()=>ze.A.get(`${d.Sb}/mappingHistory/getMappingHistory`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTeamplateMappings",e),[])))}}class Ea{constructor(){this.getAlltempcompMappings=()=>ze.A.get(`${d.Sb}/newtemplateMappings/getTemplateMappings`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTeamplateMappings",e),[]))),this.deleteTempCompMapping=e=>ze.A.delete(`${d.Sb}/newtemplateMappings/deleteTemplateMappings/${e}`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting deleteTemplateMappings:",e),e})),this.addnewTempCompMapping=e=>ze.A.post(`${d.Sb}/newtemplateMappings/addTemplateMappings`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addTemplateMappings",e),[]))),this.updateTempCompMapping=e=>ze.A.put(`${d.Sb}/newtemplateMappings/updateTemplateMappings`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateTemplateMappings",e),[]))),this.softDeleteTempCompMapping=e=>ze.A.post(`${d.Sb}/newtemplateMappings/softDeleteTemplateMappings`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("softDeleteTemplateMappings",e),[])))}}const Sa=(0,T.Ay)(xe.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),wa=(0,T.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),Oa=e=>{const{allTemplatesInfo:t,updateRefreshData:a,bussinessUnitLists:l}=(0,B.A)(),s=new la.W,{importTemplate:i,setImportTemplate:r,fetchData:o}=e,[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)(!1),[v,A]=(0,n.useState)(null),[y,f]=(0,n.useState)(null),[b,T]=(0,n.useState)(null),[w,O]=(0,n.useState)(!1),[C,P]=(0,n.useState)(!1),[M,D]=(0,n.useState)(!1),[L,N]=(0,n.useState)({ERPType:[],instance:[],BU:[]}),[_,R]=(0,n.useState)(!1),[I,k]=(0,n.useState)(null);(0,n.useEffect)((()=>{let t=null;switch(null===e||void 0===e?void 0:e.MappingType){case"orgallowedvalues":t="sample-orgAllowedTemplate.xlsx";break;case"mvoTemplateCompatibility":t="sample-mvotemplatecompatibility.xlsx";break;case"parttypetotemplate":t="sample-partTypeToTemplate.xlsx";break;case"mvoallowedchanges":t="sample-mvoallowedchanges.xlsx";break;case"setcompatibletemplates":t="sample-setcompatibletemplates.xlsx";break;case"buplantmapping":t="sample-RDOPlantMapping.xlsx";break;case"expensemapping":t="sample-expensemapping.xlsx"}T(t)}),[e.MappingType]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(le.A,{open:i,style:{zIndex:999},children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:e.title}),(0,j.jsx)(ie.A,{children:(0,j.jsx)(re.A,{children:(0,j.jsx)(E.A,{width:"100%",overflow:"auto",children:(0,j.jsx)(Sa,{children:(0,j.jsxs)(fe.A,{children:[(0,j.jsxs)(ve.A,{children:[(0,j.jsx)(Ae.A,{align:"left",children:(0,j.jsx)(je.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Design Organization"})}),(0,j.jsxs)(Ae.A,{align:"left",children:[(0,j.jsx)(ye.A,{style:{width:"70%"},multiple:!1,options:(e=>{const t=new Set;return null===l||void 0===l||l.forEach((a=>{t.add(a[e])})),Array.from(t)})("buName"),value:L.BU,onChange:(e,t)=>{return a="BU",n=t,N((e=>({...e,[a]:n}))),"ERPType"===a&&O(!1),"instance"===a&&P(!1),"BU"===a&&D(!1),void console.info(L,"importSelectionValues");var a,n},renderValue:()=>null,renderInput:e=>(0,j.jsx)(ce.A,{...e,variant:"outlined",label:"Select RDO",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!1,disableClearable:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionSelected:(e,t)=>L.BU.includes(t),ChipProps:{style:{fontSize:"8px"}}}),M&&(0,j.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,j.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,j.jsxs)(S.A,{component:"label",variant:"contained",startIcon:(0,j.jsx)(pe.A,{}),children:["Upload file",(0,j.jsx)(wa,{type:"file",name:"file",accept:".xls, .xlsx",onChange:e=>{const t=e.target.files[0];if(t){const a=t.name.split(".").pop();"xlsx"===a||"xls"===a?(A(e.target.files[0]),f(e.target.files[0].name),u(!1)):(u(!0),f(null),A(null))}else u(!0),f(null),A(null)}})]}),m&&(0,j.jsx)("p",{children:"Please Select xlsx file to Upload "})]}),y&&(0,j.jsx)("p",{children:y}),(0,j.jsx)("div",{style:{paddingTop:"10px"},children:(0,j.jsx)(S.A,{component:"label",variant:"contained",startIcon:(0,j.jsx)(he.A,{}),onClick:()=>{s.downloadSampleFile(b)},children:"Download sample file"})})]})})})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{autoFocus:!0,onClick:()=>{A(null),r(!1)},children:"Cancel"}),(0,j.jsx)(S.A,{onClick:()=>{if(null===L.BU||L.BU.length<1)D(!0);else if(null===v||v.length<1)u(!0);else if(null!==v){let t={file:v,data:{BU:L.BU,MappingType:null===e||void 0===e?void 0:e.MappingType}};c(!0),s.importTemplate(t).then((e=>{h(e),g(!0),A(null),f(null),r(!1);let t={},n="";e&&"error"===e.status?(t=(0,j.jsxs)("div",{style:{color:"red"},children:[null===e||void 0===e?void 0:e.msg," ",(0,j.jsx)("br",{}),(null===e||void 0===e?void 0:e.errorInTemplateCount)&&(0,j.jsxs)(j.Fragment,{children:["Total Template Count: ",e.errorInTemplateCount," ",(0,j.jsx)("br",{}),"Templates are: ",(0,j.jsx)("br",{}),(0,j.jsx)("ul",{children:e.errorInTemplate.map((e=>(0,j.jsx)("li",{children:e},Ke().generate())))})]}),(null===e||void 0===e?void 0:e.errorInPlantCount)&&(0,j.jsxs)(j.Fragment,{children:["Total Plant Count: ",e.errorInPlantCount," ",(0,j.jsx)("br",{}),"Plants are: ",(0,j.jsx)("br",{}),(0,j.jsx)("ul",{children:e.errorInPlants.map((e=>(0,j.jsx)("li",{children:e},Ke().generate())))})]})]}),n="error"):e.errorCount>0||!e.newTemplateAdded&&!e.updateTemplates?(t=(0,j.jsxs)("div",{style:{color:"red"},children:["Failure ",(0,j.jsx)("br",{}),"New Template Added: ",e.newTemplateAdded," ",(0,j.jsx)("br",{}),"Template Updated: ",e.updateTemplates," ",(0,j.jsx)("br",{}),e.errorCount>0&&(0,j.jsxs)(j.Fragment,{children:["Error in Template: ",e.errorCount," ",(0,j.jsx)("br",{})]})]}),n="error"):(t=(0,j.jsxs)("div",{children:[e.msg," ",(0,j.jsx)("br",{}),"New Template Added: ",e.newTemplateAdded," ",(0,j.jsx)("br",{}),"Template Updated: ",e.updateTemplates," ",(0,j.jsx)("br",{})]}),n="success"),R(!0),k({severity:n,desc:t}),c(!1),"error"!==n&&(null!==e&&void 0!==e&&e.errorInTemplateCount&&null!==e&&void 0!==e&&e.errorInPlantCount||(a(!0),o()))}))}},children:"Import"})]})]}),I?(0,j.jsx)(be.A,{openAlert:_,openDesc:I,setOpenAlert:R,sx:{"& .MuiAlertTitle-root":{backgroundColor:"red"}}}):(0,j.jsx)(j.Fragment,{}),d?(0,j.jsx)("div",{style:{textAlign:"center"},children:(0,j.jsx)(de.A,{show:d})}):(0,j.jsx)(j.Fragment,{})]})},Ca=(0,n.createContext)({mvotemplatecompInfo:[],updateMVOtempcompLists:()=>[]}),Pa=Ca,Ma=()=>(0,n.useContext)(Pa),Da=(0,n.createContext)({parttypetemplateinfo:[],updateParttypeTemplate:()=>[]}),La=Da,Na=()=>(0,n.useContext)(La),_a=(0,n.createContext)({mvoallowedchangesinfo:[],updateMVOallowedchanges:()=>[]}),Ra=_a,Ia=()=>(0,n.useContext)(Ra),ka=(0,n.createContext)({comptempInfo:[],updatecomptempList:()=>[]}),Ba=ka,Fa=()=>(0,n.useContext)(Ba),Ua=(0,n.createContext)({buplantsInfo:[],updatebuplantsInfo:()=>[]}),Wa=Ua,$a=()=>(0,n.useContext)(Wa),Va=(0,n.createContext)({expensemapInfo:[],updateExpenseMap:()=>[]}),Ga=Va,za=()=>(0,n.useContext)(Ga),Ha=e=>{const t=new ue.Q,[a,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)(!1),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)([]),{templatesInfo:m,bussinessUnit:u,mappingTemplatesInfo:p}=(0,B.A)(),{mvotemplatecompInfo:h}=Ma(),{parttypetemplateinfo:x}=Na(),{mvoallowedchangesinfo:g}=Ia(),{comptempInfo:v}=Fa(),{buplantsInfo:y}=$a(),{expensemapInfo:f}=za(),[b,T]=(0,n.useState)("allData"),[w,O]=(e.filterTemplateData,(0,n.useState)(!1)),[C,P]=(0,n.useState)(null);let M=localStorage.getItem("bussinessUnit");function D(e){return e&&0===Object.keys(e).length&&e.constructor===Object}(0,n.useEffect)((()=>{var t;p&&p.forEach((e=>{const t=e.details;t&&(t.allowableOrgTemplates&&t.allowableOrgTemplates.sort(((e,t)=>{const a=e.ALLOWABLE_ORG_TEMPLATE?"ALLOWABLE_ORG_TEMPLATE":"org_allowed_template";return e[a]<t[a]?-1:e[a]>t[a]?1:0})),t.MVO_TEMPLATES_TO&&t.MVO_TEMPLATES_TO.sort(((e,t)=>e.MVO_TEMPLATE_TO<t.MVO_TEMPLATE_TO?-1:e.MVO_TEMPLATE_TO>t.MVO_TEMPLATE_TO?1:0)),t.TEMPLATE_ORG_MODIFYING&&t.TEMPLATE_ORG_MODIFYING.sort(((e,t)=>e.TEMPLATE_ORG_MODIFYING<t.TEMPLATE_ORG_MODIFYING?-1:e.TEMPLATE_ORG_MODIFYING>t.TEMPLATE_ORG_MODIFYING?1:0)))}));let a=e.MappingType;"mvoallowedchanges"===a&&D(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="MVO_TEMPLATE_FROM",e.sortInfo.columnName="MVO_TEMPLATE_FROM"),"mvoTemplateCompatibility"===a&&D(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="MVO_TEMPLATE_OPTION",e.sortInfo.columnName="MVO_TEMPLATE_OPTION"),"parttypetotemplate"===a&&D(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="ENGG_ITEM_TYPE",e.sortInfo.columnName="ENGG_ITEM_TYPE"),"setcompatibletemplates"===a&&D(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="TEMPLATE_ORG_EXISTING",e.sortInfo.columnName="TEMPLATE_ORG_EXISTING"),"expensemapping"===a&&D(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="EXPENSE_TEMPLATE",e.sortInfo.columnName="EXPENSE_TEMPLATE");let n=a&&p?p.filter((e=>e.MappingType===a)):[];"allData"===b&&e.sortInfo&&n.sort(((t,a)=>{var n,l;const s=e.sortInfo.id||e.sortInfo.name||e.sortInfo.columnName,i=(null===(n=t[s])||void 0===n?void 0:n.toLowerCase())||"",r=(null===(l=a[s])||void 0===l?void 0:l.toLowerCase())||"";return i<r?1===e.sortInfo.dir?-1:1:i>r?1===e.sortInfo.dir?1:-1:0}));let l="allData"===b?n:null===e||void 0===e?void 0:e.filterTemplateData;l=null===(t=l)||void 0===t?void 0:t.filter((e=>e.BUID===u));let s=l.map((e=>{if("orgallowedvalues"===a&&"Delete"!==e.actionFlag){var t,n,l,s,i,r,o;return{"Template Name":null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES,"Design Organization":e.BUID,"Has MBOM":null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.Has_MBOM,"On MBOM":null===e||void 0===e||null===(l=e.details)||void 0===l?void 0:l.On_MBOM,"EBOM Allowed":null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.EBOM_Allowed,Optional:null===e||void 0===e||null===(i=e.details)||void 0===i?void 0:i.Optional,"PO Org Check":null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.PO_Org_Exist_Check,...null===e||void 0===e||null===(o=e.details)||void 0===o?void 0:o.Plants}}var d,c,m,p,h,x,g,v;if("mvoTemplateCompatibility"===a&&"Delete"!==e.actionFlag)return null===(d=e.details)||void 0===d||null===(c=d.allowableOrgTemplates)||void 0===c?void 0:c.map(((t,a)=>({"Template MVO":0===a?e.details.MVO_TEMPLATE_OPTION:null,"Org Allowed Templates":t.ALLOWABLE_ORG_TEMPLATE,"Status:":t.status,"Design Organization":0===a?e.BUID:null})));if("parttypetotemplate"===a&&"Delete"!==e.actionFlag)return null===(m=e.details)||void 0===m||null===(p=m.allowableOrgTemplates)||void 0===p?void 0:p.map(((t,a)=>({"Enovia Part Type":0===a?e.details.ENGG_ITEM_TYPE:null,"Org Allowed Templates":t.org_allowed_template,"Exclusive Use":t.exclusive_use,"Design Organization":0===a?e.BUID:null})));if("mvoallowedchanges"===a&&"Delete"!==e.actionFlag)return null===(h=e.details)||void 0===h||null===(x=h.MVO_TEMPLATES_TO)||void 0===x?void 0:x.map(((t,a)=>({"MVO Template - From":0===a?e.details.MVO_TEMPLATE_FROM:null,"MVO Template - To":t.MVO_TEMPLATE_TO,"Design Organization":0===a?e.BUID:null})));if("setcompatibletemplates"===a&&"Delete"!==e.actionFlag)return null===(g=e.details)||void 0===g||null===(v=g.TEMPLATE_ORG_MODIFYING)||void 0===v?void 0:v.map(((t,a)=>({"Template for Org(s) Existing":0===a?e.details.TEMPLATE_ORG_EXISTING:null,"Template for Org Modifying":t.TEMPLATE_ORG_MODIFYING,"Design Organization":0===a?e.BUID:null})));if("buplantmapping"===a&&"Delete"!==e.actionFlag){return{Entity:e.details.Entity,...Object.keys(e.details.PLANT).sort().reduce(((t,a)=>(t[a]=e.details.PLANT[a],t)),{})}}if("expensemapping"===a&&"Delete"!==e.actionFlag){return{Template:e.details.EXPENSE_TEMPLATE,"Design Organization":u,...e.details.EXPENSE_PLANTS}}})).flat().filter((e=>null!==e&&void 0!==e));c(s)}),[u,m,h,x,g,v,y,f,b,p,e.filterTemplateData,e.sortInfo]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{l(!0)},children:"Export"}),(0,j.jsxs)(le.A,{open:a,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,j.jsx)(ie.A,{children:(0,j.jsx)(re.A,{children:(0,j.jsx)(E.A,{width:"100%",overflow:"auto",children:(0,j.jsx)(A.Tn,{children:(0,j.jsx)(U.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,j.jsx)(U.Ay,{container:!0,alignItems:"center",children:(0,j.jsxs)(Pe.A,{children:[(0,j.jsx)(Me.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,j.jsxs)(Oe.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:b,onChange:e=>{T(e.target.value)},children:[(0,j.jsx)(Ce.A,{value:"allData",control:(0,j.jsx)(we.A,{}),label:"All Data"}),(0,j.jsx)(Ce.A,{value:"selectedData",control:(0,j.jsx)(we.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"}),(0,j.jsx)(S.A,{onClick:()=>{if(d){let a=d;"RDO Plant Mapping"===e.title&&(a=(0,Xe.fb)(d)),"Org Allowed Templates"===e.title&&("orgallowedvalues"===e.MappingType&&D(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="ALLOWABLE_ORG_TEMPLATES",e.sortInfo.columnName="ALLOWABLE_ORG_TEMPLATES"),e.sortInfo&&a.sort(((t,a)=>{var n,l;let s=e.sortInfo.id||e.sortInfo.name||e.sortInfo.columnName;"ALLOWABLE_ORG_TEMPLATES"===s&&(s="Template Name");const i=(null===(n=t[s])||void 0===n?void 0:n.toLowerCase())||"",r=(null===(l=a[s])||void 0===l?void 0:l.toLowerCase())||"";return i<r?1===e.sortInfo.dir?-1:1:i>r?1===e.sortInfo.dir?1:-1:0}))),t.exportTemplate({data:a,sheet_name:e.title.substring(0,26),bussiness_unit:M}).then((e=>{o(e),i(!0),O(!0),P({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))}l(!1)},children:"Export"})]})]}),C?(0,j.jsx)(be.A,{openAlert:w,openDesc:C,setOpenAlert:O}):(0,j.jsx)(j.Fragment,{})]})},Ya=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Xa=()=>{const{refreshData:e}=(0,B.A)(),{templatesInfo:t,bussinessUnit:a,bussinessUnitLists:l,mappingTemplatesInfo:s,updateBussinessUnit:i,updateMappingTemplatesInfo:r}=(0,B.A)(),[o,d]=(0,n.useState)(""),[c,m]=(0,n.useState)(!1),[u,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)({}),[g,v]=(0,n.useState)(!1),[y,f]=(0,n.useState)([]),b=new Ea,T=new la.W,w=new Ta,[O,C]=(0,n.useState)(),[P,M]=(0,n.useState)(!1),[D,L]=(0,n.useState)([]),[N,_]=(0,n.useState)([]),[R,I]=(0,n.useState)(!1),[k,$]=(0,n.useState)(!1),[V,G]=(0,n.useState)(null),[z,H]=(0,n.useState)({}),[Y,X]=(0,n.useState)([]),q=(0,n.useRef)(null),[K,Q]=(0,n.useState)({}),Z=q&&q.current&&q.current.dataMap?q.current.dataMap:null,J=e=>{const t=e.target.value;d(t)},ee=()=>{m(!1)},te=(e,t)=>{$(!0),G({severity:t,desc:e})},ae=()=>{p(!1),x(""),f([]),_([]),H({}),M(!1)},de=()=>{I(!0),T.getAlltemplateMappings().then((e=>{var t;r(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),I(!1)}))},ue=(0,n.useCallback)((e=>{let{selected:t}=e;H(t)}),[]);(0,n.useEffect)((()=>{const e=!0===z?Z:z,t=e&&Object.keys(e).map((t=>e[t]));_(t)}),[z,Z]),(0,n.useEffect)((()=>{I(e)}),[e]);const[pe,he]=(0,n.useState)([]),[xe,ge]=(0,n.useState)([]),ve=(0,_e.t$)(pe,"ALLOWABLE_ORG_TEMPLATES");(0,n.useEffect)((()=>{Ae()}),[]),(0,n.useEffect)((()=>{if(I(!0),s){let n=s;var e,t;if(n=n.filter((e=>"orgallowedvalues"===e.MappingType&&"Delete"!==e.actionFlag)),a)n=null===(e=n)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(o&&""!==o)n=null===(t=n)||void 0===t?void 0:t.filter((e=>{var t,a,n;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(o))||(null===(a=JSON.stringify(e))||void 0===a||null===(n=a.toLocaleLowerCase())||void 0===n?void 0:n.includes(o))}));if(Y.length>0){const e=Y.filter((e=>"orgallowedvalues"==e.MappingType));e.length>0&&"orgallowedvalues"===e[0].MappingType&&n.forEach((t=>{e[0].changes.forEach((e=>{if(t.TEMPLATE_MAPPING===e.id){t.details.draftValue_ALLOWABLE_ORG_TEMPLATES=e.details.ALLOWABLE_ORG_TEMPLATES!==t.details.ALLOWABLE_ORG_TEMPLATES?e.details.ALLOWABLE_ORG_TEMPLATES:null,t.details.draftValue_Has_MBOM=e.details.Has_MBOM!==t.details.Has_MBOM?e.details.Has_MBOM:null,t.details.draftValue_On_MBOM=e.details.On_MBOM!==t.details.On_MBOM?e.details.On_MBOM:null,t.details.draftValue_EBOM_Allowed=e.details.EBOM_Allowed!==t.details.EBOM_Allowed?e.details.EBOM_Allowed:null,t.details.draftValue_Optional=e.details.Optional!==t.details.Optional?e.details.Optional:null,t.details.draftValue_PO_Org_Exist_Check=e.details.PO_Org_Exist_Check!==t.details.PO_Org_Exist_Check?e.details.PO_Org_Exist_Check:null,t.details.draft_Plants={};for(let a in t.details.Plants)t.details.draft_Plants[a]=e.details.Plants[a]!==t.details.Plants[a]?e.details.Plants[a]:null}}))}))}setTimeout((()=>{L(n);let e=n.map((e=>{var t,a,n,l,s,i,r,o,d,c,m,u,p,h;return e.ALLOWABLE_ORG_TEMPLATES=null!==e&&void 0!==e&&null!==(t=e.details)&&void 0!==t&&t.draftValue_ALLOWABLE_ORG_TEMPLATES?null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.draftValue_ALLOWABLE_ORG_TEMPLATES:null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.ALLOWABLE_ORG_TEMPLATES,e.Has_MBOM=null!==e&&void 0!==e&&null!==(l=e.details)&&void 0!==l&&l.draftValue_Has_MBOM?`${null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.draftValue_Has_MBOM} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.Has_MBOM}</span>`:null===e||void 0===e?void 0:e.details.Has_MBOM,e.On_MBOM=null!==e&&void 0!==e&&null!==(i=e.details)&&void 0!==i&&i.draftValue_On_MBOM?`${null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.draftValue_On_MBOM} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.On_MBOM}</span>`:null===e||void 0===e?void 0:e.details.On_MBOM,e.EBOM_Allowed=null!==e&&void 0!==e&&null!==(o=e.details)&&void 0!==o&&o.draftValue_EBOM_Allowed?`${null===e||void 0===e||null===(d=e.details)||void 0===d?void 0:d.draftValue_EBOM_Allowed} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.EBOM_Allowed}</span>`:null===e||void 0===e?void 0:e.details.EBOM_Allowed,e.Optional=null!==e&&void 0!==e&&null!==(c=e.details)&&void 0!==c&&c.draftValue_Optional?`${null===e||void 0===e||null===(m=e.details)||void 0===m?void 0:m.draftValue_Optional} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.Optional}</span>`:null===e||void 0===e?void 0:e.details.Optional,e.PO_Org_Exist_Check=null!==e&&void 0!==e&&null!==(u=e.details)&&void 0!==u&&u.draftValue_PO_Org_Exist_Check?`${null===e||void 0===e||null===(p=e.details)||void 0===p?void 0:p.draftValue_PO_Org_Exist_Check} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.PO_Org_Exist_Check}</span>`:null===e||void 0===e?void 0:e.details.PO_Org_Exist_Check,Object.keys(null===e||void 0===e||null===(h=e.details)||void 0===h?void 0:h.Plants).map((t=>{var a,n,l,s,i,r;null!==e&&void 0!==e&&null!==(a=e.details)&&void 0!==a&&a.draft_Plants?e[t]=null!==e&&void 0!==e&&null!==(n=e.details)&&void 0!==n&&n.draft_Plants[t]?`${null===e||void 0===e||null===(l=e.details)||void 0===l?void 0:l.draft_Plants[t]} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through"> ${null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.Plants[t]} <span>`:null===e||void 0===e||null===(i=e.details)||void 0===i?void 0:i.Plants[t]:e[t]=null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.Plants[t]})),e}));ge(n),he(e),I(!1)}),500)}else{var n;if(!a)i(W.Qy?null===(n=W.Qy[0])||void 0===n?void 0:n.value:"")}}),[s,a,o,Y]);const Ae=()=>{I(!0),w.getAlldraftChanges().then((e=>{let t=a||"Micro Motion";if(e.data){let a=e.data.filter((e=>e.BUID===t||"Another Name"===e.BUID));X(a)}else X([]);I(!1)}))};return(0,j.jsxs)(Ya,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Org Allowed Templates"}]})}),(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(ce.A,{type:"text",name:"search",size:"small",onChange:J,value:o,style:{width:"100%"}})}),(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,j.jsxs)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:[(0,j.jsxs)(U.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,j.jsx)(U.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,j.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,j.jsx)(U.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,j.jsx)(F,{onChange:J,selectedvalue:a,style:{width:"100%"},optionsValues:W.Qy,onChangeFunc:e=>{H({}),_([]),i(e),d("")}})})]}),(0,j.jsxs)(U.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,onClick:()=>{x({BUID:a}),f([]),p(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,disabled:1!==(null===N||void 0===N?void 0:N.length),onClick:()=>{var e,t;const a=null===(e=N[0])||void 0===e?void 0:e.details,n=null===(t=N[0])||void 0===t?void 0:t.BUID;for(const o in null===(l=N[0])||void 0===l||null===(s=l.details)||void 0===s?void 0:s.Plants){var l,s,i,r;"Y"===(null===(i=N[0])||void 0===i||null===(r=i.details)||void 0===r?void 0:r.Plants[o])&&y.push(o)}x({...a,BUID:n}),M(!0),p(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,disabled:0===(null===N||void 0===N?void 0:N.length),onClick:()=>{C(N[0]),m(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{v(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,j.jsx)(Ha,{title:"Org Allowed Templates",MappingType:"orgallowedvalues",filterTemplateData:N,sortInfo:K})]})]}),(0,j.jsx)(U.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,j.jsxs)(E.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[R&&(0,j.jsx)(E.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,j.jsx)(dt.A,{})}),!R&&(0,j.jsx)(Le.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:(e=>{let t=new Set;e&&e.length>0&&e.forEach((e=>{var a;const n=null===(a=e.details)||void 0===a?void 0:a.Plants;if(n){Object.keys(n).forEach((e=>{t.add(e)}))}}));const a=Array.from(t).map((e=>({name:e,header:e,defaultWidth:100,render:e=>(0,j.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})})));return[{name:"ALLOWABLE_ORG_TEMPLATES",defaultWidth:250,header:(0,j.jsx)(me.A,{title:fa.adminConstant.orgAllowedList.tooltip.AllowableOrgTemplate,children:"Template Name"}),render:e=>(0,j.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,j.jsx)(me.A,{title:fa.adminConstant.orgAllowedList.tooltip.RDO,children:"Design Organization"}),defaultWidth:150},{name:"Has_MBOM",header:(0,j.jsx)(me.A,{title:fa.adminConstant.orgAllowedList.tooltip.HasMBom,children:"Has MBOM"}),defaultWidth:120,render:e=>(0,j.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"On_MBOM",header:(0,j.jsx)(me.A,{title:fa.adminConstant.orgAllowedList.tooltip.OnMbom,children:"On MBOM"}),defaultWidth:120,render:e=>(0,j.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"EBOM_Allowed",header:(0,j.jsx)(me.A,{title:fa.adminConstant.orgAllowedList.tooltip.EBOM,children:"EBOM Allowed"}),defaultWidth:100,render:e=>(0,j.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"Optional",header:(0,j.jsx)(me.A,{title:fa.adminConstant.orgAllowedList.tooltip.Optional,children:"Optional"}),defaultWidth:100,render:e=>(0,j.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"PO_Org_Exist_Check",header:(0,j.jsx)(me.A,{title:fa.adminConstant.orgAllowedList.tooltip.PoCheck,children:"PO org Check"}),defaultWidth:120,render:e=>(0,j.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},...a]})(D)||[],dataSource:null===K?xe:ve,rowHeight:null,checkboxColumn:!0,defaultLimit:100,selected:z,onSelectionChange:ue,handle:e=>q.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(z).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===z?"#dee1f2":"initial"}},pagination:!0,renderScroller:()=>{var e,t;return null===q||void 0===q||null===(e=q.current)||void 0===e?void 0:e.setScrollTop(0==(null===N||void 0===N?void 0:N.length)?0:null===q||void 0===q||null===(t=q.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{Q(e)}})]})})]})}),V?(0,j.jsx)(be.A,{openAlert:k,openDesc:V,setOpenAlert:$}):(0,j.jsx)(j.Fragment,{}),(0,j.jsxs)(le.A,{open:c,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,j.jsx)(ie.A,{children:(0,j.jsxs)(re.A,{children:["Do you want to delete the OrgAllowedTemplates Mapping(s) for Design Organization"," ",(0,j.jsx)("b",{children:null===O||void 0===O?void 0:O.BUID}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)("b",{children:"Note:"})," ",fa.adminConstant.common.deleteNote]})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:ee,children:"Cancel"}),(0,j.jsx)(S.A,{onClick:async()=>{try{await b.softDeleteTempCompMapping({data:N}).then((e=>{ee(),_([]),C([]),H({})}))}catch(e){console.error("Failed to delete mapping:",e)}te("Template Mapping deleted Successfully","success"),de(),m(!1)},children:"delete"})]})]}),(0,j.jsx)(ba,{open:u,handleorgAllowedDialogAdd:()=>{p(!1)},handleorgAllowedDialogClose:ae,orgAllowedForm:h,handleorgAllowedFormChange:e=>{const{name:t,value:n}=e.target;if("BUID"===t&&f([]),"ALLOWABLE_ORG_TEMPLATES"===t&&(x({...h,BUID:a}),f([])),"plants"===t)f(n);else{const e={...h,[t]:n};x(e)}},handleAddOrgAllowedValues:()=>{var e;const a=null===t||void 0===t?void 0:t.filter((e=>e.templateName===h.ALLOWABLE_ORG_TEMPLATES)),n=(null===l||void 0===l||null===(e=l.find((e=>e.buName===h.BUID)))||void 0===e?void 0:e.plants)||[],s={};if(n.forEach((e=>{const t=e.plantName;s[t]=null!==y&&void 0!==y&&y.includes(t)?"Y":"N"})),!h.ALLOWABLE_ORG_TEMPLATES||!h.BUID||(null===y||void 0===y?void 0:y.length)<1)te("Please Enter the required fields","error");else{if(h){const e={BUID:h.BUID,MappingType:"orgallowedvalues",id:a[0].id+"_"+h.BUID.trim(),details:{ALLOWABLE_ORG_TEMPLATES:h.ALLOWABLE_ORG_TEMPLATES,Has_MBOM:void 0!==h.Has_MBOM?h.Has_MBOM:"Y",EBOM_Allowed:void 0!==h.EBOM_Allowed?h.EBOM_Allowed:"Y",Optional:void 0!==h.Optional?h.Optional:"Y",PO_Org_Exist_Check:void 0!==h.PO_Org_Exist_Check?h.PO_Org_Exist_Check:"Y",On_MBOM:void 0!==h.On_MBOM?h.On_MBOM:"Y",ALLOWABLE_ORG_TEMPLATES_ID:a[0].id,Plants:s}};!1===P?b.addnewTempCompMapping(e).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(de(),setTimeout((()=>{p(!1)}),200),te("Org Allowed Values added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&te(null===e||void 0===e?void 0:e.msg,"error")})):b.updateTempCompMapping(e).then((e=>{"success"===e.status?(setTimeout((()=>{p(!1),Ae(),de()}),200),M(!1),te("Org Allowed Values updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&te(null===e||void 0===e?void 0:e.msg,"error")}))}ae()}},selectedPlants:y,isEdit:P,selectedBU:a}),(0,j.jsx)(Oa,{title:"Import RDO Allowed Template Mappings",MappingType:"orgallowedvalues",selectedBU:a,importTemplate:g,fetchData:de,setImportTemplate:v})]})},qa=()=>(0,j.jsx)(Xa,{}),Ka=[{path:"/orgallowedList",element:(0,j.jsx)(ae,{children:(0,j.jsx)(qa,{})})}];var Qa=a(20979);const Za={minHeight:248},Ja=e=>{let{open:t,handleorgAllowedDialogClose:a,orgAllowedForm:l,handleorgAllowedFormChange:s,handleAddMVOtempComp:i,isEdit:r,orgAllowedTempList:o,onSelectionChange:d,selected:c,filteredBUOptions:m,setFilteredBUOptions:u,formError:p,RDO:h,selectedRow:x,handleStatusChange:g}=e;const[v,A]=(0,n.useState)([]),[y,f]=(0,n.useState)({});(0,_e.bV)(v,"ALLOWABLE_ORG_TEMPLATES"),(0,n.useEffect)((()=>{if(null!==l&&void 0!==l&&l.BUID){null===l||void 0===l||l.BUID;u([h])}else u([h]);if(o){const e=null===o||void 0===o?void 0:o.filter((e=>(null===e||void 0===e?void 0:e.BUID)===h));x&&e.map((e=>{var t;return null===x||void 0===x||null===(t=x.details)||void 0===t||t.allowableOrgTemplates.map((t=>{e.details.ALLOWABLE_ORG_TEMPLATES===t.ALLOWABLE_ORG_TEMPLATE&&(e.status=t.status)})),e}));let t=e.map((e=>({...e,...null===e||void 0===e?void 0:e.details})))||[];console.log(t,"================table data"),A(t)}}),[o,l]),(0,n.useEffect)((()=>{console.log(p,"formError")}),[]);const b=(0,n.useRef)(null),T=[{name:"id",header:"Id",defaultVisible:!1,defaultWidth:60,type:"number"},{name:"ALLOWABLE_ORG_TEMPLATES",defaultWidth:265,header:(0,j.jsx)(me.A,{title:fa.adminConstant.orgAllowedList.tooltip.AllowableOrgTemplate,children:"ALLOWABLE ORG TEMPLATES"}),render:e=>{var t;let{data:a}=e;return(0,j.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES})}},{name:"Has_MBOM",header:(0,j.jsx)(me.A,{title:fa.adminConstant.orgAllowedList.tooltip.HasMBom,children:"Has MBOM"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,j.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.Has_MBOM})}},{name:"EBOM_Allowed",header:(0,j.jsx)(me.A,{title:fa.adminConstant.orgAllowedList.tooltip.EBOM,children:"EBOM"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,j.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.EBOM_Allowed})}},{name:"Optional",header:(0,j.jsx)(me.A,{title:fa.adminConstant.orgAllowedList.tooltip.Optional,children:"Optional"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,j.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.Optional})}},{name:"PO_Org_Exist_Check",header:(0,j.jsx)(me.A,{title:fa.adminConstant.orgAllowedList.tooltip.PoCheck,children:"PO Check"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,j.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.PO_Org_Exist_Check})}},{name:"On_MBOM",header:(0,j.jsx)(me.A,{title:fa.adminConstant.orgAllowedList.tooltip.OnMbom,children:"On MBOM"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,j.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.On_MBOM})}},{name:"Status",header:(0,j.jsx)(me.A,{title:fa.adminConstant.orgAllowedList.tooltip.status,children:"Status"}),defaultWidth:200,render:e=>{var t,a,n,l;let{data:s}=e;return(0,j.jsx)("div",{children:(0,j.jsx)(Pe.A,{children:(0,j.jsxs)(Oe.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:null===s||void 0===s||null===(t=s.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES,value:y[null===s||void 0===s||null===(a=s.details)||void 0===a?void 0:a.ALLOWABLE_ORG_TEMPLATES]?null===(n=y[null===s||void 0===s||null===(l=s.details)||void 0===l?void 0:l.ALLOWABLE_ORG_TEMPLATES])||void 0===n?void 0:n.trim():"active",onChange:e=>{const t={...y,[e.target.name]:e.target.value};f(t),g(e)},children:[(0,j.jsx)(Ce.A,{value:"active",control:(0,j.jsx)(we.A,{}),label:"Active"}),(0,j.jsx)(Ce.A,{value:"disabled",control:(0,j.jsx)(we.A,{}),label:"Disable"})]})})})}}];return(0,n.useEffect)((()=>{if(x){var e;const t=(e=>{let t={};return e.forEach((e=>{var a;t[null===e||void 0===e?void 0:e.ALLOWABLE_ORG_TEMPLATE]=null===e||void 0===e||null===(a=e.status)||void 0===a?void 0:a.toLowerCase()})),t})(null===x||void 0===x||null===(e=x.details)||void 0===e?void 0:e.allowableOrgTemplates);f(t)}}),[x]),(0,j.jsxs)(le.A,{open:t,fullWidth:!0,maxWidth:"xl",children:[(0,j.jsxs)(oe.A,{children:[" ",r?"Edit MVO Template Compatibility":"Add MVO Template Compatibility"]}),(0,j.jsx)(Qa.ur,{autoHeight:!0,autoHeightMin:100,autoHeightMax:500,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:300,children:(0,j.jsx)(ie.A,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsx)("span",{children:"Design Organization:"})}),(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,j.jsx)(I.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:h,onChange:s,disabled:!0,children:null===m||void 0===m?void 0:m.map((e=>(0,j.jsx)(k.A,{value:e,children:e},e)))}),null!==p&&void 0!==p&&p.RDOError?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.RDOError})}):(0,j.jsx)(j.Fragment,{})]}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsx)("span",{children:"Template MVO:"})}),(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,j.jsx)(I.A,{name:"MVO_TEMPLATE_OPTION",fullWidth:!0,value:l.MVO_TEMPLATE_OPTION,onChange:s,disabled:r,children:null===v||void 0===v?void 0:v.map(((e,t)=>(0,j.jsx)(k.A,{value:e.details.ALLOWABLE_ORG_TEMPLATES,children:e.details.ALLOWABLE_ORG_TEMPLATES},t)))}),null!==p&&void 0!==p&&p.templateError?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.templateError})}):(0,j.jsx)(j.Fragment,{})]}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Org Allowed Templates:"," "]})}),(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:[null!==p&&void 0!==p&&p.AllowableOrgTempError?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.AllowableOrgTempError})}):(0,j.jsx)(j.Fragment,{}),(0,j.jsx)(Le.Ay,{idProperty:"id",showZebraRows:!1,handle:e=>b.current=e?e.current:null,selected:c,checkboxColumn:!0,onSelectionChange:d,checkboxOnlyRowSelect:!0,style:{...Za,height:"500px"},columns:T,dataSource:v,pagination:!0})]})]})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:a,children:"Cancel"}),(0,j.jsx)(S.A,{onClick:i,children:r?"Update":"Add"})]})]})},en=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),tn=()=>{var e,t,a,l,s,i,r,o,d;const{refreshData:c,templatesInfo:m,bussinessUnit:u,mappingTemplatesInfo:p,updateBussinessUnit:h,updateMappingTemplatesInfo:x}=(0,B.A)(),[g,v]=(0,n.useState)(!1),[y,f]=(0,n.useState)(""),[b,T]=(0,n.useState)(!1),[w,O]=(0,n.useState)(!1),C=new la.W,P=new Ea,M=new Ta,[D,L]=(0,n.useState)([]),[N,_]=(0,n.useState)(),[R,I]=(0,n.useState)(!1),[k,$]=(0,n.useState)({}),[V,G]=(0,n.useState)([]),[z,H]=(0,n.useState)([]),[Y,X]=(0,n.useState)(!0),[q,K]=(0,n.useState)({}),[Q,Z]=(0,n.useState)({}),[J,ee]=(0,n.useState)([]),[te,ae]=(0,n.useState)({}),[de,ue]=(0,n.useState)(""),[pe,he]=(0,n.useState)({}),[xe,ge]=(0,n.useState)([]),[ve,Ae]=(0,n.useState)(!1),[je,ye]=(0,n.useState)(null),[fe,Te]=(0,n.useState)({}),Ee=(0,n.useRef)(null),Se=Ee&&Ee.current&&Ee.current.dataMap?Ee.current.dataMap:null,we=()=>{T(!1)},Oe=(e,t)=>{Ae(!0),ye({severity:t,desc:e})},Ce=[{name:"MVO_TEMPLATE_OPTION",header:(0,j.jsx)(me.A,{title:null===fa||void 0===fa||null===(e=fa.adminConstant)||void 0===e||null===(t=e.mvoTemplateList)||void 0===t||null===(a=t.tooltip)||void 0===a?void 0:a.TemplateOptionMVO,children:"Template MVO"}),defaultWidth:250,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.MVO_TEMPLATE_OPTION})}},{name:"name",header:(0,j.jsx)(me.A,{title:null===fa||void 0===fa||null===(l=fa.adminConstant)||void 0===l||null===(s=l.mvoTemplateList)||void 0===s||null===(i=s.tooltip)||void 0===i?void 0:i.AllowableOrgTemplate,children:"Org Allowed Templates - Status"}),defaultFlex:1,sortable:!1,render:e=>(0,j.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,j.jsx)(me.A,{title:null===fa||void 0===fa||null===(r=fa.adminConstant)||void 0===r||null===(o=r.mvoTemplateList)||void 0===o||null===(d=o.tooltip)||void 0===d?void 0:d.RDO,children:"Design Organization"}),defaultFlex:1,defaultWidth:50}],Pe=()=>{O(!1),$(""),G([]),K({}),Z({}),ae({}),I(!1)},Me=()=>{X(!0),C.getAlltemplateMappings().then((e=>{var t;x(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),X(!1)}))};(0,n.useEffect)((()=>{X(c)}),[c]);const[De,Ne]=(0,n.useState)([]),[Re,Ie]=(0,n.useState)([]);(0,n.useEffect)((()=>{ke()}),[]);const ke=()=>{X(!0),M.getAlldraftChanges().then((e=>{let t=u||"Micro Motion",a=e.data.filter((e=>e.BUID===t));ge(a),X(!1)}))};(0,n.useEffect)((()=>{if(X(!0),p){let n=p;var e,t;if(n=n.filter((e=>"mvoTemplateCompatibility"===e.MappingType&&"Delete"!==e.actionFlag)),u)n=null===(e=n)||void 0===e?void 0:e.filter((e=>e.BUID===u));if(y&&""!==y)n=null===(t=n)||void 0===t?void 0:t.filter((e=>{var t,a,n;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(y))||(null===(a=JSON.stringify(e))||void 0===a||null===(n=a.toLocaleLowerCase())||void 0===n?void 0:n.includes(y))}));if(L(n),xe.length>0){const e=xe.filter((e=>"mvoTemplateCompatibility"==e.MappingType));e.length>0&&"mvoTemplateCompatibility"===e[0].MappingType&&n.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draft_allowableOrgTemplates=e.details.allowableOrgTemplates;const a=new Set(e.details.allowableOrgTemplates.map((e=>e.ALLOWABLE_ORG_TEMPLATE))),n=t.details.allowableOrgTemplates.filter((e=>!a.has(e.ALLOWABLE_ORG_TEMPLATE)));t.details.deletedTemplateLists=n;let l=t.details.draft_allowableOrgTemplates.filter((e=>!t.details.allowableOrgTemplates.some((t=>e.ALLOWABLE_ORG_TEMPLATE===t.ALLOWABLE_ORG_TEMPLATE&&e.exclusive_use===t.exclusive_use))));t.details.newTemplateLists=l;let s=[...t.details.allowableOrgTemplates,...t.details.newTemplateLists];t.details.allowableOrgTemplates=s}}))}))}console.log("finalTempMapList",n);let l=n.map((e=>{var t,a;return e.MVO_TEMPLATE_OPTION=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.MVO_TEMPLATE_OPTION,e.name=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.allowableOrgTemplates.filter(((e,t,a)=>t===a.findIndex((t=>t.ALLOWABLE_ORG_TEMPLATE===e.ALLOWABLE_ORG_TEMPLATE)))).map((t=>{var a;const n=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.ALLOWABLE_ORG_TEMPLATE===e.ALLOWABLE_ORG_TEMPLATE?`<span style="color:#f00; font-weight:bold;text-decoration: line-through">${e.ALLOWABLE_ORG_TEMPLATE}</span>`:"")).join(" "),l=t.status?t.status.charAt(0).toUpperCase()+t.status.slice(1):"";return`<div>${t.ALLOWABLE_ORG_TEMPLATE} - ${l} &nbsp;&nbsp; ${n}</div>`})).join(""),e}));Ie(n),Ne(l);let s=p.filter((e=>"orgallowedvalues"===e.MappingType&&"Delete"!==e.actionFlag));var a;if(u)s=null===(a=s)||void 0===a?void 0:a.filter((e=>e.BUID===u));setTimeout((()=>{H(s),X(!1)}),500)}else{var n;if(!u)h(W.Qy?null===(n=W.Qy[0])||void 0===n?void 0:n.value:"")}}),[p,u,y,xe]);const Be=(0,n.useCallback)((e=>{let{selected:t}=e;K(t)}),[]),Fe=(0,n.useCallback)((e=>{let{selected:t}=e;Z(t),ae((e=>{const{AllowableOrgTempError:t,...a}=e;return a}))}),[]);(0,n.useEffect)((()=>{const e=!0===q?Se:q,t=e&&Object.keys(e).map((t=>e[t]));G(t)}),[q,Se]);const[Ue,We]=(0,n.useState)(u);(0,n.useEffect)((()=>{K({}),G([]),h(u),ue(u),f(""),G([])}),[u]);const $e=(0,_e.t$)(De,"MVO_TEMPLATE_OPTION"),Ve=(0,Xe.FX)($e),Ge=(0,Xe.FX)(Re);return(0,j.jsxs)(en,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"MVO Template Compatibility"}]})}),(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,j.jsx)(U.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(ce.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;f(t)},value:y,style:{width:"100%"}})}),(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,j.jsxs)(U.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,j.jsxs)(U.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,j.jsx)(U.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,j.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,j.jsx)(U.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,j.jsx)(F,{selectedvalue:u,style:{width:"100%"},optionsValues:W.Qy,onChangeFunc:e=>{K({}),G([]),h(e),ue(e),f(""),G([])}})})]}),(0,j.jsxs)(U.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,onClick:()=>{$(""),O(!0),ue(u)},children:"Add"}),(0,j.jsx)(S.A,{variant:"contained",disabled:1!==(null===V||void 0===V?void 0:V.length),onClick:()=>{var e,t,a,n;const l=null===(e=V[0])||void 0===e?void 0:e.details,s=null===(t=V[0])||void 0===t?void 0:t.BUID,i={...l,BUID:s};$(i),ue(s);let r=(null===(a=V[0])||void 0===a||null===(n=a.details)||void 0===n?void 0:n.allowableOrgTemplates.map((e=>null===z||void 0===z?void 0:z.filter((t=>t.details.ALLOWABLE_ORG_TEMPLATES===e.ALLOWABLE_ORG_TEMPLATE&&t.BUID===V[0].BUID)))).flat()).reduce(((e,t)=>Object.assign(e,{[t.id]:t})),{});Z(r),I(!0),O(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,j.jsx)(S.A,{variant:"contained",disabled:0===(null===V||void 0===V?void 0:V.length),onClick:()=>{_(V[0]),T(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{v(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,j.jsx)(Ha,{title:"MVO Template Compatibility",MappingType:"mvoTemplateCompatibility",filterTemplateData:V,sortInfo:fe})]})]}),(0,j.jsx)(U.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,j.jsxs)(E.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[Y&&(0,j.jsx)(E.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,j.jsx)(dt.A,{})}),!Y&&(0,j.jsx)(Le.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:Ce,dataSource:null===fe?Ge:Ve,rowHeight:"auto",checkboxColumn:!0,selected:q,defaultLimit:100,onSelectionChange:Be,handle:e=>Ee.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(q).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===q?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},pagination:!0,renderScroller:()=>{var e,t;return null===Ee||void 0===Ee||null===(e=Ee.current)||void 0===e?void 0:e.setScrollTop(0==(null===V||void 0===V?void 0:V.length)?0:null===Ee||void 0===Ee||null===(t=Ee.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{Te(e)}})]})})]})}),(0,j.jsxs)(le.A,{open:b,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,j.jsx)(ie.A,{children:(0,j.jsxs)(re.A,{children:["Do you want to delete the MVOTemplateCompatibility Mapping(s) for Design Organization"," ",(0,j.jsx)("b",{children:null===N||void 0===N?void 0:N.BUID}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)("b",{children:"Note:"})," ",fa.adminConstant.common.deleteNote]})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:we,children:"Cancel"}),(0,j.jsx)(S.A,{onClick:async()=>{try{await P.softDeleteTempCompMapping({data:V}).then((e=>{we(),Oe(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status),G([]),_([]),K({})}))}catch(e){console.error("Failed to delete mapping:",e)}Me(),G([])},children:"delete"})]})]}),(0,j.jsx)(Ja,{open:w,handleorgAllowedDialogClose:Pe,orgAllowedForm:k,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target,n={...k,[t]:a};$(n),"BUID"===t&&(ue(a),ae((e=>{const{RDOError:t,...a}=e;return a}))),"MVO_TEMPLATE_OPTION"===t&&ae((e=>{const{templateError:t,...a}=e;return a}))},handleAddMVOtempComp:()=>{const e=null===m||void 0===m?void 0:m.filter((e=>e.templateName===k.MVO_TEMPLATE_OPTION));if(k){void 0!==de&&""!==de||ae((e=>({...e,RDOError:"Design Organization is required"}))),void 0!==k.MVO_TEMPLATE_OPTION&&""!==k.MVO_TEMPLATE_OPTION||ae((e=>({...e,templateError:"Template Name is required"})));let t=[],a={...te};if(delete a.AllowableOrgTempError,Object.keys(Q).length?(t=Object.values(Q).map((e=>e)),t=t.map((e=>({ALLOWABLE_ORG_TEMPLATE:e.details.ALLOWABLE_ORG_TEMPLATES,status:void 0===pe[e.details.ALLOWABLE_ORG_TEMPLATES]?"active":pe[e.details.ALLOWABLE_ORG_TEMPLATES],id:e.details.ALLOWABLE_ORG_TEMPLATES_ID})))):a.AllowableOrgTempError="Please select at least one template",ae(a),Object.keys(a).length)return;{const a={MappingType:"mvoTemplateCompatibility",BUID:de,details:{MVO_TEMPLATE_OPTION:k.MVO_TEMPLATE_OPTION,MVO_TEMPLATE_OPTION_ID:e[0].id,allowableOrgTemplates:t},id:e[0].id+"_"+de.trim()+"_mvoTemplateCompatibility"};!1===R?P.addnewTempCompMapping(a).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(Me(),setTimeout((()=>{O(!1)}),200),Oe("MVO template compatibility added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&Oe(null===e||void 0===e?void 0:e.msg,"error")})):P.updateTempCompMapping(a).then((e=>{"success"===e.status?(setTimeout((()=>{O(!1),ke(),Me()}),200),I(!1),Oe("MVO template compatibility updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&Oe(null===e||void 0===e?void 0:e.msg,"error")})),Pe()}}else{let e={};0===Object.keys(Q).length&&(e={AllowableOrgTempError:"Please select at least one template"}),ae({...e,templateError:"Template Name is required"})}},isEdit:R,onSelectionChange:Fe,selected:Q,orgAllowedTempList:z,filteredBUOptions:J,setFilteredBUOptions:ee,formError:te,RDO:de,selectedRow:V[0],handleStatusChange:e=>{const t={...pe,[e.target.name]:e.target.value};he(t)}}),(0,j.jsx)(Oa,{title:"Import Template Compatibility Mappings",MappingType:"mvoTemplateCompatibility",selectedBU:u,importTemplate:g,fetchData:Me,setImportTemplate:v}),je?(0,j.jsx)(be.A,{openAlert:ve,openDesc:je,setOpenAlert:Ae}):(0,j.jsx)(j.Fragment,{})]})},an=()=>(0,j.jsx)(tn,{}),nn=[{path:"/mvotemplateList",element:(0,j.jsx)(ae,{children:(0,j.jsx)(an,{})})}],ln={minHeight:248},sn=e=>{let{open:t,handleorgAllowedDialogClose:a,orgAllowedForm:l,handleorgAllowedFormChange:s,handleAddMVOtempComp:i,isEdit:r,orgAllowedTempList:o,onSelectionChange:d,selected:c,filteredBUOptions:m,setFilteredBUOptions:u,formError:p,RDO:h,selectedRow:x,handleStatusChange:g}=e;const[v,A]=(0,n.useState)([]),[y,f]=(0,n.useState)({});(0,_e.bV)(v,"ALLOWABLE_ORG_TEMPLATES"),(0,n.useEffect)((()=>{if(null!==l&&void 0!==l&&l.BUID){let e=[null===l||void 0===l?void 0:l.BUID]||0;u(e)}else u([h]);if(o){const e=null===o||void 0===o?void 0:o.filter((e=>(null===e||void 0===e?void 0:e.BUID)===h));x&&e.map((e=>{var t;return null===x||void 0===x||null===(t=x.details)||void 0===t||t.allowableOrgTemplates.forEach((t=>{e.details.ALLOWABLE_ORG_TEMPLATES===t.org_allowed_template&&(e.exclusive_use=t.exclusive_use)})),e})),A(e)}}),[o,l]);const b=(0,n.useRef)(null),T=[{name:"id",header:"Id",defaultVisible:!1,defaultWidth:60,type:"number"},{name:"ALLOWABLE_ORG_TEMPLATES",defaultWidth:280,header:(0,j.jsx)(me.A,{title:fa.adminConstant.orgAllowedList.tooltip.AllowableOrgTemplate,children:"ALLOWABLE ORG TEMPLATES"}),render:e=>{var t;let{data:a}=e;return(0,j.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES})}},{name:"Exclusive",header:(0,j.jsx)(me.A,{title:fa.adminConstant.orgAllowedList.tooltip.status,children:"Exclusive Use"}),defaultWidth:280,render:e=>{var t,a,n;let{data:l}=e;return(0,j.jsx)("div",{children:(0,j.jsx)(Pe.A,{children:(0,j.jsxs)(Oe.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:null===l||void 0===l||null===(t=l.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES,value:y[null===l||void 0===l||null===(a=l.details)||void 0===a?void 0:a.ALLOWABLE_ORG_TEMPLATES]?y[null===l||void 0===l||null===(n=l.details)||void 0===n?void 0:n.ALLOWABLE_ORG_TEMPLATES]:"Yes",onChange:e=>{const t={...y,[e.target.name]:e.target.value};f(t),g(e)},children:[(0,j.jsx)(Ce.A,{value:"Yes",control:(0,j.jsx)(we.A,{}),label:"Yes"}),(0,j.jsx)(Ce.A,{value:"No",control:(0,j.jsx)(we.A,{}),label:"No"})]})})})}}];return(0,n.useEffect)((()=>{if(x){var e;const t=(e=>{let t={};return e.forEach((e=>{t[e.org_allowed_template]=e.exclusive_use})),t})(null===x||void 0===x||null===(e=x.details)||void 0===e?void 0:e.allowableOrgTemplates);f(t)}}),[x]),(0,j.jsxs)(le.A,{open:t,fullWidth:!0,maxWidth:"md",children:[(0,j.jsxs)(oe.A,{children:[" ",r?"Edit Part Type to Template ":"Add Part Type to Template"]}),(0,j.jsx)(Qa.ur,{autoHeight:!0,autoHeightMin:100,autoHeightMax:500,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:300,children:(0,j.jsx)(ie.A,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsx)("span",{children:"Design Organization: "})}),(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,j.jsx)(I.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:h,onChange:s,disabled:!0,children:null===m||void 0===m?void 0:m.map((e=>(0,j.jsx)(k.A,{value:e,children:e},e)))}),null!==p&&void 0!==p&&p.RDOError?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.RDOError})}):(0,j.jsx)(j.Fragment,{})]}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsx)("span",{children:"Enovia Part Type:"})}),(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,j.jsx)(ce.A,{name:"ENGG_ITEM_TYPE",value:l.ENGG_ITEM_TYPE,onChange:s,fullWidth:!0,disabled:r,margin:"normal"}),null!==p&&void 0!==p&&p.templateError?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.templateError})}):(0,j.jsx)(j.Fragment,{})]}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Org Allowed Templates:"," "]})}),(0,j.jsxs)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:[null!==p&&void 0!==p&&p.AllowableOrgTempError?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.AllowableOrgTempError})}):(0,j.jsx)(j.Fragment,{}),null!==v&&void 0!==v&&v.length?(0,j.jsx)(Le.Ay,{idProperty:"id",showZebraRows:!1,handle:e=>b.current=e?e.current:null,selected:c,checkboxColumn:!0,onSelectionChange:d,checkboxOnlyRowSelect:!0,style:ln,columns:T,dataSource:v}):null]})]})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:a,children:"Cancel"}),(0,j.jsx)(S.A,{onClick:i,children:r?"Update":"Add"})]})]})},rn=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),on=()=>{const{refreshData:e}=(0,B.A)(),{templatesInfo:t,bussinessUnit:a,mappingTemplatesInfo:l,updateBussinessUnit:s,updateMappingTemplatesInfo:i}=(0,B.A)(),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(""),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)({}),[v,y]=(0,n.useState)([]),[f,b]=(0,n.useState)([]),T=new la.W,w=new Ta,[O,C]=(0,n.useState)(),P=new Ea,[M,D]=(0,n.useState)(!0),[L,N]=(0,n.useState)(!1),[_,R]=(0,n.useState)([]),[I,k]=(0,n.useState)(""),[$,V]=(0,n.useState)(""),[G,z]=(0,n.useState)(""),[H,Y]=(0,n.useState)({}),[X,q]=(0,n.useState)({}),[K,Q]=(0,n.useState)([]),[Z,J]=(0,n.useState)([]),[ee,te]=(0,n.useState)({}),[ae,de]=(0,n.useState)(""),[ue,pe]=(0,n.useState)({}),[he,xe]=(0,n.useState)(!1),[ge,ve]=(0,n.useState)(null),Ae=(0,n.useRef)(null),[je,ye]=(0,n.useState)({}),fe=Ae&&Ae.current&&Ae.current.dataMap?Ae.current.dataMap:null,Te=e=>{const t=e.target.value;c(t)},Ee=()=>{u(!1)},Se=(e,t)=>{xe(!0),ve({severity:t,desc:e})},we=()=>{h(!1),g(""),b([]),ke([]),Y({}),q({}),te({}),N(!1)},Oe=()=>{D(!0),T.getAlltemplateMappings().then((e=>{var t;i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),D(!1)}))};(0,n.useEffect)((()=>{D(e)}),[e]);const[Ce,Pe]=(0,n.useState)([]),[Me,De]=(0,n.useState)([]),Ne=(0,_e.t$)(Ce,"ENGG_ITEM_TYPE");(0,n.useEffect)((()=>{Re()}),[]);const Re=()=>{D(!0),w.getAlldraftChanges().then((e=>{let t=a||"Micro Motion",n=e.data.filter((e=>e.BUID===t));J(n),D(!1)}))};(0,n.useEffect)((()=>{if(D(!0),l){let s=l;var e,t;if(s=s.filter((e=>"parttypetotemplate"===e.MappingType&&"Delete"!==e.actionFlag)),a)s=null===(e=s)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(d&&""!==d)s=null===(t=s)||void 0===t?void 0:t.filter((e=>{var t,a,n;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(d))||(null===(a=JSON.stringify(e))||void 0===a||null===(n=a.toLocaleLowerCase())||void 0===n?void 0:n.includes(d))}));if(Z.length>0){const e=Z.filter((e=>"parttypetotemplate"==e.MappingType));e.length>0&&"parttypetotemplate"===e[0].MappingType&&s.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draft_allowableOrgTemplates=e.details.allowableOrgTemplates;const a=new Set(e.details.allowableOrgTemplates.map((e=>e.org_allowed_template))),n=t.details.allowableOrgTemplates.filter((e=>!a.has(e.org_allowed_template)));t.details.deletedTemplateLists=n;let l=t.details.draft_allowableOrgTemplates.filter((e=>!t.details.allowableOrgTemplates.some((t=>e.org_allowed_template===t.org_allowed_template&&e.exclusive_use===t.exclusive_use))));t.details.newTemplateLists=l;let s=[...t.details.allowableOrgTemplates,...t.details.newTemplateLists];t.details.allowableOrgTemplates=s}}))}))}let i=s.map((e=>{var t,a;return e.ENGG_ITEM_TYPE=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.ENGG_ITEM_TYPE,e.org_allowed_template=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.allowableOrgTemplates.filter(((e,t,a)=>t===a.findIndex((t=>t.org_allowed_template===e.org_allowed_template)))).map((t=>{var a;const n=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.org_allowed_template===e.org_allowed_template?`<span style="color:#f00; font-weight:bold;text-decoration: line-through">${e.org_allowed_template}</span>`:"")).join(" ");return`<div>${t.org_allowed_template} - ${t.exclusive_use.charAt(0).toUpperCase()+t.exclusive_use.slice(1)} &nbsp;&nbsp; ${n}</div>`})).join(""),e}));Pe(i),De(s);let r=l.filter((e=>"orgallowedvalues"===e.MappingType&&"Delete"!==e.actionFlag));var n;if(a)r=null===(n=r)||void 0===n?void 0:n.filter((e=>e.BUID===a));setTimeout((()=>{y(r),D(!1)}),500)}else{var i;if(!a)s(W.Qy?null===(i=W.Qy[0])||void 0===i?void 0:i.value:"")}}),[l,a,d,Z]);const[Ie,ke]=(0,n.useState)([]),Be=[{name:"ENGG_ITEM_TYPE",header:(0,j.jsx)(me.A,{title:fa.adminConstant.parttypetemplateList.tooltip.TemplateOptionsMVO,children:"Enovia Part Type"}),defaultFlex:1,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.ENGG_ITEM_TYPE})}},{name:"org_allowed_template",header:(0,j.jsx)(me.A,{title:fa.adminConstant.parttypetemplateList.tooltip.allowableOrgTemplatesExclusive,children:"Org Allowed Templates - Exclusive use"}),defaultFlex:1,sortable:!1,render:e=>(0,j.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,j.jsx)(me.A,{title:fa.adminConstant.parttypetemplateList.tooltip.RDO,children:"Design Organization"}),defaultFlex:1,defaultWidth:50}],Fe=(0,n.useCallback)((e=>{let{selected:t}=e;Y(t)}),[]);(0,n.useEffect)((()=>{const e=!0===H?fe:H,t=e&&Object.keys(e).map((t=>e[t]));ke(t)}),[H,fe]);const Ue=(0,n.useCallback)((e=>{let{selected:t}=e;q(t),te((e=>{const{AllowableOrgTempError:t,...a}=e;return a}))}),[]);return(0,j.jsxs)(rn,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Part Type to Template"}]})}),(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,j.jsx)(U.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(ce.A,{type:"text",name:"search",size:"small",onChange:Te,value:d,style:{width:"100%"}})}),(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,j.jsxs)(U.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,j.jsxs)(U.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,j.jsx)(U.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,j.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,j.jsx)(U.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,j.jsx)(F,{onChange:Te,selectedvalue:a,style:{width:"100%"},optionsValues:W.Qy,onChangeFunc:e=>{Y({}),ke([]),s(e),c(""),ke([])}})})]}),(0,j.jsxs)(U.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,onClick:()=>{g(""),b([]),k(""),V(""),z(""),R([]),h(!0),de(a)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,disabled:1!==(null===Ie||void 0===Ie?void 0:Ie.length),onClick:()=>{var e,t,a,n,l,s;const i=null===(e=Ie[0])||void 0===e?void 0:e.details,r=null===(t=Ie[0])||void 0===t?void 0:t.BUID;g({...i,BUID:r}),de(r);let o=(null===(a=Ie[0])||void 0===a||null===(n=a.details)||void 0===n?void 0:n.allowableOrgTemplates.map((e=>null===v||void 0===v?void 0:v.filter((t=>t.details.ALLOWABLE_ORG_TEMPLATES===e.org_allowed_template)))).flat()).reduce(((e,t)=>Object.assign(e,{[t.id]:t})),{});q(o),R(null===(l=Ie[0])||void 0===l||null===(s=l.details)||void 0===s?void 0:s.allowableOrgTemplates),N(!0),h(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,disabled:0===(null===Ie||void 0===Ie?void 0:Ie.length),onClick:()=>{C(Ie[0]),u(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{o(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,j.jsx)(Ha,{title:"Part Type To Template",MappingType:"parttypetotemplate",filterTemplateData:Ie,sortInfo:je})]})]}),(0,j.jsx)(U.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,j.jsxs)(E.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[M&&(0,j.jsx)(E.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,j.jsx)(dt.A,{})}),!M&&(0,j.jsx)(Le.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},rowStyle:e=>{let{data:t}=e;const a=Object.keys(H).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===H?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},columns:Be,dataSource:null===je?Me:Ne,rowHeight:"auto",defaultLimit:100,checkboxColumn:!0,selected:H,onSelectionChange:Fe,handle:e=>Ae.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===Ae||void 0===Ae||null===(e=Ae.current)||void 0===e?void 0:e.setScrollTop(0==(null===Ie||void 0===Ie?void 0:Ie.length)?0:null===Ae||void 0===Ae||null===(t=Ae.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{ye(e)}})]})})]})}),ge?(0,j.jsx)(be.A,{openAlert:he,openDesc:ge,setOpenAlert:xe}):(0,j.jsx)(j.Fragment,{}),(0,j.jsxs)(le.A,{open:m,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,j.jsx)(ie.A,{children:(0,j.jsxs)(re.A,{children:["Do you want to delete the PartTypeToTemplate Mapping(s) for Design Organization"," ",(0,j.jsx)("b",{children:null===O||void 0===O?void 0:O.BUID}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)("b",{children:"Note:"})," ",fa.adminConstant.common.deleteNote]})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:Ee,children:"Cancel"}),(0,j.jsx)(S.A,{onClick:async()=>{try{await P.softDeleteTempCompMapping({data:Ie}).then((e=>{Ee(),ke([]),C([]),Y({})}))}catch(e){console.error("Failed to delete mapping:",e)}Se("Parttype to Template deleted Successfully","success"),Oe(),ke([])},children:"delete"})]})]}),(0,j.jsx)(sn,{open:p,handleorgAllowedDialogAdd:()=>{h(!1)},handleorgAllowedDialogClose:we,orgAllowedForm:x,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target;if("newKey"===t&&k(a),"newValue"===t&&V(a),"BUID"===t&&b([]),"ENGG_ITEM_TYPE"===t&&(g({...x,BUID:""}),te((e=>{const{templateError:t,...a}=e;return a})),b([])),"plants"===t)b(a);else{const e={...x,[t]:a};g(e)}},handleAddMVOtempComp:()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.templateName===x.ENGG_ITEM_TYPE));if(x){void 0!==ae&&""!==ae||te((e=>({...e,RDOError:"Design Organization is required"}))),void 0!==x.ENGG_ITEM_TYPE&&""!==x.ENGG_ITEM_TYPE||te((e=>({...e,templateError:"Template Name is required"})));let t=[],n={...ee};if(delete n.AllowableOrgTempError,Object.keys(X).length?(t=Object.values(X).map((e=>e)),t=t.map((e=>({org_allowed_template:e.details.ALLOWABLE_ORG_TEMPLATES,exclusive_use:void 0===ue[e.details.ALLOWABLE_ORG_TEMPLATES]?"Yes":ue[e.details.ALLOWABLE_ORG_TEMPLATES],id:e.details.ALLOWABLE_ORG_TEMPLATES_ID})))):n.AllowableOrgTempError="Please select at least one template",te(n),Object.keys(n).length||Object.keys(ee).length)return void console.log("Resultant Payload:",x);{var a;const n={MappingType:"parttypetotemplate",BUID:ae,details:{ENGG_ITEM_TYPE:x.ENGG_ITEM_TYPE,ENOVIA_PART_TYPE_ID:null===(a=e[0])||void 0===a?void 0:a.id,allowableOrgTemplates:t},id:x.ENGG_ITEM_TYPE+"_"+ae.trim()+"_parttypetotemplate"};!1===L?P.addnewTempCompMapping(n).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(Oe(),Y({}),setTimeout((()=>{h(!1)}),200),Se("Parttype to Template added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&Se(null===e||void 0===e?void 0:e.msg,"error")})):P.updateTempCompMapping(n).then((e=>{"success"===e.status?(Re(),Oe(),Y({}),setTimeout((()=>{h(!1)}),200),N(!1),Se("MVO template compatibility updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&Se(null===e||void 0===e?void 0:e.msg,"error")})),we()}}else{let e={};0===Object.keys(X).length&&(e={AllowableOrgTempError:"Please select at least one template"}),te({...e,templateError:"Template Name is required"})}},selectedPlants:f,isEdit:L,newKey:I,newValue:$,handleAddRow:()=>{const e=_.some((e=>e.key===I)),a=_.some((e=>e.value===$)),n=null===t||void 0===t?void 0:t.filter((e=>e.templateName===I));e||a?z("The key or value already exists"):I&&$?(R((e=>[...e,{org_allowed_template:I,exclusive_use:$,id:n[0].id}])),k(""),V(""),z("")):z("Template and its status required")},handleDeleteRow:e=>{R((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:G,valuesInputList:_,onSelectionChange:Ue,selected:X,orgAllowedTempList:v,filteredBUOptions:K,setFilteredBUOptions:Q,formError:ee,RDO:ae,selectedRow:Ie[0],handleStatusChange:e=>{const t={...ue,[e.target.name]:e.target.value};pe(t)}}),(0,j.jsx)(Oa,{title:"Import Parttype To Template Mappings",MappingType:"parttypetotemplate",selectedBU:a,importTemplate:r,fetchData:Oe,setImportTemplate:o})]})},dn=()=>(0,j.jsx)(on,{}),cn=[{path:"/parttypeToTemplateList",element:(0,j.jsx)(ae,{children:(0,j.jsx)(dn,{})})}],mn=e=>{let{open:t,handleorgAllowedDialogClose:a,mvotemplatesTo:l,orgAllowedForm:s,handleorgAllowedFormChange:i,handleAddMVOtempComp:r,isEdit:o,templatesInfo:d,selectedBU:c}=e;const[m,u]=(0,n.useState)([]),[p,h]=(0,n.useState)([]);return(0,n.useEffect)((()=>{if(c){let e=d.filter((e=>{var t;return null===e||void 0===e||null===(t=e.BU)||void 0===t?void 0:t.includes(c)}));console.log(e,"tempData tempData tempData"),u(e)}h([c])}),[c,d,s.BUID]),(0,j.jsxs)(le.A,{open:t,children:[(0,j.jsxs)(oe.A,{children:[" ",o?"Edit MVO Allowed Changes ":"Add MVO Allowed Changes"]}),(0,j.jsx)(ie.A,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Design Organization ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:c,onChange:i,disabled:!0,children:null===p||void 0===p?void 0:p.map((e=>(0,j.jsx)(k.A,{value:e,children:e},e)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["MVO Template - From ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{name:"MVO_TEMPLATE_FROM",fullWidth:!0,value:s.MVO_TEMPLATE_FROM,onChange:i,disabled:o,children:null===m||void 0===m?void 0:m.map((e=>(0,j.jsx)(k.A,{value:e.templateName,children:e.templateName},e.templateName)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["MVO Template - To ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{style:{width:"100%"},multiple:!0,name:"MVO_TEMPLATE_TO",value:l,onChange:i,renderValue:e=>null===e||void 0===e?void 0:e.join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===m||void 0===m?void 0:m.map((e=>(0,j.jsx)(k.A,{value:e.templateName,children:e.templateName},e.templateName)))})})]})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:a,children:"Cancel"}),(0,j.jsx)(S.A,{onClick:r,children:o?"Update":"Add"})]})]})},un=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),pn=()=>{const{refreshData:e}=(0,B.A)(),{templatesInfo:t,bussinessUnit:a,mappingTemplatesInfo:l,updateBussinessUnit:s,updateMappingTemplatesInfo:i}=(0,B.A)(),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(""),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)({}),[v,y]=(0,n.useState)([]),f=new la.W,b=new Ea,T=new Ta,[w,O]=(0,n.useState)(),[C,P]=(0,n.useState)(!1),[M,D]=(0,n.useState)([]),[L,N]=(0,n.useState)(""),[_,R]=(0,n.useState)(""),[I,k]=(0,n.useState)(""),[$,V]=(0,n.useState)(!0),[G,z]=(0,n.useState)({}),[H,Y]=(0,n.useState)(!1),[X,q]=(0,n.useState)(null),[K,Q]=(0,n.useState)([]),Z=(0,n.useRef)(null),[J,ee]=(0,n.useState)({}),te=Z&&Z.current&&Z.current.dataMap?Z.current.dataMap:null,ae=e=>{const t=e.target.value;c(t)},de=()=>{u(!1)},ue=(e,t)=>{Y(!0),q({severity:t,desc:e})},pe=()=>{h(!1),g(""),y([]),Se([]),z({}),P(!1)},he=()=>{V(!0),f.getAlltemplateMappings().then((e=>{var t;i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),V(!1)}))};(0,n.useEffect)((()=>{V(e)}),[e]);const[xe,ge]=(0,n.useState)([]),[ve,Ae]=(0,n.useState)([]),je=(0,_e.t$)(xe,"MVO_TEMPLATE_FROM"),ye=(0,Xe.FX)(ve),fe=(0,Xe.FX)(je);(0,n.useEffect)((()=>{Te()}),[]);const Te=()=>{V(!0),T.getAlldraftChanges().then((e=>{let t=a||"Micro Motion",n=e.data.filter((e=>e.BUID===t));Q(n),V(!1)}))};(0,n.useEffect)((()=>{if(V(!0),l){let n=l;var e,t;if(n=n.filter((e=>"mvoallowedchanges"===e.MappingType&&"Delete"!==e.actionFlag)),a)n=null===(e=n)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(d&&""!==d)n=null===(t=n)||void 0===t?void 0:t.filter((e=>{var t,a,n;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(d))||(null===(a=JSON.stringify(e))||void 0===a||null===(n=a.toLocaleLowerCase())||void 0===n?void 0:n.includes(d))}));if(K.length>0){const e=K.filter((e=>"mvoallowedchanges"==e.MappingType));e.length>0&&"mvoallowedchanges"===e[0].MappingType&&n.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draft_MVO_TEMPLATES_TO=e.details.MVO_TEMPLATES_TO;const a=new Set(e.details.MVO_TEMPLATES_TO.map((e=>e.MVO_TEMPLATE_TO))),n=t.details.MVO_TEMPLATES_TO.filter((e=>!a.has(e.MVO_TEMPLATE_TO)));t.details.deletedTemplateLists=n;let l=t.details.draft_MVO_TEMPLATES_TO.filter((e=>!t.details.MVO_TEMPLATES_TO.some((t=>e.MVO_TEMPLATE_TO===t.MVO_TEMPLATE_TO&&e.exclusive_use===t.exclusive_use))));t.details.newTemplateLists=l;let s=[...t.details.MVO_TEMPLATES_TO,...t.details.newTemplateLists];t.details.MVO_TEMPLATES_TO=s}}))}))}let s=[...n].map((e=>{var t,a;return e.MVO_TEMPLATE_FROM=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.MVO_TEMPLATE_FROM,e.MVO_TEMPLATE_TO=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.MVO_TEMPLATES_TO.filter(((e,t,a)=>t===a.findIndex((t=>t.MVO_TEMPLATE_TO===e.MVO_TEMPLATE_TO)))).map((t=>{var a;const n=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.MVO_TEMPLATE_TO===e.MVO_TEMPLATE_TO?`<span class="deleted-text">${e.MVO_TEMPLATE_TO}</span>`:"")).join(" ");return`<div>${t.MVO_TEMPLATE_TO} &nbsp;&nbsp; ${n}</div>`})).join(""),e})),i=n.sort(((e,t)=>e.details.MVO_TEMPLATE_FROM.localeCompare(t.details.MVO_TEMPLATE_FROM))).map((e=>{var t,a;return e.MVO_TEMPLATE_FROM=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.MVO_TEMPLATE_FROM,e.MVO_TEMPLATE_TO=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.MVO_TEMPLATES_TO.filter(((e,t,a)=>t===a.findIndex((t=>t.MVO_TEMPLATE_TO===e.MVO_TEMPLATE_TO)))).map((t=>{var a;const n=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.MVO_TEMPLATE_TO===e.MVO_TEMPLATE_TO?`<span style="color:#f00; font-weight:bold;text-decoration: line-through">${e.MVO_TEMPLATE_TO}</span>`:"")).join(" ");return`<div>${t.MVO_TEMPLATE_TO} &nbsp;&nbsp; ${n}</div>`})).join(""),e}));setTimeout((()=>{Ae(s),ge(i),V(!1)}),500)}else{var n;if(!a)s(W.Qy?null===(n=W.Qy[0])||void 0===n?void 0:n.value:"")}}),[l,a,d,K]);const[Ee,Se]=(0,n.useState)([]),we=[{name:"MVO_TEMPLATE_FROM",header:(0,j.jsx)(me.A,{title:fa.adminConstant.mvoallowedchangesList.tooltip.mvoTemplatesFrom,children:"MVO Template - From"}),defaultFlex:1,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.MVO_TEMPLATE_FROM})}},{name:"MVO_TEMPLATE_TO",header:(0,j.jsx)(me.A,{title:fa.adminConstant.mvoallowedchangesList.tooltip.mvoTemplatesTo,children:"MVO Template - To"}),defaultFlex:1,sortable:!1,render:e=>(0,j.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,j.jsx)(me.A,{title:fa.adminConstant.mvoallowedchangesList.tooltip.RDO,children:"Design Organization"}),defaultFlex:1,defaultWidth:50}],Oe=(0,n.useCallback)((e=>{let{selected:t}=e;z(t)}),[]);(0,n.useEffect)((()=>{const e=!0===G?te:G,t=e&&Object.keys(e).map((t=>e[t]));Se(t)}),[G,te]);return(0,j.jsxs)(un,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"MVO Allowed Changes "}]})}),(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,j.jsx)(U.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(ce.A,{type:"text",name:"search",size:"small",onChange:ae,value:d,style:{width:"100%"}})}),(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,j.jsxs)(U.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,j.jsxs)(U.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,j.jsx)(U.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,j.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,j.jsx)(U.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,j.jsx)(F,{onChange:ae,selectedvalue:a,style:{width:"100%"},optionsValues:W.Qy,onChangeFunc:e=>{z({}),Se([]),s(e),c(""),Se([])}})})]}),(0,j.jsxs)(U.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,onClick:()=>{g({BUID:a}),y([]),N(""),R(""),k(""),D([]),h(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,j.jsx)(S.A,{variant:"contained",disabled:1!==(null===Ee||void 0===Ee?void 0:Ee.length),onClick:()=>{var e,t;const a=null===(e=Ee[0])||void 0===e?void 0:e.details,n=null===(t=Ee[0])||void 0===t?void 0:t.BUID;g({...a,BUID:n});for(const o in null===(l=Ee[0])||void 0===l||null===(s=l.details)||void 0===s?void 0:s.MVO_TEMPLATES_TO){var l,s,i,r;const e=null===(i=Ee[0])||void 0===i||null===(r=i.details)||void 0===r?void 0:r.MVO_TEMPLATES_TO[o];v.push(null===e||void 0===e?void 0:e.MVO_TEMPLATE_TO)}P(!0),h(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,j.jsx)(S.A,{variant:"contained",disabled:0===(null===Ee||void 0===Ee?void 0:Ee.length),onClick:()=>{O(Ee[0]),u(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{o(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,j.jsx)(Ha,{title:"MVO Allowed Changes",MappingType:"mvoallowedchanges",filterTemplateData:Ee,sortInfo:J})]})]}),(0,j.jsx)(U.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,j.jsxs)(E.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[$&&(0,j.jsx)(E.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,j.jsx)(dt.A,{})}),!$&&(0,j.jsx)(Le.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:we,dataSource:null===J?ye:fe,rowHeight:"auto",checkboxColumn:!0,defaultLimit:100,selected:G,onSelectionChange:Oe,handle:e=>Z.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(G).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===G?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},pagination:!0,renderScroller:()=>{var e,t;return null===Z||void 0===Z||null===(e=Z.current)||void 0===e?void 0:e.setScrollTop(0==(null===Ee||void 0===Ee?void 0:Ee.length)?0:null===Z||void 0===Z||null===(t=Z.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{ee(e)}})]})})]})}),X?(0,j.jsx)(be.A,{openAlert:H,openDesc:X,setOpenAlert:Y}):(0,j.jsx)(j.Fragment,{}),(0,j.jsxs)(le.A,{open:m,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,j.jsx)(ie.A,{children:(0,j.jsxs)(re.A,{children:["Do you want to delete the MVOAllowedChanges Mapping(s) for Design Organization"," ",(0,j.jsx)("b",{children:null===w||void 0===w?void 0:w.BUID}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)("b",{children:"Note:"})," ",fa.adminConstant.common.deleteNote]})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:de,children:"Cancel"}),(0,j.jsx)(S.A,{onClick:async()=>{try{await b.softDeleteTempCompMapping({data:Ee}).then((e=>{de(),Se([]),O([]),z({})}))}catch(e){console.error("Failed to delete mapping:",e)}ue("MVO allowed changes  deleted Successfully","success"),he(),Se([])},children:"delete"})]})]}),(0,j.jsx)(mn,{open:p,handleorgAllowedDialogAdd:()=>{h(!1)},handleorgAllowedDialogClose:pe,orgAllowedForm:x,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target;if("newKey"===t&&N(a),"newValue"===t&&R(a),"BUID"===t&&y([]),"MVO_TEMPLATE_FROM"===t&&(g({...x,BUID:""}),y([])),"MVO_TEMPLATE_TO"===t)y(a);else{const e={...x,[t]:a};g(e)}},handleAddMVOtempComp:()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.templateName===x.MVO_TEMPLATE_FROM));let a=[];if(a=null===v||void 0===v?void 0:v.map((e=>{const a=t.find((t=>t.templateName===e));return{id:a?a.id:null,MVO_TEMPLATE_TO:e}})),!x.MVO_TEMPLATE_FROM||!x.BUID||(null===v||void 0===v?void 0:v.length)<1)ue("Please Enter the required fields","error");else{if(x){var n,l;const t={MappingType:"mvoallowedchanges",BUID:x.BUID,details:{MVO_TEMPLATE_FROM:x.MVO_TEMPLATE_FROM,MVO_TEMPLATE_OPTION_ID:null===(n=e[0])||void 0===n?void 0:n.id,MVO_TEMPLATES_TO:a},id:(null===(l=e[0])||void 0===l?void 0:l.id)+"_"+x.BUID.trim()+"_mvoallowedchanges"};!1===C?b.addnewTempCompMapping(t).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(he(),setTimeout((()=>{h(!1)}),200),ue("MVO allowed changes added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&ue(null===e||void 0===e?void 0:e.msg,"error")})):b.updateTempCompMapping(t).then((e=>{"success"===e.status?(setTimeout((()=>{h(!1),Te(),he()}),200),P(!1),ue("MVO allowed changes updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&ue(null===e||void 0===e?void 0:e.msg,e.status)}))}pe()}},mvotemplatesTo:v,isEdit:C,newKey:L,newValue:_,handleAddRow:()=>{const e=M.some((e=>e.key===L)),a=M.some((e=>e.value===_)),n=null===t||void 0===t?void 0:t.filter((e=>e.templateName===L));e||a?k("The key or value already exists"):L&&_?(D((e=>{var t;return[...e,{ALLOWABLE_ORG_TEMPLATE:L,status:_,id:null===(t=n[0])||void 0===t?void 0:t.id}]})),N(""),R(""),k("")):k("Template and its status required")},handleDeleteRow:e=>{D((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:I,valuesInputList:M,templatesInfo:t,selectedBU:a}),(0,j.jsx)(Oa,{title:"Import MVO Allowed Changes Mappings",MappingType:"mvoallowedchanges",selectedBU:a,importTemplate:r,fetchData:he,setImportTemplate:o})]})},hn=()=>(0,j.jsx)(pn,{}),xn=[{path:"/mvoallowedchangesList",element:(0,j.jsx)(ae,{children:(0,j.jsx)(hn,{})})}],gn=e=>{let{open:t,handleorgAllowedDialogClose:a,modifytempdata:l,orgAllowedForm:s,handleorgAllowedFormChange:i,handleAddMVOtempComp:r,isEdit:o,templatesInfo:d,selectedBU:c}=e;const[m,u]=(0,n.useState)([]),[p,h]=(0,n.useState)([]);return(0,n.useEffect)((()=>{if(c){let e=d.filter((e=>{var t;return null===e||void 0===e||null===(t=e.BU)||void 0===t?void 0:t.includes(c)}));u(e)}h([c])}),[c,d,s.BUID]),(0,j.jsxs)(le.A,{open:t,children:[(0,j.jsxs)(oe.A,{children:[" ",o?"Edit Set Compatible Templates":"Add Set Compatible Templates"]}),(0,j.jsx)(ie.A,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Template For Org Existing ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{name:"TEMPLATE_ORG_EXISTING",fullWidth:!0,value:s.TEMPLATE_ORG_EXISTING,onChange:i,disabled:o,children:null===m||void 0===m?void 0:m.map((e=>(0,j.jsx)(k.A,{value:e.templateName,children:e.templateName},e.templateName)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Design Organization ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:c,onChange:i,disabled:!0,children:null===p||void 0===p?void 0:p.map((e=>(0,j.jsx)(k.A,{value:e,children:e},e)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Template For Org Modifying ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{style:{width:"100%"},multiple:!0,name:"TEMPLATE_ORG_MODIFYING",value:l,onChange:i,renderValue:e=>null===e||void 0===e?void 0:e.join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===m||void 0===m?void 0:m.map((e=>(0,j.jsx)(k.A,{value:e.templateName,children:e.templateName},e.templateName)))})})]})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:a,children:"Cancel"}),(0,j.jsx)(S.A,{onClick:r,children:o?"Update":"Add"})]})]})},vn=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),An=()=>{const{refreshData:e}=(0,B.A)(),{templatesInfo:t,bussinessUnit:a,mappingTemplatesInfo:l,updateBussinessUnit:s,updateMappingTemplatesInfo:i}=(0,B.A)(),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(""),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)({}),[v,y]=(0,n.useState)([]),[f,b]=(0,n.useState)([]),T=new la.W,w=new Ea,O=new Ta,[C,P]=(0,n.useState)(),[M,D]=(0,n.useState)(!1),[L,N]=(0,n.useState)([]),[_,R]=(0,n.useState)([]),[I,k]=(0,n.useState)(""),[$,V]=(0,n.useState)(""),[G,z]=(0,n.useState)(""),[H,Y]=(0,n.useState)(!0),[X,q]=(0,n.useState)({}),[K,Q]=(0,n.useState)(!1),[Z,J]=(0,n.useState)(null),ee=(0,n.useRef)(null),[te,ae]=(0,n.useState)({}),de=ee&&ee.current&&ee.current.dataMap?ee.current.dataMap:null,ue=e=>{const t=e.target.value;c(t)},pe=()=>{u(!1)},he=(e,t)=>{Q(!0),J({severity:t,desc:e})},xe=()=>{h(!1),g(""),y([]),b([]),Se([]),q({}),D(!1)},ge=()=>{Y(!0),T.getAlltemplateMappings().then((e=>{var t;i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),Y(!1)}))};(0,n.useEffect)((()=>{Y(e)}),[e]);const[ve,Ae]=(0,n.useState)([]),[je,ye]=(0,n.useState)([]),fe=(0,_e.t$)(ve,"TEMPLATE_ORG_EXISTING");(0,n.useEffect)((()=>{Te()}),[]);const Te=()=>{Y(!0),O.getAlldraftChanges().then((e=>{let t=a||"Micro Motion",n=e.data.filter((e=>e.BUID===t));R(n),Y(!1)}))};(0,n.useEffect)((()=>{if(Y(!0),l){let n=l;var e,t;if(n=n.filter((e=>"setcompatibletemplates"===e.MappingType&&"Delete"!==e.actionFlag)),a)n=null===(e=n)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(d&&""!==d)n=null===(t=n)||void 0===t?void 0:t.filter((e=>{var t,a,n;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(d))||(null===(a=JSON.stringify(e))||void 0===a||null===(n=a.toLocaleLowerCase())||void 0===n?void 0:n.includes(d))}));if(_.length>0){const e=_.filter((e=>"setcompatibletemplates"==e.MappingType));e.length>0&&"setcompatibletemplates"===e[0].MappingType&&n.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draft_TEMPLATE_ORG_MODIFYING=e.details.TEMPLATE_ORG_MODIFYING;const a=new Set(e.details.TEMPLATE_ORG_MODIFYING.map((e=>e.TEMPLATE_ORG_MODIFYING))),n=t.details.TEMPLATE_ORG_MODIFYING.filter((e=>!a.has(e.TEMPLATE_ORG_MODIFYING)));t.details.deletedTemplateLists=n;let l=t.details.draft_TEMPLATE_ORG_MODIFYING.filter((e=>!t.details.TEMPLATE_ORG_MODIFYING.some((t=>e.TEMPLATE_ORG_MODIFYING===t.TEMPLATE_ORG_MODIFYING&&e.exclusive_use===t.exclusive_use))));t.details.newTemplateLists=l;let s=[...t.details.TEMPLATE_ORG_MODIFYING,...t.details.newTemplateLists];t.details.TEMPLATE_ORG_MODIFYING=s}}))}))}let s=n.map((e=>{var t,a;return e.TEMPLATE_ORG_EXISTING=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.TEMPLATE_ORG_EXISTING,e.TEMPLATE_ORG_MODIFYING=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.TEMPLATE_ORG_MODIFYING.filter(((e,t,a)=>t===a.findIndex((t=>t.TEMPLATE_ORG_MODIFYING===e.TEMPLATE_ORG_MODIFYING)))).map((t=>{var a;const n=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.TEMPLATE_ORG_MODIFYING===e.TEMPLATE_ORG_MODIFYING?`<span style="color:#f00; font-weight:bold;text-decoration: line-through">${e.TEMPLATE_ORG_MODIFYING}</span>`:"")).join(" ");return`<div>${t.TEMPLATE_ORG_MODIFYING} &nbsp;&nbsp; ${n}</div>`})).join(""),e}));setTimeout((()=>{ye(n),Ae(s),Y(!1)}),500)}else{var n;if(!a)s(W.Qy?null===(n=W.Qy[0])||void 0===n?void 0:n.value:"")}}),[l,a,d,_]);const[Ee,Se]=(0,n.useState)([]),we=[{name:"TEMPLATE_ORG_EXISTING",header:(0,j.jsx)(me.A,{title:fa.adminConstant.setComptempList.tooltip.TemplateForOrgExist,children:"Template for Org(s) Existing"}),defaultFlex:1,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.TEMPLATE_ORG_EXISTING})}},{name:"TEMPLATE_ORG_MODIFYING",header:(0,j.jsx)(me.A,{title:fa.adminConstant.setComptempList.tooltip.TemplateForOrgModify,children:"Template for Org Modifying"}),defaultFlex:1,sortable:!1,render:e=>(0,j.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,j.jsx)(me.A,{title:fa.adminConstant.setComptempList.tooltip.RDO,children:"Design Organization"}),defaultFlex:1,defaultWidth:50}],Oe=(0,n.useCallback)((e=>{let{selected:t}=e;q(t)}),[]);(0,n.useEffect)((()=>{const e=!0===X?de:X,t=e&&Object.keys(e).map((t=>e[t]));Se(t)}),[X,de]);return(0,j.jsxs)(vn,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Set Compatible Templates"}]})}),(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,j.jsx)(U.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(ce.A,{type:"text",name:"search",size:"small",onChange:ue,value:d,style:{width:"100%"}})}),(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,j.jsxs)(U.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,j.jsxs)(U.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,j.jsx)(U.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,j.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,j.jsx)(U.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,j.jsx)(F,{onChange:ue,selectedvalue:a,style:{width:"100%"},optionsValues:W.Qy,onChangeFunc:e=>{q({}),Se([]),s(e),c(""),Se([])}})})]}),(0,j.jsxs)(U.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,onClick:()=>{g({BUID:a}),y([]),k(""),V(""),z(""),N([]),h(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,j.jsx)(S.A,{variant:"contained",disabled:1!==(null===Ee||void 0===Ee?void 0:Ee.length),onClick:()=>{var e,t;const a=null===(e=Ee[0])||void 0===e?void 0:e.details,n=null===(t=Ee[0])||void 0===t?void 0:t.BUID;g({...a,BUID:n});for(const o in null===(l=Ee[0])||void 0===l||null===(s=l.details)||void 0===s?void 0:s.TEMPLATE_ORG_MODIFYING){var l,s,i,r;const e=null===(i=Ee[0])||void 0===i||null===(r=i.details)||void 0===r?void 0:r.TEMPLATE_ORG_MODIFYING[o];f.push(null===e||void 0===e?void 0:e.TEMPLATE_ORG_MODIFYING)}D(!0),h(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,j.jsx)(S.A,{variant:"contained",disabled:0===(null===Ee||void 0===Ee?void 0:Ee.length),onClick:()=>{P(Ee[0]),u(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{o(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,j.jsx)(Ha,{title:"Set Compatible Templates",MappingType:"setcompatibletemplates",filterTemplateData:Ee,sortInfo:te})]})]}),(0,j.jsx)(U.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,j.jsxs)(E.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[H&&(0,j.jsx)(E.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,j.jsx)(dt.A,{})}),!H&&(0,j.jsx)(Le.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:we,dataSource:null===te?je:fe,rowHeight:"auto",checkboxColumn:!0,defaultLimit:100,selected:X,onSelectionChange:Oe,handle:e=>ee.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(X).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===X?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},pagination:!0,renderScroller:()=>{var e,t;return null===ee||void 0===ee||null===(e=ee.current)||void 0===e?void 0:e.setScrollTop(0==(null===Ee||void 0===Ee?void 0:Ee.length)?0:null===ee||void 0===ee||null===(t=ee.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{ae(e)}})]})})]})}),Z?(0,j.jsx)(be.A,{openAlert:K,openDesc:Z,setOpenAlert:Q}):(0,j.jsx)(j.Fragment,{}),(0,j.jsxs)(le.A,{open:m,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,j.jsx)(ie.A,{children:(0,j.jsxs)(re.A,{children:["Do you want to delete the SetCompatibleTemplate Mapping(s) for Design Organization"," ",(0,j.jsx)("b",{children:null===C||void 0===C?void 0:C.BUID}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)("b",{children:"Note:"})," ",fa.adminConstant.common.deleteNote]})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:pe,children:"Cancel"}),(0,j.jsx)(S.A,{onClick:async()=>{try{await w.softDeleteTempCompMapping({data:Ee}).then((e=>{pe(),Se([]),P([]),q({})}))}catch(e){console.error("Failed to delete mapping:",e)}he("Set compatible template mapping  deleted Successfully","success"),ge(),Se([])},children:"delete"})]})]}),(0,j.jsx)(gn,{open:p,handleorgAllowedDialogAdd:()=>{h(!1)},handleorgAllowedDialogClose:xe,orgAllowedForm:x,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target;if("newKey"===t&&k(a),"newValue"===t&&V(a),"BUID"===t&&y([]),"TEMPLATE_ORG_EXISTING"===t&&(g({...x,BUID:""}),y([])),"TEMPLATE_ORG_MODIFYING"===t)b(a);else{const e={...x,[t]:a};g(e)}},handleAddMVOtempComp:()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.templateName===x.TEMPLATE_ORG_EXISTING));let a=[];if(a=null===f||void 0===f?void 0:f.map((e=>{const a=t.find((t=>t.templateName===e));return{id:a?a.id:null,TEMPLATE_ORG_MODIFYING:e}})),!x.TEMPLATE_ORG_EXISTING||!x.BUID||(null===f||void 0===f?void 0:f.length)<1)he("Please Enter the required fields","error");else{if(x){var n,l;const t={MappingType:"setcompatibletemplates",BUID:x.BUID,details:{TEMPLATE_ORG_EXISTING:x.TEMPLATE_ORG_EXISTING,MVO_TEMPLATE_OPTION_ID:null===(n=e[0])||void 0===n?void 0:n.id,TEMPLATE_ORG_MODIFYING:a},id:(null===(l=e[0])||void 0===l?void 0:l.id)+"_"+x.BUID.trim()+"_setcompatibletemplates"};!1===M?w.addnewTempCompMapping(t).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(ge(),q({}),setTimeout((()=>{h(!1)}),200),he("Set compatible template mapping added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&he(null===e||void 0===e?void 0:e.msg,"error")})):w.updateTempCompMapping(t).then((e=>{"success"===e.status?(Te(),ge(),q({}),setTimeout((()=>{h(!1)}),200),D(!1),he("Set compatible template mapping updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&he(null===e||void 0===e?void 0:e.msg,"error")}))}xe()}},comptempData:v,modifytempdata:f,isEdit:M,newKey:I,newValue:$,handleAddRow:()=>{const e=L.some((e=>e.key===I)),a=L.some((e=>e.value===$)),n=null===t||void 0===t?void 0:t.filter((e=>e.templateName===I));e||a?z("The key or value already exists"):I&&$?(N((e=>{var t;return[...e,{ALLOWABLE_ORG_TEMPLATE:I,status:$,id:null===(t=n[0])||void 0===t?void 0:t.id}]})),k(""),V(""),z("")):z("Template and its status required")},handleDeleteRow:e=>{N((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:G,valuesInputList:L,templatesInfo:t,selectedBU:a}),(0,j.jsx)(Oa,{title:"Import Set Compatible Templates Mappings",MappingType:"setcompatibletemplates",selectedBU:a,importTemplate:r,fetchData:ge,setImportTemplate:o})]})},jn=()=>(0,j.jsx)(An,{}),yn=[{path:"/setcomptempList",element:(0,j.jsx)(ae,{children:(0,j.jsx)(jn,{})})}];var fn=a(53536);const bn={minHeight:248},Tn=[{name:"MASTER ORG",value:"MASTER ORG"},{name:"Boulder OU",value:"Boulder OU"},{name:"Nanjing OU",value:"Nanjing OU"},{name:"EDE OU",value:"EDE OU"},{name:"Cluj OU",value:"Cluj OU"},{name:"Others",value:"Others"}],En=[{name:"BOM",value:"BOM"},{name:"NO BOM",value:"NO BOM"}],Sn=[{name:"YES",value:"YES"},{name:"NO",value:"NO"}],wn=[{name:"PlantGroup",value:"PlantGroup"},{name:"BOM or NO BOM",value:"BOM or NO BOM"},{name:"none or PO Org",value:"none or PO Org"},{name:"RDO OU Org Set",value:"RDO OU Org Set"}],On=e=>{let{open:t,handleorgAllowedDialogClose:a,orgAllowedForm:l,handleorgAllowedFormChange:s,handleAddBuPlant:i,isEdit:r,bussinessUnitLists:o,bussinessUnit:d,setPlantValueList:c,plantValueList:m,setDisplayOrder:u}=e;const[p,h]=(0,n.useState)([]),[x,g]=(0,n.useState)([]),[v,A]=(0,n.useState)([]),[y,f]=(0,n.useState)([]);(0,n.useEffect)((()=>{var e,t;let a=((null===o||void 0===o||null===(e=o.find((e=>e.buName===d)))||void 0===e?void 0:e.plants)||[]).concat({plantName:"None",id:"None"}).map((e=>({name:e.plantName,value:e.plantName})));h(a);let n=(null===o||void 0===o||null===(t=o.find((e=>e.buName===d)))||void 0===t?void 0:t.plants)||[];if(n.map(((e,t)=>(e.value="",e.id=t,Object.assign({},e)))),n=(0,fn.unionBy)(m,n,"plantName"),f(n),c(n),console.log(m,"plantValueList plantValueList"),A(wn),r)switch(console.log(l.Entity,"orgAllowedForm.Entity"),l.Entity){case"PlantGroup":g(Tn),u(1);break;case"BOM or NO BOM":g(En),u(2);break;case"none or PO Org":g(p),u(3);break;case"RDO OU Org Set":g(Sn),u(4);break;default:g([])}}),[d,o,l.Entity,r]);const b={name:"value",header:"Value",defaultFlex:1,minWidth:100,rendersInlineEditor:!0,editable:!0,sortable:!1,render:(e,t)=>{let{value:a}=e,{cellProps:n}=t,l=n.editProps.inEdit?n.editProps.value:a;return(0,j.jsx)(I.A,{style:{width:"100%"},size:"small",autoFocus:n.inEdit,name:n.data.plantName,value:l,onBlur:e=>{n.editProps.onComplete(e)},onChange:w,onFocus:()=>n.editProps.startEdit(),children:null===x||void 0===x?void 0:x.map((e=>(0,j.jsx)(k.A,{value:e.name,children:e.name},e.name)))})}},T=(0,n.useRef)(null),E=[{name:"id",header:"Id",defaultVisible:!1,defaultWidth:60,type:"string"},{name:"plantName",defaultWidth:180,header:(0,j.jsx)(me.A,{title:fa.adminConstant.expensemapList.tooltip.PlantName,children:"Plant Name"}),render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.plantName})}},b],w=e=>{let t=[...y].map((t=>(t.plantName===e.target.name&&(t.value=e.target.value),Object.assign({},t))));f(t),c(t)};return(0,j.jsxs)(le.A,{open:t,children:[(0,j.jsxs)(oe.A,{children:[" ",r?"Edit RDO Plant Mapping ":"Add RDO Plant Mapping"]}),(0,j.jsx)(Qa.ur,{autoHeight:!0,autoHeightMin:100,autoHeightMax:500,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:300,children:(0,j.jsx)(ie.A,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Design Organization ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:d,onChange:s,disabled:!0,children:null===o||void 0===o?void 0:o.map((e=>(0,j.jsx)(k.A,{value:e.businessUnit,children:e.businessUnit},e.businessUnit)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Entity ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{style:{width:"100%"},name:"Entity",value:l.Entity,onChange:e=>{switch(s(e),e.target.value){case"PlantGroup":g(Tn),u(1);break;case"BOM or NO BOM":g(En),u(2);break;case"none or PO Org":g(p),u(3);break;case"RDO OU Org Set":g(Sn),u(4);break;default:g([])}},disabled:r,children:null===v||void 0===v?void 0:v.map((e=>(0,j.jsx)(k.A,{value:e.value,children:e.name},e.name)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Plant Values ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(Le.Ay,{idProperty:"id",showZebraRows:!1,handle:e=>T.current=e?e.current:null,style:bn,columns:E,dataSource:y})})]})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:a,children:"Cancel"}),(0,j.jsx)(S.A,{onClick:i,children:r?"Update":"Add"})]})]})},Cn=n.forwardRef((function(e,t){return(0,j.jsx)(Ge.A,{elevation:6,ref:t,variant:"filled",...e})})),Pn=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Mn=()=>{const{refreshData:e,bussinessUnit:t,bussinessUnitLists:a,mappingTemplatesInfo:l,updateBussinessUnit:s,updateMappingTemplatesInfo:i}=(0,B.A)(),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(""),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(),[x,g]=(0,n.useState)(),[v,y]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[T,w]=(0,n.useState)(!0),[O,C]=(0,n.useState)({}),P=new la.W,M=new Ea,D=new Ta,[L,N]=(0,n.useState)(),[_,R]=(0,n.useState)(!1),[I,k]=(0,n.useState)({}),[$,V]=(0,n.useState)(!1),[G,z]=(0,n.useState)(null),[H,Y]=(0,n.useState)([]),[X,q]=(0,n.useState)([]),[K,Q]=(0,n.useState)(0),Z=(0,n.useRef)(null),J=Z&&Z.current&&Z.current.dataMap?Z.current.dataMap:null,ee=e=>{const t=e.target.value;c(t)},te=()=>{y(!1)},ae=(e,t)=>{V(!0),z({severity:t,desc:e})},de=(e,t)=>{"clickaway"!==t&&u(!1)},me=()=>{b(!1),C(""),Y([]),R(!1),je([]),k({})},ue=()=>{w(!0),P.getAlltemplateMappings().then((e=>{var t;i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),w(!1)}))};(0,n.useEffect)((()=>{w(e)}),[e]);const[pe,he]=(0,n.useState)([]),[xe,ge]=(0,n.useState)([]);console.log("plantMappingList===",xe),(0,n.useEffect)((()=>{ve()}),[]),(0,n.useEffect)((()=>{if(w(!0),l){let s=l;var e,n;if(s=s.filter((e=>"buplantmapping"===e.MappingType&&"Delete"!==e.actionFlag)),t)s=null===(e=s)||void 0===e?void 0:e.filter((e=>e.BUID===t));if(d&&""!==d)s=null===(n=s)||void 0===n?void 0:n.filter((e=>{var t,a,n;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(d))||(null===(a=JSON.stringify(e))||void 0===a||null===(n=a.toLocaleLowerCase())||void 0===n?void 0:n.includes(d))}));if(s=s.sort(((e,t)=>e.details.displayOrder-t.details.displayOrder)),a){var i,r,o;let e=!!(m=null===(i=s[0])||void 0===i||null===(r=i.details)||void 0===r?void 0:r.PLANT)&&Object.entries(m).sort(((e,t)=>e[1].localeCompare(t[1]))).reduce(((e,t)=>{let[a,n]=t;return e[a]=n,e}),{}),n=(null===(o=a.find((e=>e.buName===t)))||void 0===o?void 0:o.plants)||[];const l=Object.keys(e).map((t=>{const a=n.find((e=>(null===e||void 0===e?void 0:e.plantName)===t));return{plantName:t,id:null===a||void 0===a?void 0:a.id,value:e[t]}})),d={};l.forEach((e=>{s.forEach((a=>{var n;if("PlantGroup"===(null===a||void 0===a||null===(n=a.details)||void 0===n?void 0:n.Entity)&&a.BUID===t){var l;const t=null===a||void 0===a||null===(l=a.details)||void 0===l?void 0:l.PLANT[e.plantName];console.log("plantvalue===",t),d[t]=(d[t]||0)+1}}))}));const c=l.map((e=>({name:e.plantName,header:e.plantName,defaultWidth:150,render:e=>(0,j.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})})));he(c)}if(X.length>0){const e=X.filter((e=>"buplantmapping"==e.MappingType));e.length>0&&"buplantmapping"===e[0].MappingType&&s.forEach((t=>{e[0].changes.forEach((e=>{if(t.id==e.id){t.details.draft_Plants={};for(let a in t.details.PLANT)console.log("obj2.details.PLANT[key]",e.details.PLANT[a]),console.log("obj1.details.PLANT[key]",t.details.PLANT[a]),t.details.draft_Plants[a]=e.details.PLANT[a].toLocaleLowerCase()!==t.details.PLANT[a].toLocaleLowerCase()?e.details.PLANT[a]:null}}))}))}setTimeout((()=>{let e=s.map((e=>{var t;return Object.keys(null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.PLANT).map((t=>{var a,n,l,s,i,r;null!==e&&void 0!==e&&null!==(a=e.details)&&void 0!==a&&a.draft_Plants?e[t]=null!==e&&void 0!==e&&null!==(n=e.details)&&void 0!==n&&n.draft_Plants[t]?`${null===e||void 0===e||null===(l=e.details)||void 0===l?void 0:l.draft_Plants[t]} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through"> ${null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.PLANT[t]} <span>`:null===e||void 0===e||null===(i=e.details)||void 0===i?void 0:i.PLANT[t]:e[t]=null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.PLANT[t]})),e}));ge(e),w(!1)}),500)}else{var c;if(!t)s(W.Qy?null===(c=W.Qy[0])||void 0===c?void 0:c.value:"")}var m}),[l,t,d,s,a,X]);const ve=()=>{w(!0),D.getAlldraftChanges().then((e=>{let a=t||"Micro Motion",n=e.data.filter((e=>e.BUID===a));q(n),w(!1)}))},[Ae,je]=(0,n.useState)([]),ye=[{name:"Entity",header:"Entity",render:e=>{var t;let{data:a}=e;return(0,j.jsx)("div",{children:(0,j.jsx)("b",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.Entity})})},defaultWidth:150},...pe],fe=(0,n.useCallback)((e=>{let{selected:t}=e;k(t)}),[]);(0,n.useEffect)((()=>{const e=!0===I?J:I,t=e&&Object.keys(e).map((t=>e[t]));je(t)}),[I,J]);return(0,j.jsxs)(Pn,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"RDO Plant Mapping "}]})}),(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,j.jsx)(U.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(ce.A,{type:"text",name:"search",size:"small",onChange:ee,value:d,style:{width:"100%"}})}),(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,j.jsxs)(U.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,j.jsxs)(U.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,j.jsx)(U.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,j.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,j.jsx)(U.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,j.jsx)(F,{onChange:ee,selectedvalue:t,style:{width:"100%"},optionsValues:W.Qy,onChangeFunc:e=>{k({}),je([]),s(e),c(""),je([]),Y([])}})})]}),(0,j.jsxs)(U.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,onClick:()=>{C({BUID:t}),b(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,j.jsx)(S.A,{variant:"contained",disabled:1!==(null===Ae||void 0===Ae?void 0:Ae.length),onClick:()=>{var e,a,n,l,s,i;const r={Entity:null===(e=Ae[0])||void 0===e||null===(a=e.details)||void 0===a?void 0:a.Entity};C({...{BUID:t},...r});const o=Object.entries(null===(n=Ae[0])||void 0===n||null===(l=n.details)||void 0===l?void 0:l.PLANT).map(((e,t)=>{let[a,n]=e;return{plantName:a,value:n,id:t}}));Q(null===(s=Ae[0])||void 0===s||null===(i=s.details)||void 0===i?void 0:i.displayOrder),Y(o),R(!0),b(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,j.jsx)(S.A,{variant:"contained",disabled:0===(null===Ae||void 0===Ae?void 0:Ae.length),onClick:()=>{N(Ae[0]),y(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{o(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,j.jsx)(Ha,{title:"RDO Plant Mapping",MappingType:"buplantmapping",filterTemplateData:Ae})]})]}),(0,j.jsx)(U.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,j.jsxs)(E.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[T&&(0,j.jsx)(E.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,j.jsx)(dt.A,{})}),!T&&(0,j.jsx)(Le.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},rowStyle:e=>{let{data:t}=e;const a=Object.keys(I).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===I?"#dee1f2":"initial",width:"auto"}},columns:ye,dataSource:xe,defaultLimit:100,checkboxColumn:!0,selected:I,sortable:!1,onSelectionChange:fe,enableColumnAutosize:!0,handle:e=>Z.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===Z||void 0===Z||null===(e=Z.current)||void 0===e?void 0:e.setScrollTop(0==(null===Ae||void 0===Ae?void 0:Ae.length)?0:null===Z||void 0===Z||null===(t=Z.current)||void 0===t?void 0:t.getScrollTop())}})]})})]})}),(0,j.jsx)(Ve.A,{open:m,autoHideDuration:3e3,onClose:de,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,j.jsx)(Cn,{onClose:de,severity:x,sx:{width:"100%"},children:p})}),G?(0,j.jsx)(be.A,{openAlert:$,openDesc:G,setOpenAlert:V}):(0,j.jsx)(j.Fragment,{}),(0,j.jsxs)(le.A,{open:v,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,j.jsx)(ie.A,{children:(0,j.jsxs)(re.A,{children:["Do you want to delete the RDO Plant Mapping(s) for Design Organization ",(0,j.jsx)("b",{children:null===L||void 0===L?void 0:L.BUID}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)("b",{children:"Note:"})," ",fa.adminConstant.common.deleteNote]})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:te,children:"Cancel"}),(0,j.jsx)(S.A,{onClick:async()=>{try{await M.softDeleteTempCompMapping({data:Ae}).then((e=>{te(),je([]),N([]),k({}),V(!0),z({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))}catch(e){console.error("Failed to delete mapping:",e)}ve(),ue(),je([])},children:"delete"})]})]}),(0,j.jsx)(On,{open:f,handleorgAllowedDialogAdd:()=>{b(!1)},handleorgAllowedDialogClose:me,orgAllowedForm:O,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target,n={...O,[t]:a};C(n)},handleAddBuPlant:()=>{if(!O.Entity||!O.BUID||H.length<1)return void ae("Please Enter the required fields","error");const e=H.reduce(((e,t)=>(e[t.plantName]=t.value,e)),{});if(O){const t={MappingType:"buplantmapping",BUID:O.BUID,details:{Entity:O.Entity,displayOrder:K,PLANT:e},id:`${O.Entity}_${O.BUID}_buplantmapping`};!1===_?M.addnewTempCompMapping(t).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(ue(),setTimeout((()=>{b(!1)}),200),k({}),ae("RDO Plant Mapping added successfully","success")):ae(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status)})):M.updateTempCompMapping(t).then((e=>{"success"===e.status?(setTimeout((()=>{b(!1),ve(),ue()}),200),R(!1),k({}),ae("RDO Plant Mapping updated successfully","success")):ae(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status)}))}me()},isEdit:_,bussinessUnitLists:a,bussinessUnit:t,setPlantValueList:Y,plantValueList:H,setDisplayOrder:Q}),(0,j.jsx)(Oa,{title:"Import RDO Plant Mappings",MappingType:"buplantmapping",selectedBU:t,importTemplate:r,fetchData:ue,setImportTemplate:o})]})},Dn=()=>(0,j.jsx)(Mn,{}),Ln=[{path:"/buplantList",element:(0,j.jsx)(ae,{children:(0,j.jsx)(Dn,{})})}],Nn={minHeight:248},_n=e=>{let{open:t,handleorgAllowedDialogClose:a,orgAllowedForm:l,handleorgAllowedFormChange:s,handleAddOrgAllowedValues:i,isEdit:r,templatesInfo:o,bussinessUnitLists:d,selectedBU:c,setPlantValueList:m,plantValueList:u}=e;const[p,h]=(0,n.useState)([]),[x,g]=(0,n.useState)([]);(0,n.useEffect)((()=>{h([c])}),[l.EXPENSE_TEMPLATE,c]),(0,n.useEffect)((()=>{var e;let t=(null===d||void 0===d||null===(e=d.find((e=>e.buName===l.BUID)))||void 0===e?void 0:e.plants)||[];t.map(((e,t)=>(e.expense="",e.id=t,Object.assign({},e)))),t=(0,fn.unionBy)(u,t,"plantName"),g(t),m(t)}),[l.BUID,c,d,m]);const[v,A]=(0,n.useState)([]);(0,n.useEffect)((()=>{if(c){let e=o.filter((e=>{var t;return null===e||void 0===e||null===(t=e.BU)||void 0===t?void 0:t.includes(c)}));A(e)}h([c])}),[c,o]);const y=e=>{const t=(0,n.useRef)(null);return(0,n.useEffect)((()=>{t&&t.current&&e.autoFocus&&t.current.focus()}),[e.autoFocus]),(0,j.jsx)("input",{...e,inputRef:t})},f={name:"expense",header:"Expense",defaultFlex:1,minWidth:100,rendersInlineEditor:!0,editable:!0,render:(e,t)=>{let{value:a}=e,{cellProps:n}=t,l=n.editProps.inEdit?n.editProps.value:a;return(0,j.jsx)(y,{type:"number",autoFocus:n.inEdit,value:l,onBlur:e=>{n.editProps.onComplete(e)},onChange:n.editProps.onChange,onFocus:()=>n.editProps.startEdit(),onKeyDown:e=>{"Escape"===e.key&&n.editProps.onCancel(e),"Enter"===e.key&&n.editProps.onComplete(e)}})}},b=(0,n.useRef)(null),T=[{name:"id",header:"Id",defaultVisible:!1,defaultWidth:60,type:"string"},{name:"plantName",defaultWidth:180,header:(0,j.jsx)(me.A,{title:fa.adminConstant.expensemapList.tooltip.PlantName,children:"Plant Name"}),render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.plantName})}},f],E=(0,n.useCallback)((e=>{let{value:t,columnId:a,rowId:n}=e;const l=[...x];l[n]=Object.assign({},l[n],{[a]:t}),g(l),m(l)}),[x,m]);return(0,j.jsxs)(le.A,{open:t,children:[(0,j.jsxs)(oe.A,{children:[" ",r?"Edit Expense Mapping ":"Add Expense Mapping"]}),(0,j.jsx)(Qa.ur,{autoHeight:!0,autoHeightMin:100,autoHeightMax:500,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:300,children:(0,j.jsx)(ie.A,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Design Organization ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:c,onChange:s,disabled:!0,children:null===p||void 0===p?void 0:p.map((e=>(0,j.jsx)(k.A,{value:e,children:e},e)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Template ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(I.A,{name:"EXPENSE_TEMPLATE",fullWidth:!0,value:l.EXPENSE_TEMPLATE,onChange:s,disabled:r,children:null===v||void 0===v?void 0:v.map((e=>(0,j.jsx)(k.A,{value:e.templateName,children:e.templateName},e.templateName)))})}),(0,j.jsx)(U.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,j.jsxs)("span",{children:["Plant Expenses ",(0,j.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,j.jsx)(U.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,j.jsx)(Le.Ay,{idProperty:"id",showZebraRows:!1,handle:e=>b.current=e?e.current:null,style:Nn,onEditComplete:E,columns:T,dataSource:x})})]})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:a,children:"Cancel"}),(0,j.jsx)(S.A,{onClick:i,children:r?"Update":"Add"})]})]})},Rn=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),In=()=>{const{refreshData:e,templatesInfo:t,bussinessUnit:a,bussinessUnitLists:l,mappingTemplatesInfo:s,updateBussinessUnit:i,updateMappingTemplatesInfo:r}=(0,B.A)(),[o,d]=(0,n.useState)(!1),[c,m]=(0,n.useState)(""),[u,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)(!1),[g,v]=(0,n.useState)({}),y=new Ea,f=new la.W,b=new Ta,[T,w]=(0,n.useState)(),[O,C]=(0,n.useState)(!1),[P,M]=(0,n.useState)([]),[D,L]=(0,n.useState)([]),[N,_]=(0,n.useState)(!0),[R,I]=(0,n.useState)({}),[k,$]=(0,n.useState)(!1),[V,G]=(0,n.useState)(null),[z,H]=(0,n.useState)([]),[Y,X]=(0,n.useState)([]),[q,K]=(0,n.useState)({}),Q=(0,n.useRef)(null),Z=Q&&Q.current&&Q.current.dataMap?Q.current.dataMap:null,J=e=>{const t=e.target.value;m(t)},ee=()=>{p(!1)},te=(e,t)=>{$(!0),G({severity:t,desc:e})};let ae=new Set;P&&P.length>0&&P.forEach((e=>{var t;const a=null===(t=e.details)||void 0===t?void 0:t.EXPENSE_PLANTS;if(a){Object.keys(a).forEach((e=>{ae.add(e)}))}}));const de=Array.from(ae).map((e=>({name:e,header:e,sortable:!1,defaultWidth:90,render:e=>(0,j.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})}))),ue=()=>{x(!1),v(""),H([]),C(!1),L([]),I({})},pe=[{name:"EXPENSE_TEMPLATE",header:(0,j.jsx)(me.A,{title:fa.adminConstant.expensemapList.tooltip.EXPENSE_TEMPLATE,children:"Template"}),defaultWidth:250,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.EXPENSE_TEMPLATE})}},{name:"BUID",header:(0,j.jsx)(me.A,{title:fa.adminConstant.expensemapList.tooltip.RDO,children:"Design Organization"}),defaultWidth:150},...de],he=()=>{_(!0),f.getAlltemplateMappings().then((e=>{var t;r(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),_(!1)}))};(0,n.useEffect)((()=>{_(e)}),[e]);const[xe,ge]=(0,n.useState)([]),ve=(0,_e.t$)(xe,"EXPENSE_TEMPLATE");(0,n.useEffect)((()=>{Ae()}),[]),(0,n.useEffect)((()=>{if(_(!0),s){let n=s;var e,t;if(n=n.filter((e=>"expensemapping"===e.MappingType&&"Delete"!==e.actionFlag)),a)n=null===(e=n)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(c&&""!==c)n=null===(t=n)||void 0===t?void 0:t.filter((e=>{var t,a,n;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(c))||(null===(a=JSON.stringify(e))||void 0===a||null===(n=a.toLocaleLowerCase())||void 0===n?void 0:n.includes(c))}));if(Y.length>0){const e=Y.filter((e=>"expensemapping"==e.MappingType));e.length>0&&"expensemapping"===e[0].MappingType&&n.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draftValue_EXPENSE_TEMPLATE=e.details.EXPENSE_TEMPLATE!==t.details.EXPENSE_TEMPLATE?e.details.EXPENSE_TEMPLATE:null,t.details.draft_Plants={};for(let a in t.details.EXPENSE_PLANTS)t.details.draft_Plants[a]=e.details.EXPENSE_PLANTS[a]!==t.details.EXPENSE_PLANTS[a]?e.details.EXPENSE_PLANTS[a]:null}}))}))}M(n);let l=n.map((e=>{var t,a;return e.EXPENSE_TEMPLATE=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.EXPENSE_TEMPLATE,Object.keys(null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.EXPENSE_PLANTS).map((t=>{var a,n,l,s,i,r;null!==e&&void 0!==e&&null!==(a=e.details)&&void 0!==a&&a.draft_Plants?e[t]=null!==e&&void 0!==e&&null!==(n=e.details)&&void 0!==n&&n.draft_Plants[t]?`${null===e||void 0===e||null===(l=e.details)||void 0===l?void 0:l.draft_Plants[t]} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through"> ${null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.EXPENSE_PLANTS[t]} <span>`:null===e||void 0===e||null===(i=e.details)||void 0===i?void 0:i.EXPENSE_PLANTS[t]:e[t]=null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.EXPENSE_PLANTS[t]})),e}));setTimeout((()=>{ge(l),_(!1)}),500)}else{var n;if(!a)i(W.Qy?null===(n=W.Qy[0])||void 0===n?void 0:n.value:"")}}),[s,a,c,i,Y]);const Ae=()=>{_(!0),b.getAlldraftChanges().then((e=>{let t=a||"Micro Motion",n=[];e.data&&(n=e.data.filter((e=>e.BUID===t))),X(n),_(!1)}))},je=(0,n.useCallback)((e=>{let{selected:t}=e;I(t)}),[]);(0,n.useEffect)((()=>{const e=!0===R?Z:R,t=e&&Object.keys(e).map((t=>e[t]));L(t)}),[R,Z]);return(0,j.jsxs)(Rn,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Expense Mapping"}]})}),(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,j.jsx)(U.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(ce.A,{type:"text",name:"search",size:"small",onChange:J,value:c,style:{width:"100%"}})}),(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,j.jsxs)(U.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,j.jsxs)(U.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,j.jsx)(U.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,j.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,j.jsx)(U.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,j.jsx)(F,{onChange:J,selectedvalue:a,style:{width:"100%"},optionsValues:W.Qy,onChangeFunc:e=>{I({}),L([]),i(e),m(""),L([])}})})]}),(0,j.jsxs)(U.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,onClick:()=>{v({BUID:a}),x(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,disabled:1!==(null===D||void 0===D?void 0:D.length),onClick:()=>{var e,t,a,n;const l=null===(e=D[0])||void 0===e?void 0:e.details,s={BUID:null===(t=D[0])||void 0===t?void 0:t.BUID};v({...l,...s});const i=Object.entries(null===(a=D[0])||void 0===a||null===(n=a.details)||void 0===n?void 0:n.EXPENSE_PLANTS).map(((e,t)=>{let[a,n]=e;return{plantName:a,expense:n,id:t}}));(0,_e.t$)(i,"plantName"),H(i),C(!0),x(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,disabled:0===(null===D||void 0===D?void 0:D.length),onClick:()=>{w(D[0]),p(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{d(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,j.jsx)(Ha,{title:"Expense Mapping",MappingType:"expensemapping",filterTemplateData:D,sortInfo:q})]})]}),(0,j.jsx)(U.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,j.jsxs)(E.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[N&&(0,j.jsx)(E.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,j.jsx)(dt.A,{})}),!N&&(0,j.jsx)(Le.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:pe,dataSource:null===q?P:ve,rowHeight:null,checkboxColumn:!0,defaultLimit:100,selected:R,onSelectionChange:je,handle:e=>Q.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(R).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===R?"#dee1f2":"initial"}},pagination:!0,renderScroller:()=>{var e,t;return null===Q||void 0===Q||null===(e=Q.current)||void 0===e?void 0:e.setScrollTop(0==(null===D||void 0===D?void 0:D.length)?0:null===Q||void 0===Q||null===(t=Q.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{K(e)}})]})})]})}),V?(0,j.jsx)(be.A,{openAlert:k,openDesc:V,setOpenAlert:$}):(0,j.jsx)(j.Fragment,{}),(0,j.jsxs)(le.A,{open:u,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,j.jsx)(ie.A,{children:(0,j.jsxs)(re.A,{children:["Do you want to delete the ExpenseAcctByTemplateAndPlant Mapping(s) for Design Organization"," ",(0,j.jsx)("b",{children:null===T||void 0===T?void 0:T.BUID}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)("b",{children:"Note:"})," ",fa.adminConstant.common.deleteNote]})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:ee,children:"Cancel"}),(0,j.jsx)(S.A,{onClick:async()=>{try{await y.softDeleteTempCompMapping({data:D}).then((e=>{ee(),L([]),w([]),I({})}))}catch(e){console.error("Failed to delete mapping:",e)}te("Expense Mapping deleted Successfully","success"),he(),L([])},children:"delete"})]})]}),(0,j.jsx)(_n,{open:h,handleorgAllowedDialogAdd:()=>{x(!1)},handleorgAllowedDialogClose:ue,orgAllowedForm:g,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target,n={...g,[t]:a};v(n)},handleAddOrgAllowedValues:()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.templateName===g.EXPENSE_TEMPLATE)),a=z.reduce(((e,t)=>(e[t.plantName]=0===Number(t.expense)||isNaN(Number(t.expense))?"":Number(t.expense),e)),{});if(!g.EXPENSE_TEMPLATE||!g.BUID||z.length<1)te("Please Enter the required fields","error");else{if(g){const t={BUID:g.BUID,MappingType:"expensemapping",id:e[0].id+"_"+g.BUID.trim()+"_expensemapping",details:{EXPENSE_TEMPLATE:g.EXPENSE_TEMPLATE,EXPENSE_TEMPLATE_ID:e[0].id,EXPENSE_PLANTS:a}};!1===O?y.addnewTempCompMapping(t).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(he(),setTimeout((()=>{x(!1)}),200),I({}),te("Expense Mapping added successfully","success")):te(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status)})):y.updateTempCompMapping(t).then((e=>{"success"===e.status?(setTimeout((()=>{x(!1),he()}),200),C(!1),I({}),te("Expense Mapping updated successfully","success")):te(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status)}))}ue()}},isEdit:O,templatesInfo:t,bussinessUnitLists:l,selectedBU:a,setPlantValueList:H,plantValueList:z}),(0,j.jsx)(Oa,{title:"Import Expense Mappings",MappingType:"expensemapping",selectedBU:a,importTemplate:o,fetchData:he,setImportTemplate:d})]})},kn=()=>(0,j.jsx)(In,{}),Bn=[{path:"/expensemapList",element:(0,j.jsx)(ae,{children:(0,j.jsx)(kn,{})})}];var Fn=a(46060),Un=a(80899);const Wn=Un.Ik().shape({description:Un.Yj().required("This field is required").max(500,"Input should not exceed 500 characters")}),$n=e=>(0,j.jsx)(ht.l1,{initialValues:{description:null},validationSchema:Wn,enableReinitialize:!0,validateOnChange:!1,validateOnBlur:!1,onSubmit:(t,a)=>{let{resetForm:n}=a;e.saveApplyChanges(t),n()},children:t=>{let{errors:a,touched:n,submitForm:l,setFieldValue:s,setErrors:i,setTouched:r}=t;return(0,j.jsx)(ht.lV,{children:(0,j.jsxs)(le.A,{open:null===e||void 0===e?void 0:e.applyChangesDialog,maxWidth:"sm",fullWidth:!0,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Do you want to apply your changes?"}),(0,j.jsx)(ie.A,{children:(0,j.jsx)(re.A,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsxs)(U.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:["Comments",(0,j.jsx)("span",{style:{color:"#FF3D57"},children:"*"}),":"]}),(0,j.jsxs)(U.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:[(0,j.jsx)(ht.D0,{as:"textarea",id:"description",name:"description",rows:"10",style:{width:"100%",borderRadius:"10px"}}),(0,j.jsx)(ht.Kw,{name:"description",component:"div",style:{color:"red"}})]})]})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:()=>{null===e||void 0===e||e.setApplyChangesDialog(!1),i({}),r({},!1)},children:"Cancel"}),(0,j.jsx)(S.A,{onClick:l,children:"Apply"})]})]})})}}),Vn=(0,Fn.A)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Gn=()=>{const{bussinessUnit:e,updateBussinessUnit:t,updateMappingTemplatesInfo:a}=(0,B.A)(),[l,s]=(0,n.useState)([]),[i,r]=(0,n.useState)([]),[o,d]=(0,n.useState)(""),[c,m]=(0,n.useState)(!1),[u,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)([]),g=(0,n.useRef)(null),[v,y]=(0,n.useState)(!1),[f,b]=(0,n.useState)(null),T=new Ta,w=new la.W,O=[{name:"userName",header:"User Name",defaultFlex:1,defaultWidth:50},{name:"MappingType",header:"Mapping Type",defaultFlex:1,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.MappingType})}},{name:"BUID",header:"Design Organization",defaultFlex:1,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.BUID})}},{name:"modifiedDateTime",header:"Modified Date & Time ",defaultFlex:1,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null!==t&&void 0!==t&&t.modifiedDateTime?null===t||void 0===t?void 0:t.modifiedDateTime:"-"})}},{name:"Action",header:"Action",defaultFlex:1,render:e=>{let{data:t}=e;return(0,j.jsxs)("div",{children:[(0,j.jsx)(S.A,{variant:"contained",style:{margin:"0px 10px 0px 0px"},onClick:()=>{x([t]),m(!0)},children:"Apply"}),(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{M(t.id)},children:"Discard"})]})}}],C=()=>{var t;let a=[];a=""===o?l:null===l||void 0===l?void 0:l.filter((e=>Object.values(e).join().toLowerCase().includes(o.toLowerCase()))),a=null===(t=a)||void 0===t?void 0:t.filter((t=>Object.values(t).join().toLowerCase().includes(e.toLowerCase()))),r(a)},P=()=>{w.getAlltemplateMappings().then((e=>{var t;a(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList)}))},M=e=>{try{p(!0),T.discardDraftChanges(e).then((e=>{m(!1),x([]),P(),D(),p(!1),"success"===(null===e||void 0===e?void 0:e.status)?(y(!0),b({severity:"success",desc:null===e||void 0===e?void 0:e.msg})):"failed"===(null===e||void 0===e?void 0:e.status)&&(y(!0),b({severity:"error",desc:null===e||void 0===e?void 0:e.msg}))}))}catch(t){}},D=()=>{p(!0),T.getAlldraftChanges().then((t=>{s(null===t||void 0===t?void 0:t.data);let a=e||"Micro Motion",n=t.data.filter((e=>e.BUID===a));r(n),p(!1)}))};return(0,n.useEffect)((()=>{D()}),[]),(0,n.useEffect)((()=>{C()}),[o,e]),(0,j.jsxs)(Vn,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Draft Changes"}]})}),(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(ce.A,{type:"text",name:"search",size:"small",onChange:e=>{d(e.target.value)},value:o,style:{width:"100%"}})}),(0,j.jsx)(U.Ay,{item:!0,md:5,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(S.A,{variant:"contained",onClick:C,children:"Search"})})]})}),(0,j.jsx)(U.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(U.Ay,{container:!0,alignItems:"center",style:{textAlign:"right"},children:(0,j.jsxs)(U.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{paddingRight:"10px"},children:[(0,j.jsx)("label",{style:{textWrap:"nowrap",paddingTop:"10px"},children:"Design Organization:"}),(0,j.jsx)(F,{selectedvalue:e,style:{width:"25%"},onChangeFunc:e=>{t(e),d("")}})]})})}),(0,j.jsxs)(E.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[u&&(0,j.jsx)(E.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,j.jsx)(dt.A,{})}),!u&&(0,j.jsx)(Le.Ay,{showZebraRows:!1,defaultLimit:100,style:{minHeight:550},columns:O,dataSource:i,onRowClick:e=>(e=>{const t=h.some((t=>t.id===e.id));x(t?t=>t.filter((t=>t.id!==e.id)):[e])})(e.data),pagination:!0,renderScroller:()=>{var e,t;return null===g||void 0===g||null===(e=g.current)||void 0===e?void 0:e.setScrollTop(0==(null===h||void 0===h?void 0:h.length)?0:null===g||void 0===g||null===(t=g.current)||void 0===t?void 0:t.getScrollTop())}})]})]})}),(0,j.jsx)($n,{applyChangesDialog:c,setApplyChangesDialog:m,saveApplyChanges:e=>{try{var t,a,n;if(p(!0),!h.length)return y(!0),void b({severity:"error",desc:"Please select row."});const l={id:null===(t=h[0])||void 0===t?void 0:t.id,reason:e.description,BUID:null===(a=h[0])||void 0===a?void 0:a.BUID,MappingType:null===(n=h[0])||void 0===n?void 0:n.MappingType};T.applyDraftChanges(l).then((e=>{m(!1),x([]),P(),D(),p(!1),"success"===(null===e||void 0===e?void 0:e.status)?(y(!0),b({severity:"success",desc:null===e||void 0===e?void 0:e.msg})):"failed"===(null===e||void 0===e?void 0:e.status)&&(y(!0),b({severity:"error",desc:null===e||void 0===e?void 0:e.msg}))}))}catch(l){}}}),f?(0,j.jsx)(be.A,{openAlert:v,openDesc:f,setOpenAlert:y}):(0,j.jsx)(j.Fragment,{})]})},zn=()=>(0,j.jsx)(Gn,{}),Hn=[{path:"/draftChanges",element:(0,j.jsx)(ae,{children:(0,j.jsx)(zn,{})})}],Yn=JSON.parse('[{"userId":"123456","userName":"joe","dateTime":"28/11/2023","reason":"Update template for BU Micro Motion","BU":"Micro Motion","mappingType":"orgAllowedTemplate","version":"1"},{"userId":"123456","userName":"adams","dateTime":"29/11/2023","reason":"Update template for BU Micro Motion","BU":"Micro Motion","mappingType":"orgAllowedTemplate","version":"2"},{"userId":"123456","userName":"adams","dateTime":"29/11/2023","reason":"Add template for BU Micro Motion","BU":"Micro Motion","mappingType":"orgAllowedTemplate","version":"3"},{"userId":"123456","userName":"joe","dateTime":"30/11/2023","reason":"Add new template for BU Micro Motion","BU":"Micro Motion","mappingType":"orgAllowedTemplate","version":"4"}]'),Xn=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),qn=()=>{const{bussinessUnit:e,updateBussinessUnit:t}=(0,B.A)(),[a,l]=(0,n.useState)(Yn),[s,i]=(0,n.useState)([]),[r,o]=(0,n.useState)(""),[d,c]=(0,n.useState)(!0),[m,u]=(0,n.useState)([]),[p,h]=(0,n.useState)([]),x=new Ta,[g,v]=(0,n.useState)("orgallowedvalues"),y=(0,n.useRef)(null),f=[{name:"version",header:"Version",defaultFlex:.6,defaultWidth:20,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.version})}},{name:"dateTime",header:"Change Date",defaultFlex:2,render:e=>{let{data:t}=e,a=new Date(parseInt(null===t||void 0===t?void 0:t.dateTime));console.log(a,"date");const n=a.getFullYear(),l=String(a.getMonth()+1).padStart(2,"0"),s=String(a.getDate()).padStart(2,"0"),i=String(a.getHours()).padStart(2,"0"),r=`${n}-${l}-${s} ${i%12||12}:${String(a.getMinutes()).padStart(2,"0")}:${String(a.getSeconds()).padStart(2,"0")} ${i>=12?"PM":"AM"}`;return(0,j.jsx)("div",{children:r})}},{name:"userName",header:"Requested By",defaultFlex:1,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.userName})}},{name:"MappingType ",header:"Mapping Type",defaultFlex:1,defaultWidth:200,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.MappingType})}},{name:"reason",header:"Change Details",defaultFlex:3,defaultWidth:200,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.reason})}}],b=()=>{let e=[];e=""===r?a:null===a||void 0===a?void 0:a.filter((e=>{var t;return(null===(t=Object.values(e).join())||void 0===t?void 0:t.toLowerCase()).includes(null===r||void 0===r?void 0:r.toLowerCase())})),i(e)};return(0,n.useEffect)((()=>{c(!0),x.getAllmappingHistory().then((e=>{var t;l(null===e||void 0===e?void 0:e.data),i(null===e||void 0===e?void 0:e.data),c(!1);const a=new Set;null===e||void 0===e||null===(t=e.data)||void 0===t||t.forEach((e=>{Array.isArray(e.MappingType)?e.MappingType.forEach((e=>{a.add(e.MappingType)})):a.add(e.MappingType)})),console.log(Array.from(a),"array of mapping"),h(Array.from(a))}))}),[]),(0,n.useEffect)((()=>{b()}),[r,e]),(0,n.useEffect)((()=>{var t;let n=a;n=null===(t=n)||void 0===t?void 0:t.filter((t=>{var a;const n=null===(a=Object.values(t).join())||void 0===a?void 0:a.toLowerCase();return n.includes(null===e||void 0===e?void 0:e.toLowerCase())&&n.includes(null===g||void 0===g?void 0:g.toLowerCase())})),i(n)}),[g,e,a]),(0,j.jsxs)(Xn,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"Changes History "}]})}),(0,j.jsx)(A.Tn,{children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(ce.A,{type:"text",name:"search",size:"small",onChange:e=>{o(e.target.value)},value:r,style:{width:"100%"}})}),(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(S.A,{variant:"contained",onClick:b,children:"Search"})})]})}),(0,j.jsx)(U.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(U.Ay,{container:!0,alignItems:"center",style:{textAlign:"right"},children:(0,j.jsxs)(U.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{paddingRight:"10px"},children:[(0,j.jsx)("label",{style:{textWrap:"nowrap",paddingTop:"10px"},children:"Mapping Type:"}),(0,j.jsx)(I.A,{className:"form-control",defaultValue:p[0],value:g,onChange:e=>v(e.target.value),style:{width:"50%"},size:"medium",displayEmpty:!0,renderValue:e=>{let t=[];return t=null===p||void 0===p?void 0:p.find((t=>t===e)),t||""},children:null===p||void 0===p?void 0:p.map(((e,t)=>{const a="dpKey"+t;return(0,j.jsx)(k.A,{value:e,children:e},a)}))})]})})}),(0,j.jsx)(U.Ay,{item:!0,md:12,sm:6,xs:12,className:"font-medium",style:{display:"none"},children:(0,j.jsx)(U.Ay,{container:!0,alignItems:"center",style:{textAlign:"right"},children:(0,j.jsxs)(U.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{paddingRight:"10px"},children:[(0,j.jsx)("label",{style:{textWrap:"nowrap",paddingTop:"10px"},children:"Design Organization:"}),(0,j.jsx)(F,{selectedvalue:e,style:{width:"50%"},optionsValues:W.Qy,onChangeFunc:e=>{t(e),o("")}})]})})}),(0,j.jsxs)(E.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[d&&(0,j.jsx)(E.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,j.jsx)(dt.A,{})}),!d&&(0,j.jsx)(Le.Ay,{showZebraRows:!1,style:{minHeight:550},columns:f,dataSource:s,defaultLimit:100,onRowClick:e=>(e=>{const t=m.some((t=>t.id===e.id));u(t?t=>t.filter((t=>t.id!==e.id)):[e])})(e.data),pagination:!0,renderScroller:()=>{var e,t;return null===y||void 0===y||null===(e=y.current)||void 0===e?void 0:e.setScrollTop(0==(null===m||void 0===m?void 0:m.length)?0:null===y||void 0===y||null===(t=y.current)||void 0===t?void 0:t.getScrollTop())}})]})]})})]})},Kn=()=>(0,j.jsx)(qn,{}),Qn=[{path:"/history",element:(0,j.jsx)(ae,{children:(0,j.jsx)(Kn,{})})}];var Zn=a(67986);const Jn=e=>{const t=new ue.Q,[a,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)((null===e||void 0===e?void 0:e.systemData)||[]),[r,o]=(0,n.useState)("allData"),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)(null);console.log("props",e);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(S.A,{variant:"contained",onClick:()=>{l(!0)},children:"Export"}),(0,j.jsxs)(le.A,{open:a,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,j.jsx)(ie.A,{children:(0,j.jsx)(re.A,{children:(0,j.jsx)(E.A,{width:"100%",overflow:"auto",children:(0,j.jsx)(A.Tn,{children:(0,j.jsx)(U.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,j.jsx)(U.Ay,{container:!0,alignItems:"center",children:(0,j.jsxs)(Pe.A,{children:[(0,j.jsx)(Me.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,j.jsxs)(Oe.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:r,onChange:t=>{o(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.vsystemData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,j.jsx)(Ce.A,{value:"allData",control:(0,j.jsx)(we.A,{}),label:"All Data"}),(0,j.jsx)(Ce.A,{value:"selectedData",control:(0,j.jsx)(we.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"}),(0,j.jsx)(S.A,{onClick:()=>{l(!1);let a=("allData"!==r?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.systemData)||[],n=null===a||void 0===a?void 0:a.map((e=>({"ERP Type":e.ERPType,Instance:e.instance,"Validation Key 1":e.file1,"Validation Key 2":e.file2})));t.exportTemplate({data:n,sheet_name:"System Setup"}).then((e=>{u(e),c(!0),h(!0),g({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),x?(0,j.jsx)(be.A,{openAlert:p,openDesc:x,setOpenAlert:h}):(0,j.jsx)(j.Fragment,{})]})},el=[{name:"ERP Type",mandatory:"Y",dataType:"string",inputType:"select",defaultValues:"",values:[{sap:"SAP",oracle:"Oracle"}]},{name:"instance",mandatory:"Y",dataType:"string",inputType:"select",defaultValues:"",values:[{onPrem:"OnPrem",SaaS:"SaaS"}]},{name:"Validation Key 1",mandatory:"Y",dataType:"string",inputType:"text",defaultValues:"",values:""},{name:"Validation Key 2",mandatory:"Y",dataType:"string",inputType:"text",defaultValues:"",values:""}],tl=(0,n.forwardRef)(((e,t)=>{const[a,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)(null),[r,o]=(0,n.useState)([]),d={"ERP Type":null,instance:null,"Validation Key 1":null,"Validation Key 2":null},c=e=>{console.log(e,"validate");const t={};return e["ERP Type"]||(t["ERP Type"]="Required"),e.instance||(t.instance="Required"),e["Validation Key 1"]||(t["Validation Key 1"]="Required"),e["Validation Key 2"]||(t["Validation Key 2"]="Required"),t};return(0,n.useEffect)((()=>{o(el)}),[]),(0,j.jsxs)("div",{children:[(0,j.jsx)(ht.l1,{initialValues:d,validate:c,onSubmit:(t,a)=>{let{setSubmitting:n}=a;((t,a,n)=>{let{resetForm:s}=n;if(console.log(t,"values 111"),a){const n={...t,ERPType:t["ERP Type"],file1:t["Validation Key 1"],file2:t["Validation Key 2"]};delete n["ERP Type"],delete n["Validation Key 1"],delete n["Validation Key 2"],s(),Object.keys(t).some((e=>t[e]!==d[e]))?e.saveForm({formisValid:a,formData:n}):(l(!0),i({severity:"error",desc:"No changes made!"}))}else l(!0),i({severity:"error",desc:"Form submitted with invalid data"})})(t,!Object.keys(c(t)).length,{resetForm:()=>n(!1)})},innerRef:t,children:function(a){let{isValid:l,values:s,errors:i,setFieldValue:o,resetForm:d,handleSubmit:c,submitForm:m}=a;return(0,n.useEffect)((()=>{var t,a;"Edit"===(null===e||void 0===e?void 0:e.editForm)&&null!==e&&void 0!==e&&null!==(t=e.selectedRows)&&void 0!==t&&t.length&&(null===e||void 0===e||null===(a=e.selectedRows)||void 0===a||a.forEach((e=>{o("ERP Type",null===e||void 0===e?void 0:e.ERPType),o("instance",null===e||void 0===e?void 0:e.instance),o("Validation Key 1",null===e||void 0===e?void 0:e.file1),o("Validation Key 2",null===e||void 0===e?void 0:e.file2)})))}),[o]),(0,n.useImperativeHandle)(t,(()=>({submitForm(){console.log("triggering here"),c()}}))),(0,j.jsx)(ht.lV,{children:r.length?null===r||void 0===r?void 0:r.map(((t,a)=>{var n;const l=null===t||void 0===t?void 0:t.name,d=s[l]||(null===t||void 0===t?void 0:t.defaultValues);let c=null===t||void 0===t?void 0:t.inputType;s[null===(n=r[0])||void 0===n?void 0:n.name];return(0,j.jsx)("div",{className:"attribute-section",children:(0,j.jsxs)(U.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)("label",{htmlFor:"firstName",children:(0,j.jsxs)("span",{children:[null===t||void 0===t?void 0:t.name,"Y"===(null===t||void 0===t?void 0:t.mandatory)?(0,j.jsx)("span",{style:{color:"red"},children:"*"}):""]})})}),(0,j.jsxs)(U.Ay,{item:!0,md:8,sm:6,xs:12,children:["text"===c&&(0,j.jsx)(ce.A,{className:"mb-4 w-full ",color:null!==i&&void 0!==i&&i[l]?"warning":"",fullWidth:!0,size:"small",variant:"outlined",id:l,name:l,value:d,onChange:e=>{o(l,e.target.value)},type:"text",style:{marginBottom:"10px"}}),"select"===c&&(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(I.A,{disabled:"Edit"===(null===e||void 0===e?void 0:e.editForm)&&["ERP Type","instance"].includes(l),value:d,onChange:e=>{o(l,e.target.value)},displayEmpty:!0,renderValue:e=>e?(null===t||void 0===t?void 0:t.values.length)&&(null===t||void 0===t?void 0:t.values[0][e]):(0,j.jsx)("em",{children:"--Select--"}),style:{height:"37.13px",marginBottom:"1rem",width:"100%"},children:[(0,j.jsx)(k.A,{children:"Select"}),(null===t||void 0===t?void 0:t.values.length)&&Object.keys(null===t||void 0===t?void 0:t.values[0]).map((e=>(0,j.jsx)(k.A,{value:e,children:null===t||void 0===t?void 0:t.values[0][e]},Ke().generate())))]})}),(0,j.jsx)(ht.Kw,{name:l,component:"div"})]},a)]})},a)})):(0,j.jsx)(j.Fragment,{})})}}),s&&(0,j.jsx)(be.A,{openAlert:a,openDesc:s,setOpenAlert:l})]})})),al=(0,T.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),nl=()=>{const e=(0,n.useRef)(null),[t,a]=(0,n.useState)(!1),[l,s]=(0,n.useState)("Create"),[i,r]=(0,n.useState)(null),[o,d]=(0,n.useState)([]),[c,m]=(0,n.useState)([]),[u,p]=(0,n.useState)(""),[h,x]=(0,n.useState)(!1),[g,v]=(0,n.useState)(!1),y=new Zn.c,[f,b]=(0,n.useState)(!1),[T,w]=(0,n.useState)(null),[O,C]=(0,n.useState)({}),[P,M]=(0,n.useState)([]),[D,L]=(0,n.useState)([]),[N,_]=(0,n.useState)([]),R=(0,n.useRef)(null),I=R&&R.current&&R.current.dataMap?R.current.dataMap:null,k=(0,n.useCallback)((e=>{let{selected:t}=e;C(t)}),[]),B=o.sort(((e,t)=>e.ERPType<t.ERPType?-1:e.ERPType>t.ERPType?1:0)),F=[{name:"ERPType",header:"ERP Type",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.ERPType})}},{name:"instance",header:"Instance",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.instance})}},{name:"file1",header:"Validation Key 1",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.file1})}},{name:"file2",header:"Validation Key 2",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.file2})}}],W=async()=>{var e;const t=await y.getAllsystemSetupList();return console.log(t,"listValue"),null!==t&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.length?(d(null===t||void 0===t?void 0:t.data),L(null===t||void 0===t?void 0:t.data),m(null===t||void 0===t?void 0:t.data),null===t||void 0===t?void 0:t.data):[]};(0,n.useEffect)((()=>{W()}),[]),(0,n.useEffect)((()=>{var e;const t=!0===O?I:O,a=t&&((null===(e=Object.keys(t))||void 0===e?void 0:e.map((e=>t[e])))||[]);null!==a&&void 0!==a&&a.length&&M(a)}),[O]),(0,n.useEffect)((()=>{console.log(u,"parent comp 2"),(async e=>{let t=[];if(x(!0),t=0===c.length?await W():c,t){const a=t.filter((t=>!e||JSON.stringify(t).toLowerCase().includes(e.toLowerCase())))||[];a.length?(d(a),L(a)):d([])}x(!1)})(u)}),[u]),console.log("parent comp");const $=e=>{_(e);const t=Ne(nl)({data:o,sortInfo:e,onSortInfoChange:$,initialData:D});d(t.props.data)};return(0,j.jsxs)(al,{children:[(0,j.jsx)(E.A,{className:"breadcrumb",children:(0,j.jsx)(A.Qp,{routeSegments:[{name:"System Setup"}]})}),(0,j.jsxs)("div",{children:[(0,j.jsxs)(U.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,j.jsx)(U.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,j.jsx)(ce.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;p(t)},value:u,style:{width:"100%"}})}),(0,j.jsxs)(U.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,j.jsx)(S.A,{variant:"contained",children:"Search"}),(0,j.jsx)("div",{style:{flex:1}}),(0,j.jsx)(S.A,{variant:"contained",component:ne.Link,onClick:()=>{a(!0),s("Create")},children:"Create"}),(0,j.jsx)(S.A,{variant:"contained",disabled:1!==(null===P||void 0===P?void 0:P.length),onClick:()=>{a(!0),s("Edit")},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,j.jsx)(S.A,{variant:"contained",disabled:null===P||void 0===P||!P.length,onClick:()=>{v(!0)},style:{margin:"0 10px 0 10px"},children:"Delete"}),(0,j.jsx)(Jn,{systemData:o,filterTemplateData:P})]})]}),(0,j.jsx)("br",{}),h?(0,j.jsx)("div",{style:{textAlign:"center"},children:(0,j.jsx)(de.A,{show:h})}):(0,j.jsx)(Le.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:F,defaultLimit:100,dataSource:null===N?o:B,checkboxColumn:!0,selected:O,onSelectionChange:k,handle:e=>R.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===R||void 0===R||null===(e=R.current)||void 0===e?void 0:e.setScrollTop(0==(null===P||void 0===P?void 0:P.length)?0:null===R||void 0===R||null===(t=R.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:$})]}),T&&(0,j.jsx)(be.A,{openAlert:f,openDesc:T,setOpenAlert:b}),(0,j.jsxs)(le.A,{open:g,children:[(0,j.jsx)(oe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Setting"}),(0,j.jsx)(ie.A,{children:(0,j.jsx)(re.A,{children:"Do you want to delete the selected Setting(s)?"})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{autoFocus:!0,onClick:()=>{v(!1)},children:"Cancel"}),(0,j.jsx)(S.A,{onClick:async()=>{v(!1);try{x(!0);const e=null===P||void 0===P?void 0:P.map((e=>null===e||void 0===e?void 0:e.id));await y.deleteSystemSettings(e).then((e=>{x(!1),b(!0),w({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),C({}),M([])}))}catch(e){console.error("Failed to delete Setting:",e)}y.getAllsystemSetupList().then((e=>{console.log(e.data,"result.data"),d(e.data),L(e.data),m(e.data)}))},children:"Delete"})]})]}),(0,j.jsxs)(le.A,{open:t,onClose:()=>{a(!1)},scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",maxWidth:"md",fullWidth:!0,onClick:e=>{e.stopPropagation()},children:[(0,j.jsx)(oe.A,{id:"scroll-dialog-title",children:`${l} system setup`}),(0,j.jsx)(ie.A,{dividers:!0,children:(0,j.jsx)(re.A,{id:"scroll-dialog-description",tabIndex:-1,children:(0,j.jsx)(tl,{ref:e,saveForm:async e=>{if(console.log(e,"submittedValues 222"),e&&null!==e&&void 0!==e&&e.formisValid){var t;a(!1),x(!0),r(e);let i=null;var n,s;if(i="Edit"===l&&null!==P&&void 0!==P&&P.length?await y.updateSystemSettings(null===e||void 0===e?void 0:e.formData):await y.addSystemSettings(null===e||void 0===e?void 0:e.formData),"success"===(null===(t=i)||void 0===t?void 0:t.status))C({}),M([]),await y.getAllsystemSetupList().then((e=>{console.log(e.data,"result.data"),d(e.data),L(e.data),m(e.data)})),b(!0),w({severity:"success",desc:null===(n=i)||void 0===n?void 0:n.msg});else b(!0),w({severity:"error",desc:null===(s=i)||void 0===s?void 0:s.msg})}x(!1)},selectedRows:P,editForm:l})})}),(0,j.jsxs)(se.A,{children:[(0,j.jsx)(S.A,{onClick:()=>{a(!1)},children:"Cancel"}),(0,j.jsx)(S.A,{onClick:async()=>{e.current&&await e.current.submitForm()},children:"Save"})]})]})]})},ll=nl,sl=e=>{let{children:t,...a}=e;const n=(0,i.$P)(""),l=(0,i.zy)();return n.startsWith("/")||l.pathname.startsWith("/Dev")||"/"===l.pathname?(0,j.jsx)(i.C5,{to:"/calist"}):l.pathname.startsWith("/login/callback")?(0,j.jsx)(o.pG,{}):t},il=()=>{const{oktaAuth:e,authState:t}=(0,o.rg)();(0,i.Zp)();(0,n.useEffect)((()=>{if(console.log("\ud83d\udd04 Current URL after login:",window.location.href),null!==t&&void 0!==t&&t.isAuthenticated){const e=sessionStorage.getItem("original_uwaUrl");console.log("\ud83d\udd19 Redirecting back to:",e),e&&window.location.replace(e)}}),[t]);const a=t=>{e.redirect("/")},l=e=>{console.error("Error during login callback:",e)};return(0,n.useEffect)((()=>{e.handleLoginRedirect().then(a).catch(l)}),[e]),(0,j.jsx)("div",{children:(0,j.jsx)("h4",{children:"Loading..."})})},rl=[...ee,...rt,...bt,..._t,...qt,...oa,...nn,...cn,...xn,...yn,...Ka,...Ln,...Bn,...Hn,...Qn,...ya,...[{path:"/systemSetup",element:(0,j.jsx)(ae,{children:(0,j.jsx)(ll,{})})}]];function ol(){const e=[{element:(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(b,{children:(0,j.jsx)(te.A,{})})}),children:rl},{path:"/",element:(0,j.jsx)(sl,{})},{path:"/login/callback",element:(0,j.jsx)(il,{})},{path:"/accessDenied",element:(0,j.jsx)(R,{})},{path:"/homepage",element:(0,j.jsx)(V,{})},{path:"*",element:(0,j.jsx)(M,{})}];return(0,i.Ye)(e)}var dl=a(63632);const cl=e=>{let{componentStack:t,error:a}=e;return null};var ml=a(29215),ul=a(47290);const pl=new r.gEC(g.oidc),hl=()=>{const e=(0,i.Zp)();if(!sessionStorage.getItem("original_uwaUrl")){const e=window.location.href;console.log("\ud83c\udf10 Initial Widget URL:",e),sessionStorage.setItem("original_uwaUrl",e)}return(0,n.useEffect)((()=>{const e=setTimeout((()=>{performance.mark("FirstContentfulPaint")}),1e3);return console.log("production","process.env.NODE_ENV"),()=>clearTimeout(e)}),[]),(0,j.jsx)(dl.tH,{FallbackComponent:cl,onReset:e=>{},children:(0,j.jsx)(s.Kq,{store:v.i,children:(0,j.jsx)(ul.Z,{children:(0,j.jsxs)(A.wF,{children:[(0,j.jsx)(A.N,{}),(0,j.jsx)(A.lZ,{children:(0,j.jsx)(o.Zn,{oktaAuth:pl,restoreOriginalUri:(t,a)=>{e((0,r.Bcr)(a||"/",window.location.origin))},onAuthRequired:function(){e(window.location.origin)},children:(0,j.jsx)(ml.L,{children:(0,j.jsx)(ol,{})})})})]})})})})};var xl=a(55376),gl=a(51431);let vl=null;function Al(){if(window.widget){let e=!1;window.widget.addEvent("onLoad",(()=>{e?console.warn("[index.js] \u23f3 onLoad was already executed. Ignoring duplicate trigger."):(e=!0,function(){var e,t;requirejs(["DS/PlatformAPI/PlatformAPI"],(e=>{window.PlatformAPI=e}));let a=(null===(e=window.widget)||void 0===e||null===(t=e.body)||void 0===t?void 0:t.querySelector("#root"))||document.getElementById("root");a||(a=document.createElement("div"),a.id="root",window.widget&&window.widget.body?window.widget.body.appendChild(a):document.body.appendChild(a)),vl||(vl=l.createRoot(a)),vl.render((0,j.jsx)(gl.A,{injectFirst:!0,children:(0,j.jsxs)(i.fS,{initialEntries:["/"],children:[(0,j.jsx)(xl.Ay,{}),(0,j.jsx)(hl,{})]})}))}())}))}else console.error("[index.js] \u274c Widget not detected! onLoad cannot be registered.")}},93291:(e,t,a)=>{"use strict";a.d(t,{f:()=>p});var n=a(83271),l=a(81650),s=a(31026),i=a(86213);let r=[];class o{constructor(){this.searchCA=e=>{let t={Operation:"CA-Search",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},queryParams:{searchStr:`${e.searchPattern}`,"&$top":"10",instance:"SaaS"},Requestdata:""};return i.A.post(`${n.ij}/loginLTToken/searchCA`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e}))},this.getCARelatedMco=e=>{let t={queryParams:{id:null===e||void 0===e?void 0:e.ca_id,operation:"flowDown",instance:"SaaS"}};return i.A.post(`${n.ij}/loginLTToken/caDetails`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e}))},this.searchMCO=(e,t)=>{let a={Operation:"CA-Search-flowDown",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},queryParams:{searchStr:`${e.searchPattern}`,"&$top":"10",instance:"SaaS"}};return i.A.post(`${n.ij}/loginLTToken/searchCA`,a,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e}))},this.getMCOdetailById=e=>{let t={queryParams:{ids:[{id:null===e||void 0===e?void 0:e.mco_id}],operation:"CA-Details",instance:"SaaS"}};return i.A.post(`${n.ij}/loginLTToken/caDetails`,t,{client_id:123,client_secret:456}).then((t=>{if(200===t.status)return t.data.map((t=>{t.mcoPropeties.id===(null===e||void 0===e?void 0:e.mco_id)&&r.push(t)})),r[r&&r.length-1];throw r[0]})).catch((e=>{throw e}))},this.updateMCOdetails=e=>i.A.put(`${n.w7}/productHierarchy/classify`,e,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.validationByMcoId=e=>Promise.resolve({pass:!0}),this.getItemDetailsByMcoId=e=>i.A.get(`${n.w7}/erp/item/${e}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBomDetailsByMcoId=e=>i.A.get(`${n.w7}/mco/bom/${e}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.changeStateByMcoId=(e,t,a)=>{let l={id:e,nextState:t,instance:"SaaS"};return i.A.post(`${n.ij}/loginLTToken/caMcoPromoteDemote`,l,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data[0];throw e.data})).catch((e=>e))},this.routeStart=e=>{let t={Operation:"routeStart",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},Requestdata:{data:[{id:e}]},instance:"SaaS"};return i.A.post(`${n.ij}/loginLTToken/routeStart`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw new Error("Route start failed or not initiated")})).catch((e=>{throw console.error("routeStart error:",e),e}))},this.getTaskList=e=>{let t={Operation:"taskList",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},Requestdata:{data:[{id:e}]},instance:"SaaS"};return i.A.post(`${n.ij}/loginLTToken/getTaskList`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status&&Array.isArray(e.data)&&e.data.length>0)return e.data;throw new Error("No task data found")})).catch((e=>{throw console.error("Error fetching task list:",e),e}))},this.taskApproval=e=>{let t={Operation:"taskApproval",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},Requestdata:{data:[{dataelements:{id:e,routeTaskApprovalComments:"Approve",routeTaskDueDate:"",state:"Complete",routeTaskApprovalAction:"Approve"},updateAction:"MODIFY"}]},instance:"SaaS"};return i.A.post(`${n.ij}/loginLTToken/taskApproval`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("\u274c Task Approval Error:",e),e}))},this.updateMCOData=(e,t)=>{let a={uriParams:{identifier:e,startDate:t["Start Date"],description:t.description,data:t,instance:"SaaS"}};return i.A.post(`${n.ij}/loginLTToken/caMcoModify`,a,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))},this.ApproveCAMCO=e=>{let t={uriParams:{id:e.id,type:e.type,currentStatus:e.currentStatus}};return i.A.post(`${n.ij}/loginLTToken/caMcoApprove`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))},this.getDataForClassificationyMCONames=e=>{const t=e.filter((e=>(null===e||void 0===e?void 0:e.name)&&(null===e||void 0===e?void 0:e.id)));if(0===t.length)return console.error("No valid data to send in API request!"),Promise.reject("Invalid data - No valid MCO entries.");let a={queryParams:{ids:t,operation:"CA-Details",instance:"SaaS"}};return i.A.post(`${n.ij}/loginLTToken/caDetails`,a,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data})).then((e=>{const t={};return e.forEach((e=>{var a;null!==e&&void 0!==e&&null!==(a=e.mcoPropeties)&&void 0!==a&&a.name&&(t[e.mcoPropeties.name]=e)})),t})).catch((e=>{throw e}))},this.updateMCOObjects=e=>i.A.post(`${n.w7}/mco/updateMCOObjects/mcoList`,e,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getRSMEList=()=>i.A.get(`${n.w7}/mco/getRSMEs`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getRMEList=()=>i.A.get(`${n.w7}/mco/getRMEs`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMRpartList=e=>i.A.post(`${n.w7}/mco/updateMR/partList`,e,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSpecDetailsByMcoId=e=>i.A.get(`${n.w7}/mco/getSpecDetails/${e}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMcoPropertyDetails=e=>{let t={mco_id:e,isBasics:!0};this.getMCOdetailById(t).then((e=>{if(e)return null===e||void 0===e?void 0:e.mcoPropeties})).catch((e=>{}))},this.getMRbyPartAndPlant=e=>l.A.post(`${n.Sb}/mrRelatedDetails/getMRbyPartAndPlant`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSourcePlantTemplate=e=>l.A.post(`${n.Sb}/sourceList/getSourcePlantTemplate`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBusinessUnitbyid=e=>l.A.post(`${n.Sb}/bu/getBusinessUnitbyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRRelatedDetailsbyid=e=>l.A.post(`${n.Sb}/mrRelatedDetails/getMRRelatedDetailsbyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getLifeCycleStatusByMCOName=e=>{const t=e.filter((e=>null!==e&&void 0!==e));return 0===t.length?(console.error("No valid MCO names to send in API request!"),Promise.reject("Invalid data - No valid MCO names.")):l.A.post(`${n.Sb}/status/getLifeCycleStatusByMCOName`,t,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("API Error:",e),e)))},this.getMcoDetailsByName=e=>l.A.post(`${n.Sb}/mco/getMcoDetailsByName`,e,n.YX).then((e=>{if(200===e.status)return e.data})).catch((e=>e)),this.getattributesbyid=e=>new Promise((async(t,a)=>{await l.A.post(`${n.Sb}/mco/getattributesbyid`,e,n.YX).then((e=>{200===e.status&&a(e.data),t(e.data)}))})),this.updateattributesbyid=e=>l.A.put(`${n.Sb}/mco/updateattributes`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.sendMCO=e=>l.A.post(`${n.Sb}/muleSoftServices/sendMCO`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))}}class d{constructor(){this.searchCA=e=>i.A.post(`${(()=>{var e;const t=s.i.getState();return"Cloud"===(null===t||void 0===t||null===(e=t.globalData)||void 0===e?void 0:e.instanceType)?n.yf:n.w7})()}/erp/findObjects`,e,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e})),this.getCARelatedMco=e=>i.A.get(`${n.w7}/mco/CAid/${null===e||void 0===e?void 0:e.ca_id}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e})),this.searchMCO=(e,t)=>i.A.post(`${n.w7}/erp/findMCOObjects`,e,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e})),this.searchMCO_old=e=>i.A.post(`${n.w7}/erp/findObjects`,e,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e})),this.getMCOdetailById=e=>i.A.get(`${n.w7}/productHierarchy/classes/${null===e||void 0===e?void 0:e.mco_id}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMCOdetails=e=>i.A.put(`${n.w7}/productHierarchy/classify`,e,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.validationByMcoId=e=>i.A.get(`${n.w7}/mco/validate/${e}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getItemDetailsByMcoId=e=>i.A.get(`${n.w7}/erp/item/${e}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBomDetailsByMcoId=e=>i.A.get(`${n.w7}/mco/bom/${e}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.changeStateByMcoId=(e,t,a)=>i.A.post(`${n.w7}/mco/changeState/${e}/${t}`,a,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMCOData=(e,t)=>i.A.post(`${n.w7}/mco/updateMCOData/${e}`,t,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getDataForClassificationyMCONames=e=>{let t=null===e||void 0===e?void 0:e.names;return i.A.post(`${n.w7}/mco/getDataForClassificationyMCONames/mcoList`,t,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))},this.updateMCOObjects=e=>i.A.post(`${n.w7}/mco/updateMCOObjects/mcoList`,e,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getRSMEList=()=>i.A.get(`${n.w7}/mco/getRSMEs`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getRMEList=()=>i.A.get(`${n.w7}/mco/getRMEs`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMRpartList=e=>i.A.post(`${n.w7}/mco/updateMR/partList`,e,n.W7).then((e=>{if(console.log("hey vara here===========================================",e),200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSpecDetailsByMcoId=e=>i.A.get(`${n.w7}/mco/getSpecDetails/${e}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMcoPropertyDetails=e=>i.A.get(`${n.w7}/mco/name/${e}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRbyPartAndPlant=e=>l.A.post(`${n.Sb}/mrRelatedDetails/getMRbyPartAndPlant`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSourcePlantTemplate=e=>l.A.post(`${n.Sb}/sourceList/getSourcePlantTemplate`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRRelatedDetailsbyid=e=>l.A.post(`${n.Sb}/mrRelatedDetails/getMRRelatedDetailsbyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBusinessUnitbyid=e=>l.A.post(`${n.Sb}/bu/getBusinessUnitbyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getLifeCycleStatusByMCOName=e=>l.A.post(`${n.Sb}/status/getLifeCycleStatusByMCOName`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMcoDetailsByName=e=>l.A.post(`${n.Sb}/mco/getMcoDetailsByName`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getattributesbyid=e=>l.A.post(`${n.Sb}/mco/getattributesbyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateattributesbyid=e=>l.A.put(`${n.Sb}/mco/updateattributes`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.sendMCO=e=>l.A.post(`${n.Sb}/muleSoftServices/sendMCO`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))}}var c=a(38740);let m,u;class p{constructor(){this.getInstanceDetail=()=>{switch(u=localStorage.getItem("instance"),u){case"onPrem":m=new d;break;case"SaaS":m=new o}},this.searchCA=e=>(this.getInstanceDetail(),m.searchCA(e)),this.getCARelatedMco=e=>(this.getInstanceDetail(),m.getCARelatedMco(e)),this.searchMCO=e=>(this.getInstanceDetail(),m.searchMCO(e,u)),this.getMCOdetailById=e=>(this.getInstanceDetail(),m.getMCOdetailById(e)),this.updateMCOdetails=e=>(this.getInstanceDetail(),m.updateMCOdetails(e)),this.validationByMcoId=e=>(this.getInstanceDetail(),m.validationByMcoId(e)),this.getItemDetailsByMcoId=e=>(this.getInstanceDetail(),m.getItemDetailsByMcoId(e)),this.getBomDetailsByMcoId=e=>(this.getInstanceDetail(),m.getBomDetailsByMcoId(e)),this.changeStateByMcoId=(e,t,a,n)=>(this.getInstanceDetail(),m.changeStateByMcoId(e,t,a)),this.updateMCOData=(e,t)=>(this.getInstanceDetail(),m.updateMCOData(e,t)),this.getDataForClassificationyMCONames=e=>(this.getInstanceDetail(),m.getDataForClassificationyMCONames(e)),this.updateMCOObjects=e=>(this.getInstanceDetail(),m.updateMCOObjects(e)),this.getRSMEList=()=>(this.getInstanceDetail(),m.getRSMEList()),this.getRMEList=()=>(this.getInstanceDetail(),m.getRMEList()),this.updateMRpartList=e=>(this.getInstanceDetail(),m.updateMRpartList(e)),this.getSpecDetailsByMcoId=e=>(this.getInstanceDetail(),m.getSpecDetailsByMcoId(e)),this.getMcoPropertyDetails=e=>(this.getInstanceDetail(),m.getMcoPropertyDetails(e)),this.ApproveCAMCO=e=>(this.getInstanceDetail(),m.ApproveCAMCO(e)),this.routeStart=e=>(this.getInstanceDetail(),m.routeStart(e)),this.getTaskList=e=>(this.getInstanceDetail(),m.getTaskList(e)),this.taskApproval=e=>(this.getInstanceDetail(),m.taskApproval(e)),this.getMuleToken=()=>l.A.get(`${n.Sb}/muleSoftServices/getMuleToken`,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.sendMCO=e=>(this.getInstanceDetail(),m.sendMCO(e)),this.sendAutoReleaseMCOs=e=>l.A.post(`${n.Sb}/muleSoftServices/sendAutoReleaseMCOs`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getattributesbyid=e=>l.A.post(`${n.Sb}/mco/getattributesbyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMcoDetailsByName=e=>l.A.post(`${n.Sb}/mco/getMcoDetailsByName`,e,n.YX).then((e=>{if(200===e.status)return e.data})).catch((e=>e)),this.addattributes=e=>l.A.post(`${n.Sb}/mco/addattributes`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.mcoStatusValidation=e=>l.A.post(`${n.Sb}/mco/mcoStatusValidation`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateattributesbyid=e=>(this.getInstanceDetail(),m.updateattributesbyid(e)),this.updatePartListAndAttributes=e=>l.A.put(`${n.Sb}/mco/updatePartListAndAttributes`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updatePartListAndAddAttributes=e=>l.A.put(`${n.Sb}/mco/updatePartListAndAddAttributes`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getTemplateDetails=()=>l.A.get(`${n.Sb}/template/gettemplate`,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getPlantData=e=>l.A.get(`${n.Sb}/plant/getplants`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSourceData=e=>l.A.get(`${n.Sb}/sourceList/getSource`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMappingsData=e=>l.A.get(`${n.Sb}/api/mappings`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.itemvalidationbymcoid=e=>l.A.post(`${n.Sb}/acknowledgement/itemvalidation`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.BOMvalidationbymcoid=e=>l.A.post(`${n.Sb}/acknowledgement/bomValidation`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateFinalAcksDetails=e=>l.A.put(`${n.Sb}/mco/updateFinalAcksDetails`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.callLoggingInfo=e=>l.A.post(`${n.Sb}/log/addLogInfo`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getERPStatus=e=>l.A.post(`${n.Sb}/acknowledgement/getacknowledgementByItemId`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSourcePlantTemplate=e=>(this.getInstanceDetail(),m.getSourcePlantTemplate(e)),this.mcoRuleValidation=e=>l.A.post(`${n.Sb}/item/validation`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRRelatedDetailsbyid=e=>(this.getInstanceDetail(),m.getMRRelatedDetailsbyid(e)),this.addMRRelatedDetails=e=>l.A.post(`${n.Sb}/mrRelatedDetails/addMRRelatedDetails`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMRRelatedDetails=e=>l.A.put(`${n.Sb}/mrRelatedDetails/updateMRRelatedDetails`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRbyPartAndPlant=e=>(this.getInstanceDetail(),m.getMRbyPartAndPlant(e)),this.getMRForCAbyPartAndPlant=e=>l.A.post(`${n.Sb}/mrRelatedDetails/getMRForCAbyPartAndPlant`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getChildPartDetails=e=>l.A.post(`${n.Sb}/mrRelatedDetails/getChildPartDetails`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBusinessUnitbyid=e=>(this.getInstanceDetail(),m.getBusinessUnitbyid(e)),this.getMRDetailsByPartName=e=>l.A.post(`${n.Sb}/mrRelatedDetails/getMRDetailsByPartName`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getLifeCycleStatusByMCOName=e=>(this.getInstanceDetail(),m.getLifeCycleStatusByMCOName(e)),this.updateLifeCycleStatus=e=>l.A.post(`${n.Sb}/status/updateLifeCycleStatus`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.massUpdatePartDescription=e=>l.A.post(`${n.Sb}/massUpdate/massUpdatePartDescription`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.searchSpecCreationbyKey=e=>l.A.post(`${n.Sb}/specCreation/searchSpecCreationbykeyword`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.resendSpecCreation=e=>l.A.post(`${n.Sb}/specCreation/resendSpecCreation`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.searchObsoletePartbyKey=e=>l.A.post(`${n.Sb}/obsoletePart/searchObsoletePartbykeyword`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.resendObsoletePart=e=>l.A.post(`${n.Sb}/obsoletePart/resendObsoletePart`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.bulkUploadPartAndTemplate=e=>l.A.post(`${n.Sb}/mco/bulkUploadPartAndOracleTemp`,e,n.hh).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddTemplate",e),[]))),this.downloadSampleFile=e=>{window.open(`${n.Sb}/${e}`)},this.exportMCOData=e=>l.A.post(`${n.Sb}/mco/exportMCOData`,e,n.YX).then((async e=>{if(200===e.status){const a=`${n.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,c.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const n=await t.blob(),l=URL.createObjectURL(n),s=document.createElement("a");s.href=l,s.download=e.data.filePath,s.click(),URL.revokeObjectURL(l)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportTemplate:",e),e})),this.exportTableData=e=>l.A.post(`${n.Sb}/exportData/exportTableData`,e,n.YX).then((async e=>{if(200===e.status){const a=`${n.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,c.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const n=await t.blob(),l=URL.createObjectURL(n),s=document.createElement("a");s.href=l,s.download=e.data.filePath,s.click(),URL.revokeObjectURL(l)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportTemplate:",e),e})),this.getMcoHistorybyid=e=>l.A.post(`${n.Sb}/mcoHistory/getMcoHistorybyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))}}},97753:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(81637),l=a(46060),s=a(12604),i=a(92960);const r=(0,l.A)("div")((()=>({width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center","& img":{width:"auto",height:"25px"},"& .circleProgress":{position:"absolute",left:-7,right:0,top:"calc(50% - 25px)"}}))),o=()=>(0,i.jsx)(r,{children:(0,i.jsxs)(s.A,{position:"relative",children:[(0,i.jsx)("img",{src:"/assets/images/logo-circle.svg",alt:""}),(0,i.jsx)(n.A,{className:"circleProgress"})]})})},98500:(e,t,a)=>{"use strict";a.d(t,{FM:()=>l,YN:()=>s,kW:()=>n});const n=64,l=260,s=80}}]);
//# sourceMappingURL=847.45a8aac6.chunk.js.map