"use strict";(self.webpackChunkerp_product_hub=self.webpackChunkerp_product_hub||[]).push([[223],{223:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var o=r(43),n=r(391),d=r(579);const a=e=>{let{onDropSuccess:t}=e;const r=(0,o.useRef)(null);return(0,o.useEffect)((()=>{const e=e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy"},o=e=>{e.preventDefault();const r=e.dataTransfer.getData("text/plain");try{const e=JSON.parse(r);console.log("Dropped object:",e),t&&t(e)}catch(o){console.warn("Invalid drop data",o)}},n=r.current;return n&&(n.addEventListener("dragover",e),n.addEventListener("drop",o)),()=>{n&&(n.removeEventListener("dragover",e),n.removeEventListener("drop",o))}}),[t]),(0,d.jsxs)("div",{ref:r,className:"droppable-container mt-4",children:[(0,d.jsx)("img",{style:{width:"90px",height:"90px"},src:"https://thewhitechamaleon.github.io/testrapp/images/drag.png",alt:"Data Collect",className:"search-icon"}),(0,d.jsx)("span",{className:"drag-and-drop-text",children:"Drag and Drop your object here"})]})},s=()=>{const[e,t]=(0,o.useState)(null);return e?(0,d.jsxs)("div",{style:{padding:"2rem"},children:[(0,d.jsx)("h2",{children:"\ud83c\udf89 Object Successfully Dropped"}),(0,d.jsx)("pre",{children:JSON.stringify(e,null,2)})]}):(0,d.jsx)(a,{onDropSuccess:e=>{console.log("\u2705 Object Dropped:",e),t(e)}})};let c=null;function l(){if(window.widget){let e=!1;window.widget.addEvent("onLoad",(()=>{e?console.warn("[index.js] \u23f3 onLoad was already executed. Ignoring duplicate trigger."):(e=!0,function(){var e,t;requirejs(["DS/PlatformAPI/PlatformAPI"],(e=>{window.PlatformAPI=e}));let r=(null===(e=window.widget)||void 0===e||null===(t=e.body)||void 0===t?void 0:t.querySelector("#root"))||document.getElementById("root");r||(r=document.createElement("div"),r.id="root",window.widget&&window.widget.body?window.widget.body.appendChild(r):document.body.appendChild(r)),c||(c=n.createRoot(r)),c.render((0,d.jsx)(s,{}))}())}))}else console.error("[index.js] \u274c Widget not detected! onLoad cannot be registered.")}}}]);
//# sourceMappingURL=223.adcd7fc2.chunk.js.map