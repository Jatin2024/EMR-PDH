"use strict";(self.webpackChunkerp_product_hub=self.webpackChunkerp_product_hub||[]).push([[767],{46767:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(65043),i=n(11906),s=n(1009),a=n(93291),l=n(34535),d=n(71806),o=n(81e3),c=(n(21803),n(91048)),u=(n(30588),n(92960));(0,l.Ay)(d.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}})));const v=e=>{let{speclistsArr:t,selected:n,onSelectionChange:i}=e;const[s,a]=(0,r.useState)(0),[l,d]=(0,r.useState)(10),[v,h]=(0,r.useState)(t||[]),p=(0,r.useRef)(null);p&&p.current&&p.current.dataMap&&p.current.dataMap;return(0,r.useEffect)((()=>{h(t)}),[s,l,t]),(0,u.jsx)(o.A,{width:"100%",overflow:"auto",children:(0,u.jsx)(c.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:[{name:"SPEC_NAME",header:"Type",defaultFlex:1,defaultWidth:50,render:e=>{var t,n;let{data:r}=e;return(0,u.jsx)("div",{children:null===r||void 0===r||null===(t=r.BOSSpecs)||void 0===t||null===(n=t.BOS[0])||void 0===n?void 0:n.SPEC_NAME})}},{name:"SPEC_NUMBER",header:"Name",defaultFlex:1,defaultWidth:50,render:e=>{var t,n;let{data:r}=e;return(0,u.jsx)("div",{children:null===r||void 0===r||null===(t=r.BOSSpecs)||void 0===t||null===(n=t.BOS[0])||void 0===n?void 0:n.SPEC_NUMBER})}},{name:"SPEC_REVISION",header:"Revision",defaultFlex:1,defaultWidth:50,render:e=>{var t,n;let{data:r}=e;return(0,u.jsx)("div",{children:null===r||void 0===r||null===(t=r.BOSSpecs)||void 0===t||null===(n=t.BOS[0])||void 0===n?void 0:n.SPEC_REVISION})}},{name:"SPEC_DETAILS",header:"Description",defaultFlex:1,defaultWidth:50,render:e=>{var t,n;let{data:r}=e;return(0,u.jsx)("div",{children:null===r||void 0===r||null===(t=r.BOSSpecs)||void 0===t||null===(n=t.BOS[0])||void 0===n?void 0:n.SPEC_DETAILS})}},{name:"bosStatus",header:"Status",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,u.jsx)("div",{children:null===t||void 0===t?void 0:t.bosStatus})}},{name:"bosMessage",header:"Message",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,u.jsx)("div",{style:{textWrap:"wrap"},children:null!==t&&void 0!==t&&t.bosMessage&&""!==(null===t||void 0===t?void 0:t.bosMessage)?null===t||void 0===t?void 0:t.bosMessage:"-"})}}],dataSource:v,checkboxColumn:!0,selected:n,onSelectionChange:i,handle:e=>p.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===p||void 0===p||null===(e=p.current)||void 0===e?void 0:e.setScrollTop(0==(null===i||void 0===i?void 0:i.length)?0:null===p||void 0===p||null===(t=p.current)||void 0===t?void 0:t.getScrollTop())}})})};var h=n(66578),p=n(76987),m=n(68903),S=n(15795),x=n(51787);n(56659);const g=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),A=()=>{var e,t;const n=new a.f,[l,d]=(0,r.useState)(),[c,A]=(0,r.useState)({}),[f,y]=(0,r.useState)(!1),[b,j]=(0,r.useState)(!1),[E,C]=(0,r.useState)(null),[w,P]=(0,r.useState)([]),[k,M]=(0,r.useState)({}),[I,N]=(0,r.useState)(!0),R=(0,r.useRef)(null),L=null!==R&&void 0!==R&&null!==(e=R.current)&&void 0!==e&&e.dataMap?null===R||void 0===R||null===(t=R.current)||void 0===t?void 0:t.dataMap:null,B=e=>{try{y(!0);const t={...e,searchkey:e.searchkey+"*"};n.searchSpecCreationbyKey(t).then((e=>{e?(e.data.length?d(e.data):(j(!0),C({severity:"error",desc:"No result found!"})),y(!1)):(j(!0),C({severity:"error",desc:e}))})).catch((e=>e))}catch(t){return t}},O=(0,r.useCallback)((e=>{let{selected:t}=e;M(t),N(!1)}),[]);(0,r.useEffect)((()=>{var e;const t=!0===k?L:k,n=t&&(null===(e=Object.keys(t))||void 0===e?void 0:e.map((e=>t[e])))||[];P(n),n.forEach((e=>{"failed"===e.bosStatus&&N(!0)}))}),[k,L]);return(0,u.jsxs)(g,{children:[(0,u.jsx)(o.A,{className:"breadcrumb",children:(0,u.jsx)(s.Qp,{routeSegments:[{name:"Search Spec Creation"}]})}),(0,u.jsxs)(s.Tn,{children:[(0,u.jsxs)(m.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,u.jsx)(m.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:(0,u.jsxs)(m.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,u.jsx)(m.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,u.jsx)(S.A,{type:"text",name:"search",size:"small",onChange:e=>{e.persist(),A({searchkey:e.target.value})},onKeyDown:e=>{if("Enter"===e.key){const t={...c,searchkey:e.target.value};A(t),B(t)}},value:(null===c||void 0===c?void 0:c.searchkey)||"",style:{width:"100%"},InputProps:{endAdornment:(0,u.jsx)(x.A,{position:"end",children:"*"})}})}),(0,u.jsx)(m.Ay,{item:!0,md:6,sm:6,xs:12,children:(0,u.jsx)(i.A,{variant:"contained",onClick:()=>{B(c)},children:"Search"})}),(0,u.jsx)(m.Ay,{item:!0,md:3,sm:6,xs:12,alignItems:"right",children:(0,u.jsx)(i.A,{variant:"contained",disabled:!(1===(null===w||void 0===w?void 0:w.length)&&I),onClick:()=>{let e={id:w[0].id};y(!0),n.resendSpecCreation(e).then((e=>{e?(null!==e&&void 0!==e&&e.status&&(j(!0),C({severity:"success"===(null===e||void 0===e?void 0:e.status)?"success":"error",desc:null===e||void 0===e?void 0:e.msg})),y(!1)):(j(!0),C({severity:"error",desc:e})),y(!1)})).catch((e=>e))},style:{margin:"0 0px 0 10px"},children:"Re-send"})})]})}),(0,u.jsx)(m.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,u.jsx)(v,{speclistsArr:l||[],isLoading:f,selected:k,onSelectionChange:O})})]}),E?(0,u.jsx)(p.A,{openAlert:b,openDesc:E,setOpenAlert:j}):(0,u.jsx)(u.Fragment,{}),f?(0,u.jsx)("div",{style:{textAlign:"center"},children:(0,u.jsx)(h.A,{show:f})}):(0,u.jsx)(u.Fragment,{})]})]})}},51787:(e,t,n)=>{n.d(t,{A:()=>b});var r=n(98587),i=n(58168),s=n(65043),a=n(58387),l=n(98610),d=n(6803),o=n(85865),c=n(41053),u=n(85213),v=n(34535),h=n(92532),p=n(72372);function m(e){return(0,p.Ay)("MuiInputAdornment",e)}const S=(0,h.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var x,g=n(98206),A=n(92960);const f=["children","className","component","disablePointerEvents","disableTypography","position","variant"],y=(0,v.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,d.A)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{[`&.${S.positionStart}&:not(.${S.hiddenLabel})`]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),b=s.forwardRef((function(e,t){const n=(0,g.b)({props:e,name:"MuiInputAdornment"}),{children:v,className:h,component:p="div",disablePointerEvents:S=!1,disableTypography:b=!1,position:j,variant:E}=n,C=(0,r.A)(n,f),w=(0,u.A)()||{};let P=E;E&&w.variant,w&&!P&&(P=w.variant);const k=(0,i.A)({},n,{hiddenLabel:w.hiddenLabel,size:w.size,disablePointerEvents:S,position:j,variant:P}),M=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:s,variant:a}=e,o={root:["root",n&&"disablePointerEvents",i&&`position${(0,d.A)(i)}`,a,r&&"hiddenLabel",s&&`size${(0,d.A)(s)}`]};return(0,l.A)(o,m,t)})(k);return(0,A.jsx)(c.A.Provider,{value:null,children:(0,A.jsx)(y,(0,i.A)({as:p,ownerState:k,className:(0,a.A)(M.root,h),ref:t},C,{children:"string"!==typeof v||b?(0,A.jsxs)(s.Fragment,{children:["start"===j?x||(x=(0,A.jsx)("span",{className:"notranslate",children:"\u200b"})):null,v]}):(0,A.jsx)(o.A,{color:"text.secondary",children:v})}))})}))},56659:()=>{}}]);
//# sourceMappingURL=767.54440056.chunk.js.map