(self.webpackChunkerp_product_hub=self.webpackChunkerp_product_hub||[]).push([[847],{319:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(65043),l=a(29215);const s=()=>(0,n.useContext)(l.A)},1009:(e,t,a)=>{"use strict";a.d(t,{Qp:()=>g,SN:()=>y,T5:()=>z,Cm:()=>U,N:()=>gt,Tr:()=>Y.A,_I:()=>ee,lZ:()=>ae,wF:()=>le,Gd:()=>ot,Tn:()=>ut});var n=a(65043),l=a(34535),s=a(44208),i=a(26240),r=a(22698),o=a(35475),d=a(21803),c=a.n(d),m=a(92960);const u=(0,l.Ay)("div")((()=>({display:"flex",flexWrap:"wrap",alignItems:"center"}))),p=(0,l.Ay)("h4")((()=>({margin:0,fontSize:"16px",paddingBottom:"1px",verticalAlign:"middle",textTransform:"capitalize"}))),h=(0,l.Ay)("span")((e=>{let{theme:t}=e;return{textTransform:"capitalize",color:t.palette.text.secondary}})),x=((0,l.Ay)("h4")((e=>{let{theme:t}=e;return{margin:0,marginLeft:8,paddingBottom:"3px",color:t.palette.text.hint}})),(0,l.Ay)(s.A)((()=>({marginLeft:8,marginBottom:"4px",verticalAlign:"middle"})))),g=e=>{let{routeSegments:t}=e;const a=(0,i.A)().palette.text.hint;return(0,m.jsx)(u,{children:(0,m.jsxs)(r.A,{separator:(0,m.jsx)(s.A,{sx:{color:a},children:"navigate_next"}),sx:{display:"flex",alignItems:"center",position:"relative"},children:[(0,m.jsx)(o.NavLink,{to:"/calist",children:(0,m.jsx)(x,{color:"primary",children:"home"})}),t?t.map(((e,a)=>a!==t.length-1?(0,m.jsx)(o.NavLink,{to:e.path,children:(0,m.jsx)(h,{children:e.name},c().generate())},c().generate()):(0,m.jsx)(p,{children:e.name},c().generate()))):null]})})};var v=a(81045),A=a(81e3);const j=(0,l.Ay)(v.A)((()=>({height:"40px",width:"40px"}))),f=(0,l.Ay)("div")((e=>{let{theme:t,status:a}=e;return{height:"14px",width:"14px",bottom:"0px",right:"-3px",borderRadius:"7px",position:"absolute",border:"2px solid white",background:"online"===a?t.palette.primary.main:t.palette.error.main,color:"online"!==a&&"white !important"}})),y=e=>{let{src:t,status:a}=e;return(0,m.jsxs)(A.A,{position:"relative",children:[(0,m.jsx)(j,{src:t}),(0,m.jsx)(f,{status:a})]})};var b=a(17392),T=a(39336),E=a(15795),S=a(39787),w=a(90864),O=a.n(w),C=a(11472);const P=(0,l.Ay)("div")((()=>({height:"100%",display:"flex",flexDirection:"column",background:"#fff"}))),M=(0,l.Ay)(O())((()=>({flexGrow:1}))),D=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 12px 12px 20px",color:t.palette.primary.main,background:"#fafafa"}})),L=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{marginLeft:"12px",color:t.palette.primary.main,"& h5":{marginTop:0,fontSize:"14px",marginBottom:"3px"},"& span":{fontWeight:"500"}}})),N=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{padding:"8px",maxWidth:240,fontSize:"14px",borderRadius:"4px",marginBottom:"8px",whiteSpace:"pre-wrap",wordBreak:"break-word",color:t.palette.primary.main,background:"#fafafa"}})),_=(0,l.Ay)("span")((e=>{let{theme:t}=e;return{fontSize:"13px",fontWeight:"500",color:t.palette.primary.main}})),R=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{padding:"20px",display:"flex",justifyContent:"flex-end"}})),I=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{padding:"8px",fontSize:"14px",maxWidth:240,borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"flex-end",color:t.palette.primary.main,background:"#fafafa"}})),k=(0,l.Ay)("img")((()=>({width:"40px"}))),B=(0,l.Ay)(_)((()=>({}))),F=[],U=e=>{let{togglePopup:t}=e;const[a,l]=(0,n.useState)(!0),[r,o]=(0,n.useState)(""),[d,u]=(0,n.useState)([]),p="7863a6802ez0e277a0f98534",h=document.querySelector("#chat-scroll"),x=async()=>{setTimeout((()=>{let e={text:"Good to hear from you. enjoy!!!",contactId:"opponents contact id",avatar:"/assets/images/faces/13.jpg",name:"Frank Powell"};[...d].push(e),F.push(e),a&&u(F)}),2e3)},g=(0,n.useCallback)((()=>{h&&h.scrollTo({top:h.scrollHeight,behavior:"smooth"})}),[h]);(0,n.useEffect)((()=>{a&&u([{contactId:"323sa680b3249760ea21rt47",text:"Do you ever find yourself falling into the \u201cdiscount trap?\u201d",time:"2018-02-10T08:45:28.291Z",id:"323sa680b3249760ea21rt47",name:"Frank Powell",avatar:"/assets/images/faces/13.jpg",status:"online",mood:""},{contactId:"7863a6802ez0e277a0f98534",text:"Giving away your knowledge or product just to gain clients?",time:"2018-02-10T08:45:28.291Z",id:"7863a6802ez0e277a0f98534",name:"John Doe",avatar:"/assets/images/face-1.jpg",status:"online",mood:""},{contactId:"323sa680b3249760ea21rt47",text:"Yes",time:"2018-02-10T08:45:28.291Z",id:"323sa680b3249760ea21rt47",name:"Frank Powell",avatar:"/assets/images/faces/13.jpg",status:"online",mood:""},{contactId:"7863a6802ez0e277a0f98534",text:"Don\u2019t feel bad. It happens to a lot of us",time:"2018-02-10T08:45:28.291Z",id:"7863a6802ez0e277a0f98534",name:"John Doe",avatar:"/assets/images/face-1.jpg",status:"online",mood:""},{contactId:"323sa680b3249760ea21rt47",text:"Do you ever find yourself falling into the \u201cdiscount trap?\u201d",time:"2018-02-10T08:45:28.291Z",id:"323sa680b3249760ea21rt47",name:"Frank Powell",avatar:"/assets/images/faces/13.jpg",status:"online",mood:""},{contactId:"7863a6802ez0e277a0f98534",text:"Giving away your knowledge or product just to gain clients?",time:"2018-02-10T08:45:28.291Z",id:"7863a6802ez0e277a0f98534",name:"John Doe",avatar:"/assets/images/face-1.jpg",status:"online",mood:""},{contactId:"323sa680b3249760ea21rt47",text:"Yes",time:"2018-02-10T08:45:28.291Z",id:"323sa680b3249760ea21rt47",name:"Frank Powell",avatar:"/assets/images/faces/13.jpg",status:"online",mood:""},{contactId:"7863a6802ez0e277a0f98534",text:"Don\u2019t feel bad. It happens to a lot of us",time:"2018-02-10T08:45:28.291Z",id:"7863a6802ez0e277a0f98534",name:"John Doe",avatar:"/assets/images/face-1.jpg",status:"online",mood:""}])}),[a]),(0,n.useEffect)((()=>(g(),()=>l(!1))),[d,g]);const{palette:j}=(0,i.A)(),f=j.primary.main,w=j.text.primary;return(0,m.jsxs)(P,{children:[(0,m.jsxs)(D,{children:[(0,m.jsxs)(A.A,{display:"flex",alignItems:"center",children:[(0,m.jsx)(y,{src:"/assets/images/face-2.jpg",status:"online"}),(0,m.jsxs)(L,{children:[(0,m.jsx)(C.H5,{children:"Ryan Todd"}),(0,m.jsx)(C.L9,{children:"Active"})]})]}),(0,m.jsx)(b.A,{onClick:t,children:(0,m.jsx)(s.A,{fontSize:"small",children:"clear"})})]}),(0,m.jsxs)(M,{id:"chat-scroll",children:[d.map(((e,t)=>(0,m.jsxs)(A.A,{p:"20px",display:"flex",sx:{justifyContent:p===e.contactId&&"flex-end"},children:[p!==e.contactId&&(0,m.jsx)(v.A,{src:e.avatar}),(0,m.jsxs)(A.A,{ml:"12px",children:[p!==e.contactId&&(0,m.jsx)(C.H5,{sx:{mb:"4px",fontSize:"14px",color:f},children:e.name}),(0,m.jsx)(N,{children:e.text}),(0,m.jsx)(_,{children:"1 minute ago"})]})]},c().generate()))),(0,m.jsx)(R,{children:(0,m.jsxs)(A.A,{ml:"12px",children:[(0,m.jsxs)(I,{children:[(0,m.jsx)(k,{alt:"laptop",src:"/assets/images/laptop-1.png"}),(0,m.jsxs)(A.A,{ml:"12px",children:[(0,m.jsx)(C.H6,{sx:{mt:0,mb:"4px"},children:"Asus K555LA.png"}),(0,m.jsx)(B,{children:"21.5KB"})]})]}),(0,m.jsx)(_,{children:"1 minute ago"})]})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)(T.A,{sx:{background:`rgba(${(0,S.zs)(w)}, 0.15)`}}),(0,m.jsx)(E.A,{placeholder:"Type here ...",multiline:!0,rowsMax:4,fullWidth:!0,sx:{"& textarea":{color:f}},InputProps:{endAdornment:(0,m.jsxs)(A.A,{display:"flex",children:[(0,m.jsx)(b.A,{size:"small",children:(0,m.jsx)(s.A,{children:"tag_faces"})}),(0,m.jsx)(b.A,{size:"small",children:(0,m.jsx)(s.A,{children:"attachment"})})]}),classes:{root:"pl-5 pr-3 py-3 text-body"}},value:r,onChange:e=>o(e.target.value),onKeyUp:e=>{if("Enter"===e.key&&!e.shiftKey){let e=r.trim();if(""!==e){let t=[...d],n={text:e,contactId:p};t.push(n),F.push(n),a&&u(t),x()}o("")}}})]})]})};var W=a(98500),$=a(58387);const V=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{"& .popupOpen":{top:W.kW+16,[t.breakpoints.down("sm")]:{bottom:0}},"& .closeIcon":{position:"absolute",top:6,right:6}}})),G=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{position:"fixed",right:t.spacing(2),bottom:t.spacing(2),top:"100vh",transition:"top 250ms ease-in-out",boxShadow:t.shadows[6],borderRadius:6,zIndex:99999,width:360,overflow:"hidden","@media only screen and (max-width: 450px)":{width:"calc(100% - 32px)",left:t.spacing(2)}}})),z=e=>{let{icon:t,children:a}=e;const[l,s]=(0,n.useState)(!1),i=async()=>{s((e=>!e))};return(0,m.jsxs)(V,{children:[(0,n.cloneElement)(t,{onClick:i}),(0,m.jsx)(G,{className:(0,$.A)({popupOpen:l}),children:l?(0,n.cloneElement)(a,{togglePopup:i}):null})]})};var H=a(11906);(0,l.Ay)("div")((()=>({width:360,padding:"32px",textAlign:"center",marginLeft:"auto",marginRight:"auto"}))),(0,l.Ay)("h4")((()=>({margin:0,marginBottom:"8px",textTransform:"capitalize"}))),(0,l.Ay)("div")((()=>({margin:"8px",paddingTop:"8px",display:"flex",justifyContent:"center"}))),(0,l.Ay)(H.A)((e=>{let{theme:t}=e;return{margin:"8px",paddingLeft:"24px",paddingRight:"24px",overflow:"hidden",borderRadius:"300px",transition:"all 250ms","&.yesBtn":{"&:hover":{color:"#ffffff",background:`${t.palette.primary.main} !important`,backgroundColor:`${t.palette.primary.main} !important`,fallbacks:[{color:"white !important"}]}},"&.noBtn":{"&:hover":{color:"#ffffff",background:`${t.palette.secondary.main} !important`,backgroundColor:`${t.palette.secondary.main} !important`,fallbacks:[{color:"white !important"}]}}}}));a(62050),a(33004);var Y=a(97753),X=a(31949);var q=a(45969),K=a(72437),Q=a(46060),Z=a(12604);const J=(0,Q.A)(Z.A)((e=>{let{theme:t}=e;return{display:"inline-block",color:t.palette.text.primary,"& div:hover":{backgroundColor:t.palette.action.hover}}})),ee=e=>{const[t,a]=n.useState(null),l=n.Children.toArray(e.children);let{shouldCloseOnItemClick:s=!0,horizontalPosition:i="left"}=e;const{settings:r}=(0,X.A)(),o=()=>{a(null)};return(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(J,{onClick:e=>{a(e.currentTarget)},children:e.menuButton}),(0,m.jsx)(q.A,{theme:r.themes[r.activeTheme],children:(0,m.jsx)(K.A,{elevation:8,getContentAnchorEl:null,anchorEl:t,open:!!t,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:i},transformOrigin:{vertical:"top",horizontal:i},children:l.map(((e,t)=>(0,m.jsx)("div",{onClick:s&&o,children:e},c().generate())))})})]})};var te=a(10611);(0,Q.A)(te.A)((()=>({borderRadius:2,background:"rgba(0, 0, 0, 0.1)"}))),(0,Q.A)("div")((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:9,width:"100%",display:"flex",alignItems:"center",height:W.kW,background:t.palette.primary.main,color:t.palette.text.primary,"&::placeholder":{color:t.palette.text.primary}}})),(0,Q.A)("input")((e=>{let{theme:t}=e;return{width:"100%",border:"none",outline:"none",fontSize:"1rem",paddingLeft:"20px",height:"calc(100% - 5px)",background:t.palette.primary.main,color:t.palette.text.primary,"&::placeholder":{color:t.palette.text.primary}}})),(0,l.Ay)("div")((e=>{let{theme:t,width:a}=e;return{zIndex:91,width:a,overflow:"hidden",position:"relative",transition:"width 250ms ease",background:t.palette.background.default,[t.breakpoints.down("sm")]:{top:0,left:0,bottom:0,position:"absolute"}}})),(0,l.Ay)("div")((()=>({zIndex:90,width:"100%",height:"100%",position:"absolute",background:"rgba(0, 0, 0, 0.74)"}))),(0,l.Ay)("div")((()=>({height:"100%",display:"flex",position:"relative"}))),(0,l.Ay)("div")((()=>({flexGrow:1,height:"100%",position:"relative"})));const ae=e=>{let{children:t}=e;return(0,m.jsx)(n.Suspense,{fallback:(0,m.jsx)(Y.A,{}),children:t})};a(39451);var ne=a(55376);const le=e=>{let{children:t}=e;const{settings:a}=(0,X.A)();let n={...a.themes[a.activeTheme]};return(0,m.jsxs)(q.A,{theme:n,children:[(0,m.jsx)(ne.Ay,{}),t]})};var se=a(30344),ie=a(75429),re=a(45527),oe=a(73216);const de=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{"& .expandIcon":{transition:"transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms",transform:"rotate(90deg)",color:t.palette.common.white},"& .collapseIcon":{transition:"transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms",transform:"rotate(0deg)",color:t.palette.common.white},"& .expansion-panel":{overflow:"hidden",transition:"max-height 0.3s cubic-bezier(0, 0, 0.2, 1)"},"& .highlight":{background:t.palette.primary.main},"&.compactNavItem":{width:44,overflow:"hidden",justifyContent:"center !important","& .itemText":{display:"none"},"& .itemIcon":{display:"none"}}}})),ce=(0,l.Ay)(ie.A)((e=>{let{theme:t}=e;return{height:44,width:"100%",whiteSpace:"pre",overflow:"hidden",paddingRight:"16px",borderRadius:"4px",marginBottom:"8px",display:"flex",justifyContent:"space-between !important",color:t.palette.text.primary,"&:hover":{background:"rgba(255, 255, 255, 0.08)"},"& .icon":{width:36,fontSize:"18px",paddingLeft:"16px",paddingRight:"16px",verticalAlign:"middle",color:"white"}}})),me=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{width:4,height:4,color:"inherit",overflow:"hidden",marginLeft:"20px",marginRight:"8px",borderRadius:"300px !important",background:t.palette.primary.contrastText}})),ue=(0,l.Ay)("span")((e=>{let{theme:t}=e;return{fontSize:"0.875rem",paddingLeft:"0.8rem",verticalAlign:"middle",color:t.palette.common.white}})),pe=(0,l.Ay)("div")((()=>({padding:"1px 4px",overflow:"hidden",borderRadius:"300px"}))),he=e=>{let{item:t,children:a,mode:l}=e;const[i,r]=(0,n.useState)(!0),o=(0,n.useRef)(null),d=(0,n.useRef)(0),{pathname:c}=(0,oe.zy)(),{name:u,icon:p,iconText:h,badge:x}=t,g=(0,n.useCallback)((e=>{if("child"!==e.name)for(let t of e.children)g(t);"child"===e.name?d.current+=e.scrollHeight:d.current+=44}),[]);return(0,n.useEffect)((()=>{if(o){g(o.current);for(let e of o.current.children)e.getAttribute("href")!==c&&"Search"!==u||r(!1)}}),[c,g,u]),(0,m.jsxs)(de,{children:[(0,m.jsxs)(ce,{className:(0,$.A)({"has-submenu compactNavItem":!0,compactNavItem:"compact"===l,open:!i}),onClick:e=>(e=>{var t;(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.closest(".submenu"))||(d.current=0,g(o.current),r(!i))})(e),children:[(0,m.jsxs)(Z.A,{display:"flex",alignItems:"center",children:[p&&(0,m.jsx)(s.A,{className:"icon",children:p}),h&&(0,m.jsx)(me,{}),(0,m.jsx)(ue,{className:"sidenavHoverShow",children:u})]}),x&&(0,m.jsx)(pe,{className:"sidenavHoverShow itemIcon",children:x.value}),(0,m.jsx)("div",{className:(0,$.A)({sidenavHoverShow:!0,collapseIcon:i,expandIcon:!i}),children:(0,m.jsx)(s.A,{fontSize:"small",sx:{verticalAlign:"middle"},children:"chevron_right"})})]}),(0,m.jsx)("div",{ref:o,className:"expansion-panel submenu",style:i?{maxHeight:"0px"}:{maxHeight:d.current+"px"},children:a})]})},xe=n.memo(he);var ge=a(83462),ve=a(29347),Ae=a(35316),je=a(98533),fe=a(26600),ye=a(42895),be=a(83051),Te=a(62954),Ee=a(71806),Se=a(73460),we=a(28076),Oe=a(10039),Ce=a(53193),Pe=a(18356),Me=a(72221),De=a(37970),Le=a(40794),Ne=a(67254),_e=a(40490),Re=a(319);const Ie=n.forwardRef((function(e,t){return(0,m.jsx)(Ne.A,{elevation:6,ref:t,variant:"filled",...e})})),ke=(0,l.Ay)(Ee.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Be=(0,l.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),Fe=((0,l.Ay)(ge.A)((e=>{let{theme:t}=e;return{"& .MuiDialog-paper-root":{backgroundColor:"#ffffff"},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),e=>{var t,a,l,s,i,r,o,d;new ye.D;const u=new be.i,{importMassupdateFile:p,setImportMassupdateFile:h,setOpenAlert:x,setOpenDesc:g,setIsLoading:v}=e,[j,f]=(0,n.useState)(!1),[y,b]=(0,n.useState)(!1),[T,E]=(0,n.useState)(!1),[S,w]=(0,n.useState)(null),[O,C]=(0,n.useState)(null),[P,M]=(0,n.useState)(null),D=localStorage.getItem("instance"),{bussinessUnitLists:L}=(0,Re.A)(),[N,_]=(0,n.useState)(!1),[R,I]=(0,n.useState)({BU:""}),k=(e,t)=>{"clickaway"!==t&&E(!1)};(0,n.useEffect)((()=>{null===L||void 0===L||L.length}),[L]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(ge.A,{open:p,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,m.jsx)(fe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Mass Update Part Description in Enovia and ERP"}),(0,m.jsx)(Ae.A,{children:(0,m.jsx)(je.A,{children:(0,m.jsx)(A.A,{width:"100%",overflow:"auto",children:(0,m.jsx)(ke,{children:(0,m.jsxs)(Se.A,{children:[(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Design Organization"}),(0,m.jsxs)(Oe.A,{align:"left",children:[(0,m.jsxs)(Ce.A,{fullWidth:!0,children:[(0,m.jsx)(Pe.A,{id:"bussinessUnit",children:"Select RDO"}),(0,m.jsx)(Me.A,{labelId:"bussinessUnit",id:"bussinessUnit",name:"BU",size:"medium",label:"Select RDO",fullWidth:!0,style:{width:"70%",maxHeight:"200px"},value:R.BU?R.BU:"",onChange:e=>{I((t=>({...t,[e.target.name]:e.target.value}))),"BU"===e.target.name&&_(!1)},children:null===L||void 0===L?void 0:L.map((e=>(0,m.jsx)(De.A,{value:e.buName,style:{backgroundColor:"#fff"},children:e.buName},e.buName)))})]}),N&&(0,m.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Instance"}),(0,m.jsx)(Oe.A,{align:"left",children:(0,m.jsx)(Pe.A,{id:"bussinessUnit",children:D})})]}),(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Upload File (Excel File)"}),(0,m.jsxs)(Oe.A,{align:"left",children:[(0,m.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,m.jsxs)(H.A,{component:"label",variant:"contained",startIcon:(0,m.jsx)(Te.A,{}),children:["Upload file",(0,m.jsx)(Be,{type:"file",name:"file",accept:".xls, .xlsx",onChange:e=>{console.log("file selected");const t=e.target.files[0];if(t){const a=t.name.split(".").pop();"xlsx"===a||"xls"===a?(w(e.target.files[0]),C(e.target.files[0].name),f(!1)):(f(!0),C(null),w(null))}else f(!0),C(null),w(null)}})]}),j&&(0,m.jsx)("p",{children:"Please Select xlsx file to Upload "})]}),O&&(0,m.jsx)("p",{children:O})]})]}),(0,m.jsx)(we.A,{children:(0,m.jsxs)(Oe.A,{colSpan:2,children:[(0,m.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,m.jsx)("a",{onClick:()=>{u.downloadSampleFile("massUpdate/sample-massUpdatepartDescription.xlsx")},download:"Example-XLSX-document",rel:"noreferrer",style:{color:"blue",cursor:"pointer"},children:"Click Here"})," to download the sample Excel template for the Part Description Update."]}),(0,m.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,m.jsx)("b",{children:"Note:"})," Use only the Excel template, downloaded from this page. Other Excel templates will not be accepted. The Excel file has four columns with Header labels in the following order. Fields mark with * are the mandatory fields in the input excel."]}),(0,m.jsxs)("div",{style:{paddingTop:"10px"},children:["Part Type*",(0,m.jsx)("br",{}),"Part Name*",(0,m.jsx)("br",{}),"Part Revision*",(0,m.jsx)("br",{}),"Part Description*",(0,m.jsx)("br",{})]})]})})]})})})})}),(0,m.jsxs)(ve.A,{children:[(0,m.jsx)(H.A,{onClick:()=>{let e=!1;if((null===R.BU||R.BU.length<1)&&(_(!0),e=!0),(null===S||S.length<1)&&(f(!0),e=!0),!e&&null!==S){if(window.confirm("You have requested a report that will take some time to complete. This report will continue to run if you close this browser window. To access this report later, use 'Mass Update Part Description' > My Report.")){h(!1),v(!0),console.log("ok for mass update");let e={file:S,data:{BU:R.BU,Instance:D}};console.log(e,"postData"),u.massUpdatePartDescription(e).then((e=>{console.log(e,"response 11111"),b(e),E(!0),w(null),C(null),h(!1),v(!1),x(!1),"success"===(null===e||void 0===e?void 0:e.status)?(x(!0),g({severity:"success",desc:null===e||void 0===e?void 0:e.msg})):"failed"===(null===e||void 0===e?void 0:e.status)&&(x(!0),g({severity:"error",desc:null===e||void 0===e?void 0:e.msg}))}))}console.log("cancle for mass update")}},children:"Done"}),(0,m.jsx)(H.A,{autoFocus:!0,onClick:()=>{w(null),h(!1)},children:"Cancel"})]})]}),(0,m.jsx)(Le.A,{open:T,autoHideDuration:6e3,onClose:k,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,m.jsxs)(Ie,{onClose:k,severity:!y||null!==y&&void 0!==y&&null!==(t=y.errorInTemplate)&&void 0!==t&&t.length||null!==y&&void 0!==y&&null!==(a=y.errorInPlants)&&void 0!==a&&a.length?"error":"success",sx:{width:"100%"},children:[(0,m.jsx)(_e.A,{children:!y||null!==y&&void 0!==y&&null!==(l=y.errorInTemplate)&&void 0!==l&&l.length||null!==y&&void 0!==y&&null!==(s=y.errorInPlants)&&void 0!==s&&s.length?"Error":"Success"}),y&&(null!==y&&void 0!==y&&null!==(i=y.errorInTemplate)&&void 0!==i&&i.length||null!==y&&void 0!==y&&null!==(r=y.errorInPlants)&&void 0!==r&&r.length)?(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{children:[null===y||void 0===y?void 0:y.msg," ",(0,m.jsx)("br",{}),null!==y&&void 0!==y&&y.errorInTemplateCount?(0,m.jsxs)(m.Fragment,{children:["Total Template Count: ",null===y||void 0===y?void 0:y.errorInTemplateCount," ",(0,m.jsx)("br",{}),"Templates are: ",(0,m.jsx)("br",{}),(0,m.jsx)("ul",{children:null===y||void 0===y||null===(o=y.errorInTemplate)||void 0===o?void 0:o.map((e=>(0,m.jsx)("li",{children:e},c().generate())))})]}):(0,m.jsx)(m.Fragment,{}),null!==y&&void 0!==y&&y.errorInPlantCount?(0,m.jsxs)(m.Fragment,{children:["Total Plant Count: ",null===y||void 0===y?void 0:y.errorInPlantCount," ",(0,m.jsx)("br",{}),"Plants are: ",(0,m.jsx)("br",{}),(0,m.jsx)("ul",{children:null===y||void 0===y||null===(d=y.errorInPlants)||void 0===d?void 0:d.map((e=>(0,m.jsx)("li",{children:e},c().generate())))})]}):(0,m.jsx)(m.Fragment,{})]})}):(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{children:[y.msg," ",(0,m.jsx)("br",{}),"Parts Description Updated: ",y.updateTemplates," ",(0,m.jsx)("br",{})]})})]})})]})});var Ue=a(88270),We=a(57972),$e=a(74605),Ve=a(14256),Ge=a(81807);const ze=(0,l.Ay)(Ee.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),He=e=>{new ye.D;const t=new Ue.W,{exportAllTempMapping:a,setExportAllTempMapping:l}=e,[s,i]=(0,n.useState)(null),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(null),{bussinessUnitLists:u}=(0,Re.A)(),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)({BU:"",dataToExport:"masterData"}),v=e=>{g((t=>({...t,[e.target.name]:e.target.value}))),"BU"===e.target.name&&h(!1),console.info(e.target,"importSelectionValues")};return(0,n.useEffect)((()=>{null===u||void 0===u||u.length}),[]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(ge.A,{open:a,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,m.jsx)(fe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export All Template Mappings"}),(0,m.jsx)(Ae.A,{children:(0,m.jsx)(je.A,{children:(0,m.jsx)(A.A,{width:"100%",overflow:"auto",children:(0,m.jsx)(ze,{children:(0,m.jsxs)(Se.A,{children:[(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Design Organization"}),(0,m.jsxs)(Oe.A,{align:"left",children:[(0,m.jsxs)(Ce.A,{fullWidth:!0,children:[(0,m.jsx)(Pe.A,{id:"bussinessUnit",children:"Select RDO"}),(0,m.jsx)(Me.A,{labelId:"bussinessUnit",id:"bussinessUnit",name:"BU",size:"medium",label:"Select RDO",fullWidth:!0,style:{width:"70%",maxHeight:"200px"},value:x.BU?x.BU:"",onChange:v,children:null===u||void 0===u?void 0:u.map((e=>(0,m.jsx)(De.A,{value:e.buName,style:{backgroundColor:"#fff"},children:e.buName},e.buName)))})]}),p&&(0,m.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Data to Export"}),(0,m.jsxs)(Oe.A,{align:"left",children:[(0,m.jsx)("div",{style:{paddingTop:"10px"},children:(0,m.jsx)(Ce.A,{children:(0,m.jsxs)(We.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"dataToExport",defaultValue:"masterData",onChange:v,children:[(0,m.jsx)($e.A,{value:"masterData",control:(0,m.jsx)(Ve.A,{}),label:"Master Data"}),(0,m.jsx)($e.A,{value:"draftData",control:(0,m.jsx)(Ve.A,{}),label:"Proposed Changes"})]})})}),s&&(0,m.jsx)("p",{children:s})]})]})]})})})})}),(0,m.jsxs)(ve.A,{children:[(0,m.jsx)(H.A,{onClick:()=>{let e=!1;if((null===x.BU||x.BU.length<1)&&(h(!0),e=!0),e)return;let a={rdo:x.BU,dataToExport:x.dataToExport};console.log(a,"postData"),t.exportAllTemplateMapping(a).then((e=>{console.log(e,"response 11111"),i(null),o(!0),c({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),l(!1)}))},children:"Done"}),(0,m.jsx)(H.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"})]})]}),d?(0,m.jsx)(Ge.A,{openAlert:r,openDesc:d,setOpenAlert:o}):(0,m.jsx)(m.Fragment,{})]})},Ye=(0,l.Ay)(Ee.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Xe=e=>{new ye.D;const t=new Ue.W,{exportAllAdminGeneralPropertiesDialog:a,setExportAllAdminGeneralPropertiesDialog:l}=e,[s,i]=(0,n.useState)(null),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(null),{bussinessUnitLists:u}=(0,Re.A)(),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)({BU:"",dataToExport:"masterData"}),v=e=>{g((t=>({...t,[e.target.name]:e.target.value}))),"BU"===e.target.name&&h(!1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(ge.A,{open:a,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,m.jsx)(fe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export All Admin General Properties"}),(0,m.jsx)(Ae.A,{children:(0,m.jsx)(je.A,{children:(0,m.jsx)(A.A,{width:"100%",overflow:"auto",children:(0,m.jsx)(Ye,{children:(0,m.jsxs)(Se.A,{children:[(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Design Organization"}),(0,m.jsxs)(Oe.A,{align:"left",children:[(0,m.jsxs)(Ce.A,{fullWidth:!0,children:[(0,m.jsx)(Pe.A,{id:"bussinessUnit",children:"Select RDO"}),(0,m.jsx)(Me.A,{labelId:"bussinessUnit",id:"bussinessUnit",name:"BU",size:"medium",label:"Select RDO",fullWidth:!0,style:{width:"70%",maxHeight:"200px"},value:x.BU?x.BU:"",onChange:v,children:null===u||void 0===u?void 0:u.map((e=>(0,m.jsx)(De.A,{value:e.buName,style:{backgroundColor:"#fff"},children:e.buName},e.buName)))})]}),p&&(0,m.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Data to Export"}),(0,m.jsxs)(Oe.A,{align:"left",children:[(0,m.jsx)("div",{style:{paddingTop:"10px"},children:(0,m.jsx)(Ce.A,{children:(0,m.jsxs)(We.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"dataToExport",defaultValue:"masterData",onChange:v,children:[(0,m.jsx)($e.A,{value:"masterData",control:(0,m.jsx)(Ve.A,{}),label:"Master Data"}),(0,m.jsx)($e.A,{value:"draftData",control:(0,m.jsx)(Ve.A,{}),label:"Proposed Changes"})]})})}),s&&(0,m.jsx)("p",{children:s})]})]})]})})})})}),(0,m.jsxs)(ve.A,{children:[(0,m.jsx)(H.A,{onClick:()=>{let e=!1;if((null===x.BU||x.BU.length<1)&&(h(!0),e=!0),e)return;let a={rdo:x.BU,dataToExport:x.dataToExport};t.exportAllAdminGeneralProperties(a).then((e=>{console.log(e,"response 11111"),i(null),o(!0),c({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),l(!1)}))},children:"Done"}),(0,m.jsx)(H.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"})]})]}),d?(0,m.jsx)(Ge.A,{openAlert:r,openDesc:d,setOpenAlert:o}):(0,m.jsx)(m.Fragment,{})]})};var qe=a(76987),Ke=a(66578);const Qe=(0,l.Ay)(Ee.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Ze=e=>{new ye.D;const t=new Ue.W,{exportAllAdminSystemSetupsDialog:a,setExportAllAdminSystemSetupsDialog:l}=e,[s,i]=(0,n.useState)(null),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(null),{bussinessUnitLists:u}=(0,Re.A)(),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)({BU:"",dataToExport:"masterData"}),v=e=>{g((t=>({...t,[e.target.name]:e.target.value}))),"BU"===e.target.name&&h(!1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(ge.A,{open:a,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,m.jsx)(fe.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export All Admin System System"}),(0,m.jsx)(Ae.A,{children:(0,m.jsx)(je.A,{children:(0,m.jsx)(A.A,{width:"100%",overflow:"auto",children:(0,m.jsx)(Qe,{children:(0,m.jsxs)(Se.A,{children:[(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Design Organization"}),(0,m.jsxs)(Oe.A,{align:"left",children:[(0,m.jsxs)(Ce.A,{fullWidth:!0,children:[(0,m.jsx)(Pe.A,{id:"bussinessUnit",children:"Select RDO"}),(0,m.jsx)(Me.A,{labelId:"bussinessUnit",id:"bussinessUnit",name:"BU",size:"medium",label:"Select RDO",fullWidth:!0,style:{width:"70%",maxHeight:"200px"},value:x.BU?x.BU:"",onChange:v,children:null===u||void 0===u?void 0:u.map((e=>(0,m.jsx)(De.A,{value:e.buName,style:{backgroundColor:"#fff"},children:e.buName},e.buName)))})]}),p&&(0,m.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,m.jsxs)(we.A,{children:[(0,m.jsx)(Oe.A,{align:"left",children:"Data to Export"}),(0,m.jsxs)(Oe.A,{align:"left",children:[(0,m.jsx)("div",{style:{paddingTop:"10px"},children:(0,m.jsx)(Ce.A,{children:(0,m.jsxs)(We.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"dataToExport",defaultValue:"masterData",onChange:v,children:[(0,m.jsx)($e.A,{value:"masterData",control:(0,m.jsx)(Ve.A,{}),label:"Master Data"}),(0,m.jsx)($e.A,{value:"draftData",control:(0,m.jsx)(Ve.A,{}),label:"Proposed Changes"})]})})}),s&&(0,m.jsx)("p",{children:s})]})]})]})})})})}),(0,m.jsxs)(ve.A,{children:[(0,m.jsx)(H.A,{onClick:()=>{let e=!1;if((null===x.BU||x.BU.length<1)&&(h(!0),e=!0),e)return;let a={rdo:x.BU,dataToExport:x.dataToExport};t.exportAllAdminSystemSetups(a).then((e=>{console.log(e,"response 11111"),i(null),o(!0),c({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),l(!1)}))},children:"Done"}),(0,m.jsx)(H.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"})]})]}),d?(0,m.jsx)(Ge.A,{openAlert:r,openDesc:d,setOpenAlert:o}):(0,m.jsx)(m.Fragment,{})]})},Je=(0,l.Ay)(C.fz)((e=>{let{theme:t,mode:a}=e;return{fontSize:"12px",marginTop:"20px",marginLeft:"15px",marginBottom:"10px",textTransform:"uppercase",display:"compact"===a&&"none",color:t.palette.text.secondary}})),et={display:"flex",overflow:"hidden",borderRadius:"4px",height:44,whiteSpace:"pre",marginBottom:"8px",textDecoration:"none",justifyContent:"space-between",transition:"all 150ms ease-in","&:hover":{background:"rgba(255, 255, 255, 0.08)"},"&.compactNavItem":{overflow:"hidden",justifyContent:"center !important"},"& .icon":{fontSize:"18px",paddingLeft:"16px",paddingRight:"16px",verticalAlign:"middle"}},tt=(0,l.Ay)("a")((e=>{let{theme:t}=e;return{...et,color:t.palette.text.primary}})),at=(0,l.Ay)(A.A)((e=>{let{theme:t}=e;return{"& a":{...et,color:t.palette.text.primary},"& .navItemActive":{backgroundColor:"rgba(255, 255, 255, 0.16)"}}})),nt=(0,l.Ay)(C.L9)((e=>{let{mode:t,theme:a}=e;return{fontSize:"0.875rem",paddingLeft:"0.8rem",display:"compact"===t&&"none",color:a.palette.common.white}})),lt=(0,l.Ay)(C.L9)((e=>{let{mode:t,theme:a}=e;return{fontSize:"0.875rem",paddingLeft:"0.8rem",display:"compact"===t&&"none",color:a.palette.common.white}})),st=(0,l.Ay)("div")((e=>{let{theme:t}=e;return{padding:"2px",marginLeft:"24px",marginRight:"8px",overflow:"hidden",borderRadius:"300px",background:t.palette.common.white}})),it=(0,l.Ay)("div")((()=>({padding:"1px 8px",overflow:"hidden",borderRadius:"300px"}))),rt=e=>{let{items:t}=e;const{settings:a,updateSettings:l}=(0,X.A)(),[i,r]=(0,n.useState)(!1),{mode:d}=a.layout1Settings.leftSidebar,u=(0,re.A)(),p=(0,se.A)(u.breakpoints.down("md")),[h,x]=(0,n.useState)(!1),[g,v]=(0,n.useState)(!1),[j,f]=(0,n.useState)(!1),[y,b]=(0,n.useState)(!1),[T,E]=(0,n.useState)(null),[S,w]=(0,n.useState)(!1),O=e=>{"massUpdate"===e?x(!0):"exportAll"===e?v(!0):"exportAllAdminGeneralProperties"===e?f(!0):"exportAllAdminSystemSetups"===e&&w(!0)},C=()=>{p&&P({mode:"close"})},P=e=>{let t=a.activeLayout+"Settings",n=a[t];l({...a,[t]:{...n,leftSidebar:{...n.leftSidebar,...e}}})},M=e=>e.map(((e,t)=>"label"===e.type?(0,m.jsx)(Je,{mode:d,className:"sidenavHoverShow",children:e.label},c().generate()):e.children?(0,m.jsx)(xe,{mode:d,item:e,children:(0,m.jsx)("div",{style:{marginLeft:"20px"},children:M(e.children)})}):"extLink"===e.type?(0,m.jsx)(tt,{href:e.path,className:`${"compact"===d&&"compactNavItem"}`,rel:"noopener noreferrer",target:"_blank",children:(0,m.jsxs)(ie.A,{name:"child",sx:{width:"100%"},children:[e.icon?(0,m.jsx)(s.A,{className:"icon",children:e.icon}):(0,m.jsx)("span",{className:"item-icon icon-text",children:e.iconText}),(0,m.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(A.A,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{children:e.badge.value})]},e.name)},c().generate()):"popup3"===e.type?(0,m.jsx)(at,{children:void 0===e.type||"popup3"===e.type||"popup"!==e.type?(0,m.jsx)(m.Fragment,{children:"popup3"===e.type?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.NavLink,{children:(0,m.jsxs)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(A.A,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)}),(0,m.jsx)(Xe,{exportAllAdminGeneralPropertiesDialog:j,setExportAllAdminGeneralPropertiesDialog:f})]}):(0,m.jsx)(o.NavLink,{onClick:C,to:`${e.path}`,className:e=>{let{isActive:t}=e;return t?`navItemActive ${"compact"===d&&"compactNavItem"}`:`${"compact"===d&&"compactNavItem"}`},children:(0,m.jsxs)(ie.A,{name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(A.A,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(at,{children:(0,m.jsx)(o.NavLink,{children:(0,m.jsx)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name})]})},e.name)})},c().generate()),(0,m.jsx)(Fe,{importMassupdateFile:h,setImportMassupdateFile:x,setOpenAlert:b,setOpenDesc:E,setIsLoading:r}),T?(0,m.jsx)(qe.A,{openAlert:y,openDesc:T,setOpenAlert:b}):(0,m.jsx)(m.Fragment,{}),i?(0,m.jsx)("div",{className:"textAlignCenter",children:(0,m.jsx)(Ke.A,{show:i})}):(0,m.jsx)(m.Fragment,{})]})},c().generate()):"popup6"===e.type?(0,m.jsx)(at,{children:void 0===e.type||"popup6"===e.type||"popup"!==e.type?(0,m.jsx)(m.Fragment,{children:"popup6"===e.type?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.NavLink,{children:(0,m.jsxs)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(A.A,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)}),(0,m.jsx)(Ze,{exportAllAdminSystemSetupsDialog:S,setExportAllAdminSystemSetupsDialog:w})]}):(0,m.jsx)(o.NavLink,{onClick:C,to:`${e.path}`,className:e=>{let{isActive:t}=e;return t?`navItemActive ${"compact"===d&&"compactNavItem"}`:`${"compact"===d&&"compactNavItem"}`},children:(0,m.jsxs)(ie.A,{name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(A.A,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(at,{children:(0,m.jsx)(o.NavLink,{children:(0,m.jsx)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name})]})},e.name)})},c().generate()),(0,m.jsx)(Fe,{importMassupdateFile:h,setImportMassupdateFile:x,setOpenAlert:b,setOpenDesc:E,setIsLoading:r}),T?(0,m.jsx)(qe.A,{openAlert:y,openDesc:T,setOpenAlert:b}):(0,m.jsx)(m.Fragment,{}),i?(0,m.jsx)("div",{className:"textAlignCenter",children:(0,m.jsx)(Ke.A,{show:i})}):(0,m.jsx)(m.Fragment,{})]})},c().generate()):(0,m.jsx)(at,{children:void 0===e.type||"popup2"===e.type||"popup"!==e.type?(0,m.jsx)(m.Fragment,{children:"popup2"===e.type?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.NavLink,{children:(0,m.jsxs)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(A.A,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)}),(0,m.jsx)(He,{exportAllTempMapping:g,setExportAllTempMapping:v})]}):(0,m.jsx)(o.NavLink,{onClick:C,to:`${e.path}`,className:e=>{let{isActive:t}=e;return t?`navItemActive ${"compact"===d&&"compactNavItem"}`:`${"compact"===d&&"compactNavItem"}`},children:(0,m.jsxs)(ie.A,{name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(A.A,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(at,{children:(0,m.jsx)(o.NavLink,{children:(0,m.jsx)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name})]})},e.name)})},c().generate()),(0,m.jsx)(Fe,{importMassupdateFile:h,setImportMassupdateFile:x,setOpenAlert:b,setOpenDesc:E,setIsLoading:r}),T?(0,m.jsx)(qe.A,{openAlert:y,openDesc:T,setOpenAlert:b}):(0,m.jsx)(m.Fragment,{}),i?(0,m.jsx)("div",{className:"textAlignCenter",children:(0,m.jsx)(Ke.A,{show:i})}):(0,m.jsx)(m.Fragment,{})]})},c().generate())));return(0,m.jsx)("div",{className:"navigation",children:M(t)})},ot=n.memo(rt);var dt=a(12110);const ct=(0,Q.A)(dt.A)((()=>({height:"100%",padding:"20px 24px"}))),mt=(0,Q.A)("div")((e=>{let{subtitle:t}=e;return{fontSize:"1rem",fontWeight:"500",textTransform:"capitalize",marginBottom:!t&&"16px"}})),ut=e=>{let{children:t,title:a,subtitle:n,icon:l}=e;return(0,m.jsxs)(ct,{elevation:6,children:[(0,m.jsx)(mt,{subtitle:n,children:a}),n&&(0,m.jsx)(Z.A,{sx:{mb:2},children:n}),t]})};a(89420);(0,l.Ay)((e=>{let{palette:t,...a}=e;return{"@global":{".px-80":{paddingRight:"80px",paddingLeft:"80px",[a.breakpoints.down("sm")]:{paddingRight:"16px",paddingLeft:"16px"}},".px-sm-30":{padding:"0px 30px",[a.breakpoints.down("sm")]:{padding:"0px 16px"}},".p-sm-24":{padding:"24px !important",[a.breakpoints.down("sm")]:{padding:"16px !important"}},".px-sm-24":{padding:"0px 24px !important",[a.breakpoints.down("sm")]:{padding:"0px 12px !important"}},".pt-sm-24":{paddingTop:"24px !important",[a.breakpoints.down("sm")]:{paddingTop:"16px !important"}},".pl-sm-24":{paddingLeft:"24px !important",[a.breakpoints.down("sm")]:{paddingLeft:"16px !important"}},".m-auto":{margin:"auto !important"},".mx-auto":{marginLeft:"auto !important",marginRight:"auto !important"},".my-auto":{marginTop:"auto !important",marginBottom:"auto !important"},".m-sm-30":{margin:"30px",[a.breakpoints.down("sm")]:{margin:"16px"}},".mb-sm-30":{marginBottom:"30px",[a.breakpoints.down("sm")]:{marginBottom:"16px"}},".w-full":{width:"100%"},".mui-invalid":{color:"#FF3D57"},".max-w-full":{maxWidth:"100% !important"},".min-w-full":{minWidth:"100% !important"},".min-w-full-screen":{minWidth:"100vw !important"},".w-full-screen":{width:"100vw"},".min-w-600":{minWidth:"600px"},".min-w-750":{minWidth:"750px"},".min-w-1050":{minWidth:"1050px"},".max-w-450":{maxWidth:"450px"},".max-w-550":{maxWidth:"550px"},".max-h-500":{maxHeight:"500px"},".max-w-600":{maxWidth:"600px"},".max-w-770":{maxWidth:"770px"},".max-w-800":{maxWidth:"800px"},".max-w-850":{maxWidth:"850px"},".max-w-900":{maxWidth:"900px"},".max-w-1340":{maxWidth:"1340px"},".h-full":{height:"100% !important"},".min-h-full":{minHeight:"100% !important"},".h-auto":{height:"auto"},".h-full-screen":{height:"100vh"},".min-h-full-screen":{minHeight:"100vh !important"},".h-150px":{height:"150px !important"},".size-36":{height:"36px !important",width:"36px !important"},".size-24":{height:"24px !important",width:"24px !important"},...pt(0,25,.25,"rem"),...pt(1,16,1,"px"),...pt(-25,-1,.25,"rem"),...pt(-16,-1,1,"px"),...ht()}}}));const pt=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.25,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rem",n={};for(let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;l<=e;l++)n[`.m-${l}${"px"===a?"px":""}`]={margin:`${l*t}${a} !important`},n[`.mt-${l}${"px"===a?"px":""}`]={marginTop:`${l*t}${a} !important`},n[`.mb-${l}${"px"===a?"px":""}`]={marginBottom:`${l*t}${a} !important`},n[`.mr-${l}${"px"===a?"px":""}`]={marginRight:`${l*t}${a} !important`},n[`.ml-${l}${"px"===a?"px":""}`]={marginLeft:`${l*t}${a} !important`},n[`.mx-${l}${"px"===a?"px":""}`]={marginLeft:`${l*t}${a} !important`,marginRight:`${l*t}${a} !important`},n[`.my-${l}${"px"===a?"px":""}`]={marginTop:`${l*t}${a} !important`,marginBottom:`${l*t}${a} !important`},n[`.p-${l}${"px"===a?"px":""}`]={padding:`${l*t}${a} !important`},n[`.pt-${l}${"px"===a?"px":""}`]={paddingTop:`${l*t}${a} !important`},n[`.pb-${l}${"px"===a?"px":""}`]={paddingBottom:`${l*t}${a} !important`},n[`.pr-${l}${"px"===a?"px":""}`]={paddingRight:`${l*t}${a} !important`},n[`.pl-${l}${"px"===a?"px":""}`]={paddingLeft:`${l*t}${a} !important`},n[`.px-${l}${"px"===a?"px":""}`]={paddingLeft:`${l*t}${a} !important`,paddingRight:`${l*t}${a} !important`},n[`.py-${l}${"px"===a?"px":""}`]={paddingTop:`${l*t}${a} !important`,paddingBottom:`${l*t}${a} !important`};return n},ht=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"px",n={};for(let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;l<=e;l+=t)n[`.w-${l}`]={width:`${l}${a} !important`},n[`.min-w-${l}`]={minWidth:`${l}${a} !important`},n[`.max-w-${l}`]={maxWidth:`${l}${a} !important`},n[`.h-${l}`]={height:`${l}${a} !important`},n[`.min-h-${l}`]={minHeight:`${l}${a} !important`},n[`.max-h-${l}`]={maxHeight:`${l}${a} !important`};return n},xt=((0,l.Ay)((e=>{let{palette:t,...a}=e;return{"@global":{".circular-image-small":{height:"48px",width:"48px",borderRadius:"50%",overflow:"hidden"},".card":{transition:"all 0.3s ease"},".card:hover":{boxShadow:a.shadows[12]},".card-title":{fontSize:"1rem",textTransform:"capitalize",fontWeight:"500"},".card-subtitle":{fontSize:"0.875rem",color:"var(--text-muted)"},".theme-dark .card-subtitle":{color:"rgba(255, 255, 255, 0.54)"},".hide-on-mobile":{display:"inherit"},"@media screen and (max-width: 767px)":{".hide-on-mobile":{display:"none !important"},".show-on-mobile":{display:"inherit !important"},".invisible-on-pc":{visibility:"visible"}},"@media screen and (min-width: 1200px)":{".hide-on-pc":{display:"none !important"}},"@media screen and (max-width: 1200px)":{".show-on-pc":{display:"none !important"}},".VictoryContainer svg":{height:"100% !important"},".box-shadow-none":{boxShadow:"none !important"},".circle-44":{height:"44px !important",width:"44px !important"},".circle-32":{height:"32px !important",minHeight:"32px !important",width:"32px !important"},".circle-32 .MuiFab-root":{minHeight:"32px !important"},".circle-32 .MuiIcon-root":{fontSize:"13px !important"},".show-on-mobile":{display:"none !important"},".invisible-on-pc":{visibility:"hidden"},".highlight-js pre":{whiteSpace:"pre-line"},".cursor-pointer":{cursor:"pointer"},".cursor-move":{cursor:"move"},".avatar":{height:"32px !important",width:"32px !important"},".face-group .avatar:not(:first-child)":{marginLeft:"-0.875rem !important"},".opacity-1":{opacity:1},".datatimeInputCls":{opacity:1}}}})),e=>{let{children:t}=e;return t||null}),gt=n.memo(xt)},11472:(e,t,a)=>{"use strict";a.d(t,{H5:()=>o,H6:()=>d,L9:()=>m,fz:()=>c});var n=a(34535),l=a(81e3),s=a(58387),i=a(92960);const r=(0,n.Ay)(l.A)((e=>{let{theme:t,texttransformstyle:a,ellipsis:n}=e;return{textTransform:a||"none",whiteSpace:n?"nowrap":"normal",overflow:n?"hidden":"",textOverflow:n?"ellipsis":""}})),o=e=>{let{children:t,className:a,ellipsis:n,textTransform:l,...o}=e;return(0,i.jsx)(r,{texttransformstyle:l,ellipsis:n,className:(0,s.A)({[a||""]:!0}),component:"h5",mb:0,mt:0,fontSize:"14px",fontWeight:"500",lineHeight:"1.5",...o,children:t})},d=e=>{let{children:t,className:a,ellipsis:n,textTransform:l,...o}=e;return(0,i.jsx)(r,{texttransformstyle:l,ellipsis:n,className:(0,s.A)({[a||""]:!0}),component:"h6",mb:0,mt:0,fontSize:"13px",fontWeight:"500",lineHeight:"1.5",...o,children:t})},c=e=>{let{children:t,className:a,ellipsis:n,textTransform:l,...o}=e;return(0,i.jsx)(r,{texttransformstyle:l,ellipsis:n,className:(0,s.A)({[a||""]:!0}),component:"p",mb:0,mt:0,fontSize:"14px",...o,children:t})},m=e=>{let{children:t,className:a,ellipsis:n,textTransform:l,...o}=e;return(0,i.jsx)(r,{texttransformstyle:l,ellipsis:n,className:(0,s.A)({[a||""]:!0}),component:"span",lineHeight:"1.5",...o,children:t})}},15340:()=>{},26814:(e,t,a)=>{"use strict";a.d(t,{DT:()=>l,FY:()=>m,G2:()=>s,H1:()=>p,MV:()=>c,RY:()=>h,T2:()=>u,dH:()=>d,hv:()=>r,iZ:()=>o,sy:()=>x,ud:()=>i,xW:()=>n});new(a(93291).f);const n="GET_MCOLIST",l="GET_MCOINFO",s="GET_UPDATEMCODETAILS",i="GET_UPDATE_MCO_RELATED_VALUES",r="SET_ALL_CA_MCO_DETAILS",o="SET_UPDATED_ROUTES",d="RESET_VALUES",c=e=>({type:o,payload:e}),m=e=>async t=>{try{await t({type:n,payload:e})}catch(a){console.error(a)}},u=e=>async t=>{try{await t({type:l,payload:e})}catch(a){console.error(a)}},p=e=>async t=>{try{await t({type:s,payload:e})}catch(a){console.error(a)}},h=e=>async t=>{try{await t({type:i,payload:e})}catch(a){console.error(a)}},x=()=>async e=>{try{await e({type:d})}catch(t){console.error(t)}}},29215:(e,t,a)=>{"use strict";a.d(t,{L:()=>E,A:()=>S});var n=a(65043),l=a(81640),s=a(73216),i=a(88270),r=a(33302),o=(a(66578),a(81637)),d=a(89454),c=a(11906),m=a(34535),u=a(83462),p=a(26600),h=a(35316),x=a(29347),g=a(17392),v=a(74802),A=a(85865),j=a(92960);const f=(0,m.Ay)(u.A)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}));function y(e){let{isBUModified:t,updateBUModifiedData:a}=e;const[l,s]=n.useState(!1),i=(e,t)=>{"backdropClick"!==t&&"escapeKeyDown"!==t&&(s(!1),a())};return(0,n.useEffect)((()=>{s(t)}),[t]),(0,j.jsx)(n.Fragment,{children:(0,j.jsxs)(f,{onClose:i,"aria-labelledby":"customized-dialog-title",open:l,children:[(0,j.jsx)(p.A,{sx:{m:0,p:2},id:"customized-dialog-title",children:"Organization Credentials Updated"}),(0,j.jsx)(g.A,{"aria-label":"close",onClick:i,sx:e=>({position:"absolute",right:8,top:8,color:e.palette.grey[500]}),children:(0,j.jsx)(v.A,{})}),(0,j.jsx)(h.A,{dividers:!0,children:(0,j.jsxs)(A.A,{gutterBottom:!0,children:["The credentials for the organization have been modified. To ensure you have the latest data,",(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),'please click "Okay" to proceed.']})}),(0,j.jsx)(x.A,{children:(0,j.jsx)(c.A,{autoFocus:!0,onClick:i,children:"Okay"})})]})})}var b=a(5137);const T=(0,n.createContext)({isLoading:!1,userDetails:null,bussinessUnit:null,bussinessUnitLists:null,templatesInfo:[],allTemplatesInfo:[],mappingTemplatesInfo:[],refreshData:!0,updateBussinessUnit:()=>null,updateBussinessUnitLists:()=>null,updateTemplateLists:()=>[],updateAllTemplate:()=>[],updateMappingTemplatesInfo:()=>[],updateRefreshData:()=>null}),E=e=>{let{children:t}=e;const{authState:a,authService:c}=(0,l.rg)(),{globalBussinessUnit:m}=(0,b.d4)((e=>({globalBussinessUnit:e.globalBUandInstance.bu})),b.bN),u=new i.W,p=new r.D,h=(0,s.Zp)(),x=(0,s.zy)(),[g,v]=(0,n.useState)(null),[A,f]=(0,n.useState)(!1),[E,S]=(0,n.useState)(!1),[w,O]=(0,n.useState)(localStorage.getItem("bussinessUnit")||null),[C,P]=(0,n.useState)(!1),[M,D]=(0,n.useState)(null),[L,N]=(0,n.useState)([]),[_,R]=(0,n.useState)([]),[I,k]=(0,n.useState)([]),[B,F]=(0,n.useState)(!0),U=e=>{D(e)},W=e=>{N(e),R(e)},$=e=>{R(e),N(e)},V=e=>{k(e)},G=e=>{F(e)};return(0,n.useEffect)((()=>{g&&(null===I||void 0===I?void 0:I.length)<=1&&a&&a.isAuthenticated&&(G(!0),u.getAlltemplateMappings().then((e=>{var t,a,n,l;V(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),W(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.templateList),U(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.bulist),$(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.templateList),G(!1)}))),a&&a.isAuthenticated&&c&&c.getAccessToken().then((e=>{console.log("Access Token: ",e)}))}),[a,c,g]),(0,n.useEffect)((()=>{null!==a&&void 0!==a&&a.isAuthenticated&&!g&&(S(!0),p.validateUser().then((e=>{var t;"error"===e.status?h("/accessDenied",{state:{userInfo:null===e||void 0===e?void 0:e.data[0],NotAuthorized:!0}}):null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.length&&(v(null===e||void 0===e?void 0:e.data[0]),S(!1))})).catch((e=>{S(!1),f(!0)})))}),[a]),(0,n.useEffect)((()=>{console.log(m,"=====globalBussinessUnit");const e=e=>{var t;if(null!==x&&void 0!==x&&null!==(t=x.pathname)&&void 0!==t&&t.includes("mcodetail"))return!1;const a=localStorage.getItem("bussinessUnit");console.log(w,"===localStorageBusinessUnit"),console.log(a,"===localStorageBusinessUnit 2"),a&&a!==w&&(P(!0),console.log(a,"===localStorageBusinessUnit 3"))};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}})),(0,j.jsxs)(T.Provider,{value:{isLoading:E,userDetails:g,bussinessUnit:w,bussinessUnitLists:M,templatesInfo:L,allTemplatesInfo:_,mappingTemplatesInfo:I,refreshData:B,updateBussinessUnit:e=>{O(e)},updateBussinessUnitLists:U,updateTemplateLists:W,updateAllTemplate:$,updateMappingTemplatesInfo:V,updateRefreshData:G},children:[null!==a&&void 0!==a&&a.isAuthenticated?(0,j.jsx)(j.Fragment,{children:A?(0,j.jsx)(d.A,{}):(0,j.jsx)(j.Fragment,{children:g&&!E?t:(0,j.jsx)("div",{style:{textAlign:"center",position:"absolute",width:"100%",top:"50%"},children:(0,j.jsx)(o.A,{})})})}):t,C?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(y,{isBUModified:C,updateBUModifiedData:()=>{var e;if(null!==x&&void 0!==x&&null!==(e=x.pathname)&&void 0!==e&&e.includes("mcodetail"))window.location.reload();else{const e=localStorage.getItem("bussinessUnit");e&&O(e)}P(!1)}})}):null]})},S=T},31949:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(65043),l=a(47290);const s=()=>(0,n.useContext)(l.A)},33004:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1009),l=a(31949),s=a(62050),i=a(92960);const r=e=>{const{settings:t}=(0,l.A)(),a=s.c[t.activeLayout];return(0,i.jsx)(n.lZ,{children:(0,i.jsx)(a,{...e})})}},33302:(e,t,a)=>{"use strict";a.d(t,{D:()=>o});var n=a(83271),l=a(81650),s=a(56728),i=a(26814),r=a(38740);class o{constructor(){this.getAllUsersList=()=>l.A.get(`${n.Sb}/users/getUsers`,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getUsers",e),[]))),this.addnewUser=e=>l.A.post(`${n.Sb}/users/addUser`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewUser",e),[]))),this.updateUser=e=>l.A.put(`${n.Sb}/users/updateUser`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateUser",e),[]))),this.deleteUser=e=>l.A.delete(`${n.Sb}/users/deleteUser`,{data:{ids:e}},n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting users:",e),e})),this.validateUser=()=>(console.log("validateUser called with URL:",`${n.Sb}/users/validateUser`),console.log("Headers being sent:",n.YX),l.A.get(`${n.Sb}/users/validateUser`,n.YX).then((e=>{if(console.log("validateUser response:",e),200===e.status)return console.log("validateUser success:",e.data),e.data;throw console.warn("validateUser unexpected status:",e.status),e.data})).catch((e=>{throw console.error("validateUser request failed:",e),s.i.dispatch((0,i.RY)({isPageHavingIssue:!0})),e}))),this.requestForAccess=e=>l.A.post(`${n.Sb}/users/requestForAccessApp`,{data:e},n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error requestForAccessApp users:",e),e})),this.importUser=e=>l.A.post(`${n.Sb}/users/bulkAddUser`,e,n.hh).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddUser",e),[]))),this.exportUser=e=>l.A.post(`${n.Sb}/users/bulkExportUser`,e,n.YX).then((async e=>{if(200===e.status){const a=`${n.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,r.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const n=await t.blob(),l=URL.createObjectURL(n),s=document.createElement("a");s.href=l,s.download=e.data.filePath.replace("downloads/",""),s.click(),URL.revokeObjectURL(l)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportTemplate:",e),e})),this.downloadSampleFile=e=>{window.open(`http://localhost:8086/users/bulkExportUser/${e}`)}}}},37576:(e,t,a)=>{"use strict";a.d(t,{Q:()=>i});var n=a(83271),l=a(81650),s=a(38740);class i{constructor(){this.getAllTemplateList=()=>l.A.get(`${n.Sb}/template/gettemplate`,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTemplateDetails",e),[]))),this.addnewTemplate=e=>l.A.post(`${n.Sb}/template/addTemplate`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.getTemplateById=e=>l.A.post(`${n.Sb}/template/getTemplateById`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTemplateById",e),[]))),this.updateTemplate=e=>l.A.put(`${n.Sb}/template/updateTemplate`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.deleteTemplate=e=>l.A.delete(`${n.Sb}/template/deleteTemplate`,{data:{ids:e}},n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting plant:",e),e})),this.importTemplate=e=>l.A.post(`${n.Sb}/template/bulkAddTemplate`,e,n.hh).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddTemplate",e),[]))),this.exportTemplate=e=>l.A.post(`${n.Sb}/newtemplateMappings/bulkExportTemplate`,e,n.YX).then((async e=>{if(200===e.status){const a=`${n.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,s.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const n=await t.blob(),l=URL.createObjectURL(n),i=document.createElement("a");i.href=l,i.download=e.data.filePath.replace("downloads/",""),i.click(),URL.revokeObjectURL(l)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportTemplate:",e),e})),this.downloadSampleFile=e=>{window.open(`${n.Sb}/${e}`)}}}},38740:(e,t,a)=>{"use strict";a.d(t,{H:()=>i});var n=a(83662),l=a.n(n),s=a(26382);const i=()=>{var e,t,a,n;const i=window.localStorage.getItem("okta-token-storage");if(!i)return console.error("Token storage item not found"),null;const r=JSON.parse(i),o=null===r||void 0===r||null===(e=r.accessToken)||void 0===e?void 0:e.accessToken,d=null===r||void 0===r||null===(t=r.accessToken)||void 0===t||null===(a=t.claims)||void 0===a?void 0:a.uid,c=null===r||void 0===r||null===(n=r.idToken)||void 0===n?void 0:n.claims;if(!o||!c)return console.error("Access token or userinfo not found in token storage item"),null;const m={exp:Math.floor(Date.now()/1e3)+3600,data:{accessToken:o,userinfo:{username:null===c||void 0===c?void 0:c.name,email:null===c||void 0===c?void 0:c.email,uid:d}}};let u=null;try{window.Buffer=s.Buffer,u=l().encode(m,"EMRPRoDucTDaTa","HS512")}catch(p){return console.error("Error encoding JWT:",p),null}return u}},39787:(e,t,a)=>{"use strict";a.d(t,{FX:()=>s,MZ:()=>l,UE:()=>r,fb:()=>i,zs:()=>n});const n=e=>{if(e.match("rgba")){return e.slice(5).split(",").slice(0,-1).join(",")}let t;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return t=e.substring(1).split(""),3===t.length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),[t>>16&255,t>>8&255,255&t].join(",")};function l(){const e=window.crypto||window.msCrypto;let t=new Uint32Array(1);e.getRandomValues(t);return t[0]}const s=e=>{let t=[],a=[];return e.map((e=>{if(e.name){const a=e.name.match(/<div>.*?<\/div>/g)||[];t=a.sort(((e,t)=>{const a=e.replace(/<div>|<\/div>/g,"").toUpperCase(),n=t.replace(/<div>|<\/div>/g,"").toUpperCase();return a.localeCompare(n)}))}if(e.MVO_TEMPLATE_TO){const t=e.MVO_TEMPLATE_TO.match(/<div>.*?<\/div>/g)||[];a=t.sort(((e,t)=>{const a=e.replace(/<div>|<\/div>/g,"").toUpperCase(),n=t.replace(/<div>|<\/div>/g,"").toUpperCase();return a.localeCompare(n)}))}return{...e,name:t.join(""),MVO_TEMPLATE_TO:a.join("")}}))};function i(e){function t(e){return{Entity:e.Entity,...Object.fromEntries(Object.entries(e).filter((e=>{let[t]=e;return"Entity"!==t})).sort(((e,t)=>e[1].localeCompare(t[1]))))}}const a=e.find((e=>"PlantGroup"===e.Entity)),n=a?t(a):null,l=e.filter((e=>"PlantGroup"!==e.Entity)).map(t).sort(((e,t)=>e.Entity.localeCompare(t.Entity)));return n?[n,...l]:l}const r=(e,t)=>e.localeCompare(t,void 0,{sensitivity:"base"})},42895:(e,t,a)=>{"use strict";a.d(t,{D:()=>s});var n=a(83271),l=a(81650);class s{constructor(){this.getAllBuList=()=>l.A.get(`${n.Sb}/bu/getBusinessUnit`,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getAllBuList",e),[]))),this.getBusinessUnitbyid=e=>l.A.post(`${n.Sb}/bu/getBusinessUnitbyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getBusinessUnitbyid",e),[]))),this.addnewBU=e=>l.A.post(`${n.Sb}/bu/addBusinessUnit`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewBU",e),[]))),this.updateBU=e=>l.A.put(`${n.Sb}/bu/updateBusinessUnit`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateBU",e),[]))),this.deleteBU=e=>l.A.delete(`${n.Sb}/bu/deleteBusinessUnit`,{data:{ids:e}},n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting bu:",e),e}))}}},45212:(e,t,a)=>{"use strict";a.d(t,{k:()=>s,p:()=>i});const n={primary:"rgba(52, 49, 76, 1)",secondary:"rgba(52, 49, 76, 0.54)",disabled:"rgba(52, 49, 76, 0.38)",hint:"rgba(52, 49, 76, 0.38)"},l={main:"#FF3D57"},s={whitePurple:{palette:{type:"light",primary:{main:"#ffffff",contrastText:n.primary},secondary:{main:"#7467ef",contrastText:"#ffffff"},error:l,text:n}},whiteBlue:{palette:{type:"light",primary:{main:"#ffffff",contrastText:n.primary},secondary:{main:"#1976d2",contrastText:"#ffffff"},text:n}},slateDark1:{palette:{type:"dark",primary:{main:"#005686",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:n.primary},error:l,background:{paper:"#222A45",default:"#1a2038"}}},slateDark2:{palette:{type:"dark",primary:{main:"#1a2038",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:n.primary},error:l,background:{paper:"#222A45",default:"#1a2038"}}},purple1:{palette:{type:"light",primary:{main:"#7467ef",contrastText:"#ffffff"},secondary:{light:"#f9a352",main:"#ff9e43",dark:"#ff932e",contrastText:n.primary},error:l,text:n}},purple2:{palette:{type:"light",primary:{main:"#6a75c9",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:n.primary},error:l,text:n}},purpleDark1:{palette:{type:"dark",primary:{main:"#7467ef",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:n.primary},error:l,background:{paper:"#222A45",default:"#1a2038"}}},purpleDark2:{palette:{type:"dark",primary:{main:"#6a75c9",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:n.primary},error:l,background:{paper:"#222A45",default:"#1a2038"}}},blue:{palette:{type:"light",primary:{main:"#1976d2",contrastText:"#ffffff"},secondary:{main:"#FFAF38",contrastText:n.primary},error:l,text:n}},blueDark:{palette:{type:"dark",primary:{main:"#1976d2",contrastText:"#ffffff"},secondary:{main:"#FF4F30",contrastText:n.primary},error:l,background:{paper:"#222A45",default:"#1a2038"}}},red:{palette:{type:"dark",primary:{main:"#e53935",contrastText:"#ffffff"},secondary:{main:"#FFAF38",contrastText:n.primary},error:l}}},i=["none","0px 2px 1px -1px rgba(0, 0, 0, 0.06),0px 1px 1px 0px rgba(0, 0, 0, 0.042),0px 1px 3px 0px rgba(0, 0, 0, 0.036)","0px 3px 1px -2px rgba(0, 0, 0, 0.06),0px 2px 2px 0px rgba(0, 0, 0, 0.042),0px 1px 5px 0px rgba(0, 0, 0, 0.036)","0px 3px 3px -2px rgba(0, 0, 0, 0.06),0px 3px 4px 0px rgba(0, 0, 0, 0.042),0px 1px 8px 0px rgba(0, 0, 0, 0.036)","0px 2px 4px -1px rgba(0, 0, 0, 0.06),0px 4px 5px 0px rgba(0, 0, 0, 0.042),0px 1px 10px 0px rgba(0, 0, 0, 0.036)","0px 3px 5px -1px rgba(0, 0, 0, 0.06),0px 5px 8px 0px rgba(0, 0, 0, 0.042),0px 1px 14px 0px rgba(0, 0, 0, 0.036)","0px 3px 5px -1px rgba(0, 0, 0, 0.06),0px 6px 10px 0px rgba(0, 0, 0, 0.042),0px 1px 18px 0px rgba(0, 0, 0, 0.036)","0px 4px 5px -2px rgba(0, 0, 0, 0.06),0px 7px 10px 1px rgba(0, 0, 0, 0.042),0px 2px 16px 1px rgba(0, 0, 0, 0.036)","0px 5px 5px -3px rgba(0, 0, 0, 0.06),0px 8px 10px 1px rgba(0, 0, 0, 0.042),0px 3px 14px 2px rgba(0, 0, 0, 0.036)","0px 5px 6px -3px rgba(0, 0, 0, 0.06),0px 9px 12px 1px rgba(0, 0, 0, 0.042),0px 3px 16px 2px rgba(0, 0, 0, 0.036)","0px 6px 6px -3px rgba(0, 0, 0, 0.06),0px 10px 14px 1px rgba(0, 0, 0, 0.042),0px 4px 18px 3px rgba(0, 0, 0, 0.036)","0px 6px 7px -4px rgba(0, 0, 0, 0.06),0px 11px 15px 1px rgba(0, 0, 0, 0.042),0px 4px 20px 3px rgba(0, 0, 0, 0.036)","0px 7px 8px -4px rgba(0, 0, 0, 0.06),0px 12px 17px 2px rgba(0, 0, 0, 0.042),0px 5px 22px 4px rgba(0, 0, 0, 0.036)","0px 7px 8px -4px rgba(0, 0, 0, 0.06),0px 13px 19px 2px rgba(0, 0, 0, 0.042),0px 5px 24px 4px rgba(0, 0, 0, 0.036)","0px 7px 9px -4px rgba(0, 0, 0, 0.06),0px 14px 21px 2px rgba(0, 0, 0, 0.042),0px 5px 26px 4px rgba(0, 0, 0, 0.036)","0px 8px 9px -5px rgba(0, 0, 0, 0.06),0px 15px 22px 2px rgba(0, 0, 0, 0.042),0px 6px 28px 5px rgba(0, 0, 0, 0.036)","0px 8px 10px -5px rgba(0, 0, 0, 0.06),0px 16px 24px 2px rgba(0, 0, 0, 0.042),0px 6px 30px 5px rgba(0, 0, 0, 0.036)","0px 8px 11px -5px rgba(0, 0, 0, 0.06),0px 17px 26px 2px rgba(0, 0, 0, 0.042),0px 6px 32px 5px rgba(0, 0, 0, 0.036)","0px 9px 11px -5px rgba(0, 0, 0, 0.06),0px 18px 28px 2px rgba(0, 0, 0, 0.042),0px 7px 34px 6px rgba(0, 0, 0, 0.036)","0px 9px 12px -6px rgba(0, 0, 0, 0.06),0px 19px 29px 2px rgba(0, 0, 0, 0.042),0px 7px 36px 6px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)"]},47290:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p,A:()=>h});var n=a(65043),l=a(53536),s=a(73188),i=a(45212),r=a(64851);const o={MuiTable:{styleOverrides:{root:{tableLayout:"fixed"}}},MuiTableCell:{styleOverrides:{head:{fontSize:"13px",padding:"12px 0px"},root:{fontSize:"14px",whiteSpace:"pre-wrap",wordBreak:"break-all",padding:"12px 8px 12px 0px"}}},MUIDataTableSelectCell:{styleOverrides:{root:{paddingLeft:12}}},MUIDataTableHeadCell:{styleOverrides:{root:{paddingLeft:16}}},MUIDataTableBodyCell:{styleOverrides:{root:{paddingLeft:8}}},MuiButton:{styleOverrides:{root:{fontSize:"12px",textTransform:"none",fontWeight:"400"},contained:{boxShadow:i.p[8]}}},MuiCssBaseline:{styleOverrides:{"*":{boxSizing:"border-box"},html:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",height:"100%",width:"100%"},body:{height:"100%"},a:{textDecoration:"none",color:"inherit"},"#root":{height:"100%"},"#nprogress .bar":{zIndex:"2000 !important"}}},MuiFab:{styleOverrides:{root:{boxShadow:i.p[12]}}},MuiAccordion:{styleOverrides:{root:{"&:before":{display:"none"}}}},MuiTooltip:{styleOverrides:{tooltip:{fontSize:"11px"}}},MuiMenuItem:{styleOverrides:{root:{fontSize:"0.875rem"}}},MuiExpansionPanel:{styleOverrides:{root:{"&:before":{display:"none"}}}},MuiCard:{styleOverrides:{root:{borderRadius:"8px",boxShadow:"0px 3px 3px -2px rgb(0 0 0 / 6%), 0px 3px 4px 0px rgb(0 0 0 / 4%), 0px 1px 8px 0px rgb(0 0 0 / 4%) !important"}}}},d={typography:{fontSize:14,body1:{fontSize:"14px"}},status:{danger:r.A[500]},components:{...o}};const c={activeLayout:"layout1",activeTheme:"blue",perfectScrollbar:!0,themes:function(){let e={};return(0,l.forEach)(i.k,((t,a)=>{e[a]=(0,s.A)((0,l.merge)({},d,t))})),e}(),layout1Settings:{leftSidebar:{show:!0,mode:"full",theme:"slateDark1",bgimgurl:"/assets/images/sidebar/sidebar-bg-dark.jpg"},topbar:{show:!0,fixed:!0,theme:"whiteBlue"}},secondarySidebar:{show:!0,open:!1,theme:"slateDark1"},footer:{show:!0,fixed:!1,theme:"slateDark1"}};var m=a(92960);const u=(0,n.createContext)({settings:c,updateSettings:()=>{}}),p=e=>{let{settings:t,children:a}=e;const[s,i]=(0,n.useState)(t||c),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,l.merge)({},s,e);i(t)},o=(0,n.useMemo)((()=>({settings:s,updateSettings:r})),[s]);return(0,m.jsx)(u.Provider,{value:o,children:a})},h=u},47790:()=>{},50195:(e,t,a)=>{"use strict";a.d(t,{bV:()=>s,eb:()=>i,hw:()=>n,t$:()=>l});const n=(e,t)=>{let a=e;return t.forEach(((e,t)=>{var n;const l=new RegExp(`\\{${t}\\}`,"g");a=null===(n=a)||void 0===n?void 0:n.replace(l,e)})),a},l=(e,t)=>Array.isArray(e)?e.sort(((e,a)=>{const n=void 0!==e[t]?e[t].toString().toLowerCase():"",l=void 0!==a[t]?a[t].toString().toLowerCase():"";return isNaN(n)||isNaN(l)?n<l?-1:n>l?1:0:parseFloat(n)-parseFloat(l)})):(console.error("Invalid data: Expected an array"),[]),s=(e,t)=>e.sort(((e,a)=>{const n=e.details[t]||"",l=a.details[t]||"";return n.toLowerCase().localeCompare(l.toLowerCase())})),i=e=>e.sort(((e,t)=>{const a=e.label?e.label.toLowerCase():"",n=t.label?t.label.toLowerCase():"";return a.localeCompare(n)}))},51069:()=>{},56728:(e,t,a)=>{"use strict";a.d(t,{i:()=>g});var n=a(16096),l=a(63708),s=a(26814);const i={isPageHavingIssue:!1,stepData:"Create",RSMEList:{},RMEList:{},responseData:{itemERPStatus:[]},affectedPartsData:[],exportAffectedPartsData:[],currentMcoDetails:null,isPropertyFormEdited:!1,isMaterialFormEdited:!1,selectedRowData:{},selectedRowFormdata:{},selectedRowIndex:null,templates:[],source:[],plants:[],materialData:[],masterData:{},templateMappingsInfo:[],ORGAllowedTemplateMappings:[],previousMcosDetails:[],mrDetails:[],massUpdateChanges:{},lifeCycleData:{},systemSetingsDetail:[],eachTemplateOptions:{},bulkPartTemplates:[],caRelatedEachMCODetails:{},allCaMCODetails:{},mcoSearchLists:{},showMaterialForm:!1,parentMCODetails:{},caLifeCycleData:{}},r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.iZ:return{...e,updatedRoutes:t.payload};case s.xW:return{...t.payload};case s.DT:case s.G2:return{...e,responseData:{...e.responseData,...t.payload}};case s.ud:return{...e,...t.payload};case s.hv:return{...e,allCaMCODetails:t.payload};case s.dH:return{...i,updatedRoutes:e.updatedRoutes};default:return{...e}}},o=(()=>{const e=window.location.pathname;let t="";if("/"===e)return{segment:e,instanceType:t};if(e.includes("login"))return{segment:"/",instanceType:t};let a=e.split("/");a=a.filter((e=>""!==e));let n="/";if(a.length>1)"Cloud"!==a[1]&&"onPrem"!==a[1]||"Dev"===a[0]&&(t=a[1],n=a[0]+"/");else if(1===a.length&&"Dev"===a[0])return{segment:"/",instanceType:t};return{segment:n,instanceType:t}})(),d={segment:(null===o||void 0===o?void 0:o.segment)||{},instanceType:(null===o||void 0===o?void 0:o.instanceType)||{}},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return(arguments.length>1?arguments[1]:void 0).type,{...e}};var m=a(77115);const u={bu:"",instance:"",systemName:""},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;return t.type===m.T?{...e,...t.payload}:{...e}},h=(0,n.HY)({mcoDetails:r,globalData:c,globalBUandInstance:p});a(62285);const x=[l.A];const g=(0,n.y$)(h,{},(0,n.Zz)((0,n.Tw)(...x),(e=>e)))},62050:(e,t,a)=>{"use strict";a.d(t,{c:()=>n});const n={layout1:a(65043).lazy((()=>Promise.all([a.e(1),a.e(858)]).then(a.bind(a,36949))))}},63779:()=>{},64688:()=>{},66089:()=>{},66578:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(65043),l=a(12220),s=a(81637),i=a(92960);function r(e){const[t,a]=n.useState(!1);return(0,n.useEffect)((()=>{a(e.show)}),[e.show]),(0,i.jsx)("div",{children:(0,i.jsx)(l.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:t,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{textAlign:"center"},children:(0,i.jsx)(s.A,{color:"inherit",style:{zIndex:9999}})}),(0,i.jsx)("div",{children:"Please wait..."})]})})})}},67986:(e,t,a)=>{"use strict";a.d(t,{c:()=>s});var n=a(83271),l=a(81650);class s{constructor(){this.getAllsystemSetupList=()=>l.A.get(`${n.Sb}/systemSettings/getSystemSettings`,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getSystemSettings",e),[]))),this.getSystemSettingsbyid=e=>l.A.post(`${n.Sb}/systemSettings/getSystemSettingsbyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getSystemSettings",e),[]))),this.addSystemSettings=e=>l.A.post(`${n.Sb}/systemSettings/addSystemSettings`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewSystemSettings",e),[]))),this.updateSystemSettings=e=>l.A.put(`${n.Sb}/systemSettings/updateSystemSettings`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateSystemSettings",e),[]))),this.deleteSystemSettings=e=>l.A.delete(`${n.Sb}/systemSettings/deleteSystemSettings`,{data:e},n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting SystemSettings:",e),e}))}}},73776:()=>{},76987:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(40794),l=a(67254),s=a(40490),i=a(92960);const r=e=>{let{openAlert:t,openDesc:a,setOpenAlert:r}=e;const o="center";return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.A,{anchorOrigin:{vertical:"top",horizontal:o},open:t,onClose:(e,t)=>{"clickaway"!==t&&r(!1)},sx:{top:"70px!important"},children:(0,i.jsxs)(l.A,{onClose:(e,t)=>{"clickaway"!==t&&r(!1)},severity:a.severity,sx:{width:"100%",maxHeight:"calc(100vh - 100px)"},children:["success"===a.severity?(0,i.jsx)(s.A,{children:"Success"}):(0,i.jsx)(i.Fragment,{}),"warning"===a.severity?(0,i.jsx)(s.A,{children:"Warning"}):(0,i.jsx)(i.Fragment,{}),"error"===a.severity?(0,i.jsx)(s.A,{children:"Error"}):(0,i.jsx)(i.Fragment,{}),"validationcheck"===(null===a||void 0===a?void 0:a.type)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{fontWeight:"bold"},children:"Please verify the below items."}),(0,i.jsx)("ul",{children:a.desc})]}):(0,i.jsx)(i.Fragment,{children:a.desc})]})},"top"+o)})}},77115:(e,t,a)=>{"use strict";a.d(t,{T:()=>n,o:()=>l});const n="GET_BU_AND_INSTANSE",l=e=>async t=>{try{console.log(e,"updateGlobalBUandInstance data"),t({type:n,payload:e})}catch(a){console.error(a)}}},77199:()=>{},77965:()=>{},78982:()=>{},79368:()=>{},79838:()=>{},81650:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(86213),l=a(38740);const s=n.A.create();s.interceptors.request.use((e=>(e.headers.Authorization="Bearer "+(0,l.H)(),e)),(e=>Promise.reject(e))),s.interceptors.response.use((e=>e),(e=>{var t;return console.error("Error response:",e.response),Promise.reject((null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)||"Something went wrong!")}));const i=s},81807:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(40794),l=a(67254),s=a(40490),i=a(92960);const r=e=>{let{openAlert:t,openDesc:a,setOpenAlert:r}=e;const o="center";return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.A,{anchorOrigin:{vertical:"top",horizontal:o},open:t,onClose:(e,t)=>{"clickaway"!==t&&r(!1)},sx:{top:"70px!important"},children:(0,i.jsxs)(l.A,{onClose:(e,t)=>{"clickaway"!==t&&r(!1)},severity:a.severity,sx:{width:"100%",maxHeight:"calc(100vh - 100px)"},children:["success"===a.severity?(0,i.jsx)(s.A,{children:"Success"}):(0,i.jsx)(i.Fragment,{}),"warning"===a.severity?(0,i.jsx)(s.A,{children:"Warning"}):(0,i.jsx)(i.Fragment,{}),"error"===a.severity?(0,i.jsx)(s.A,{children:"Error"}):(0,i.jsx)(i.Fragment,{}),"validationcheck"===(null===a||void 0===a?void 0:a.type)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{fontWeight:"bold"},children:"Please verify the below items."}),(0,i.jsx)("ul",{children:a.desc})]}):(0,i.jsx)(i.Fragment,{children:a.desc})]})},"top"+o)})}},83051:(e,t,a)=>{"use strict";a.d(t,{i:()=>s});var n=a(83271),l=a(81650);class s{constructor(){this.massUpdatePartDescription=e=>l.A.post(`${n.Sb}/massUpdate/massUpdatePartDescription`,e,n.hh).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddTemplate",e),[]))),this.getMyReport=e=>l.A.get(`${n.Sb}/massUpdate/myReport`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("myReport",e),[]))),this.deleteReport=e=>l.A.delete(`${n.Sb}/massUpdate/deleteMyReport`,{data:{ids:e}},n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting bu:",e),e})),this.downloadSampleFile=e=>{window.open(`${n.Sb}/${e}`)}}}},83271:(e,t,a)=>{"use strict";a.d(t,{By:()=>l,CE:()=>i,Hs:()=>s,Sb:()=>n,W7:()=>p,YX:()=>m,hh:()=>u,ij:()=>c,w7:()=>r,yf:()=>o});const n="https://emr-product-datahub-server-qa.azurewebsites.net",l="0oaok0vsqjk0VzGhj5d7",s="https://dev-17215060.okta.com/oauth2/default",i="https://dev-17215060.okta.com",r="https://3dxr21x-u1.emrsn.org:8081/plmws/api",o="https://3dxr21x-u1.emrsn.org:8081/plmws/api",d="PLM-API-KEY",c="https://emr-product-datahub-server-qa.azurewebsites.net",m={headers:{"Content-Type":"application/json"}},u={headers:{"content-type":"multipart/form-data; boundary=-------842470573919341855553902"}},p={headers:{"Content-Type":"application/json",[d]:"2644d-d0bp-42b04-77y65"}}},88270:(e,t,a)=>{"use strict";a.d(t,{W:()=>i});var n=a(83271),l=a(81650),s=a(38740);class i{constructor(){this.getAlltemplateMappings=()=>l.A.get(`${n.Sb}/newtemplateMappings/getTemplateMappings`,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTeamplateMappings",e),[]))),this.deleteTemplateMapping=e=>l.A.delete(`${n.Sb}/newtemplateMappings/deleteTemplateMappings/${e}`,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting deleteTemplateMappings:",e),e})),this.addnewTemplateMapping=e=>l.A.post(`${n.Sb}/newtemplateMappings/addTemplateMappings`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addTemplateMappings",e),[]))),this.updateTemplateMapping=e=>l.A.put(`${n.Sb}/newtemplateMappings/updateTemplateMappings`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateTemplateMappings",e),[]))),this.importTemplate=e=>l.A.post(`${n.Sb}/newtemplateMappings/bulkAddTemplate`,e,n.hh).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddTemplate",e),[]))),this.downloadSampleFile=e=>{window.open(`${n.Sb}/${e}`)},this.exportAllTemplateMapping=e=>l.A.post(`${n.Sb}/newtemplateMappings/exportAllTemplateMapping`,e,n.YX).then((async e=>{if(200===e.status){const a=`${n.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,s.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const n=await t.blob(),l=URL.createObjectURL(n),i=document.createElement("a");i.href=l,i.download=e.data.filePath,i.click(),URL.revokeObjectURL(l)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportAllData:",e),e})),this.exportAllAdminGeneralProperties=e=>l.A.post(`${n.Sb}/newtemplateMappings/exportAllAdminGeneralProperties`,e,n.YX).then((async e=>{if(200===e.status){const a=`${n.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,s.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const n=await t.blob(),l=URL.createObjectURL(n),i=document.createElement("a");i.href=l,i.download=e.data.filePath,i.click(),URL.revokeObjectURL(l)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportAllData:",e),e})),this.exportAllAdminSystemSetups=e=>l.A.post(`${n.Sb}/newtemplateMappings/exportAllAdminSystemSetups`,e,n.YX).then((async e=>{if(200===e.status){const a=`${n.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,s.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const n=await t.blob(),l=URL.createObjectURL(n),i=document.createElement("a");i.href=l,i.download=e.data.filePath,i.click(),URL.revokeObjectURL(l)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportAllData:",e),e}))}}},88722:(e,t,a)=>{"use strict";a.d(t,{Ch:()=>s,EP:()=>p,FD:()=>o,HW:()=>m,PV:()=>d,Qy:()=>l,bf:()=>c,h4:()=>u,oX:()=>r,sd:()=>i});var n=a(50195);const l=[{value:"Micro Motion",label:"Micro Motion"},{value:"Daniel",label:"Daniel"},{value:"EPM brazil",label:"EPM brazil"},{value:"Poly Oil",label:"Poly Oil"},{value:"Rosemount Flow",label:"Rosemount Flow"},{value:"Roxar",label:"Roxar"},{value:"Rosemount Measurement",label:"Rosemount Measurement"},{value:"Flow Assurance",label:"Flow Assurance"},{value:"Flow Systems",label:"Flow Systems"},{value:"Ultrasonic",label:"Ultrasonic"},{value:"Metran Flow",label:"Metran Flow"},{value:"Flow Control Valves",label:"Flow Control Valves"},{value:"Biffi Morin",label:"Biffi Morin"},{value:"DP Flow",label:"DP Flow"},{value:"Magtech",label:"Magtech"},{value:"Keystone Butterfly Valves",label:"Keystone Butterfly Valves"}],s=[{value:"1",label:"Production"},{value:"2",label:"Engineering/Design"},{value:"3",label:"Universal"},{value:"4",label:"Plant maintenance"},{value:"5",label:"Sales and Distribution"},{value:"6",label:"Costing"},{value:"7",label:"Empties"},{value:"8",label:"Stability study"},{value:"M",label:"External Munitions Display "},{value:"Z",label:"Planning BOM"}],i=[{value:"ORACLE",label:"ORACLE"},{value:"JDE",label:"JDE"},{value:"SAP",label:"SAP"}],r=(0,n.eb)([{value:"BETSYD10",label:"betsyD10"},{value:"D01",label:"D01"},{value:"D03",label:"D03"},{value:"ED1",label:"ED1"},{value:"EP1",label:"EP1"},{value:"P01",label:"P01"},{value:"P03",label:"P03"}]),o=[{value:"Y",label:"Yes"},{value:"N",label:"No"}],d=[{value:"Y",label:"Yes"},{value:"N",label:"No"}],c=["admin","Everyone","Guest"],m=[{value:"Y",label:"Yes"},{value:"N",label:"No"}],u=[{value:"Y",label:"Yes"},{value:"N",label:"No"}],p=(0,n.eb)([{value:"onPrem",label:"onPrem"},{value:"SaaS",label:"SaaS"}])},89454:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});a(65043);var n=a(68903),l=a(11906),s=a(1009),i=a(92960);const r=()=>(0,i.jsx)(s.Tn,{children:(0,i.jsx)(n.Ay,{container:!0,spacing:3,alignItems:"center",style:{position:"relative"},children:(0,i.jsxs)(n.Ay,{item:!0,md:12,sm:12,xs:12,style:{textAlign:"center"},children:["Something went wrong! Please inform to administrator or reload the page.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(l.A,{variant:"contained",onClick:()=>window.location.reload(),children:"Reload"})]})})})},90270:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>pl});var n=a(65043),l=a(84391),s=a(5137),i=a(73216),r=a(77259),o=a(81640),d=a(83271);const c=d.By,m=d.Hs,u=d.CE,p={oidc:{clientId:c,issuer:m,redirectUri:"https://jatin2024.github.io/EMR-PDH/login/callback",scopes:["openid","profile","email","groups"],pkce:!0,disableHttpsCheck:{ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\jatin.khanna\\AppData\\Roaming",BABEL_ENV:"production",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133435626024204989",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_5464_ZSHKDTPKSTEZBDYS",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"SLKBGENHR90WOTL",ComSpec:"C:\\Windows\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\Windows\\notepad.exe",EFC_3760:"1",ERLANG_HOME:"C:\\Program Files\\Erlang OTP",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\jatin.khanna\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\jatin.khanna",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\jatin.khanna",IGCCSVC_DB:"AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAAhpY15cIrgUGhfPr9m0/cqQQAAAACAAAAAAAQZgAAAAEAACAAAACDm9WX6ccp5qHz2rRg9r2okUiwn1ir1umyFnKBm38U3gAAAAAOgAAAAAIAACAAAAA0OhJspNQ/1pnb7/7SgDq+Ruw13Z+gUjE7TscP/DzSRWAAAAAMIMeirFk4M4XK61WSkxxU6R29P5cHsDn6liYeOwMGKPBsmfXYHXwYvm7m75hIHYsXgVceEXIn913RYmBdymcEvw8bysZ2CEiRWIG5NlaBTYRJ9ygjjQcNKCogXKiknCBAAAAA9QodLRhU5+YQFSZYhaMgEdqdJ8MS/U8P0R5vJmZaH4fUdhpfvVwIH+6iOzSdo1q1JGh63Zs2dB9rhuhcP465lQ==",INIT_CWD:"C:\\SLK\\EMRPDH-SaaS-Client-Widget",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\jatin.khanna\\AppData\\Local",LOGONSERVER:"\\\\SLKBGENHR90WOTL",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NODE_PATH:"",NPM_CLI_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\jatin.khanna\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\jatin.khanna\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\jatin.khanna\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\jatin.khanna\\.npm-init.js",npm_config_local_prefix:"C:\\SLK\\EMRPDH-SaaS-Client-Widget",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_prefix:"C:\\Users\\jatin.khanna\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\jatin.khanna\\.npmrc",npm_config_user_agent:"npm/9.6.7 node/v18.17.1 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"react-app-rewired build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\SLK\\EMRPDH-SaaS-Client-Widget\\package.json",npm_package_name:"erp_product_hub",npm_package_version:"1.0.0",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\jatin.khanna\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"12",OneDrive:"C:\\Users\\jatin.khanna\\OneDrive - SLK Software Pvt Ltd",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\SLK\\EMRPDH-SaaS-Client-Widget\\node_modules\\.bin;C:\\SLK\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\WindowsPowerShell\\Scripts;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\ProgramData\\DockerDesktop\\version-bin;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\Microsoft SQL Server\\150\\DTS\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\150\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn\\;C:\\Program Files\\dotnet\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn\\;C:\\Program Files\\Azure Data Studio\\bin;C:\\Users\\jatin.khanna\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\jatin.khanna\\AppData\\Roaming\\npm;C:\\Users\\jatin.khanna\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\jatin.khanna\\.dotnet\\tools;C:\\Users\\jatin.khanna\\AppData\\Local\\Programs\\Git\\cmd;C:\\Users\\jatin.khanna\\flutter\\bin;",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 154 Stepping 4, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9a04",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\jatin.khanna\\OneDrive - SLK Software Pvt Ltd\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules;C:\\Program Files (x86)\\Microsoft Azure Information Protection\\Powershell",PUBLIC:"C:\\Users\\Public",QIP3760:"0",REACT_APP_EMRPDH_OKTA_CLIENT_ID:"0oaok0vsqjk0VzGhj5d7",REACT_APP_EMRPDH_OKTA_DOMAIN:"https://dev-17215060.okta.com",REACT_APP_EMRPDH_OKTA_ISSUER:"https://dev-17215060.okta.com/oauth2/default",REACT_APP_ENOVIA_API_URL:"https://3dxr21x-u1.emrsn.org:8081/plmws/api",REACT_APP_ENOVIA_CLOUD_API_URL:"https://3dxr21x-u1.emrsn.org:8081/plmws/api",REACT_APP_PLM_API_KEY:"PLM-API-KEY",REACT_APP_PLM_API_KEY_VALUE:"2644d-d0bp-42b04-77y65",REACT_APP_PRO_MODE:"https://emr-product-datahub-server-qa.azurewebsites.net",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\JATIN~1.KHA\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.100.0",TMP:"C:\\Users\\JATIN~1.KHA\\AppData\\Local\\Temp",USERDNSDOMAIN:"SLKSOFTWARE.AD",USERDOMAIN:"SLKSOFTWARE",USERDOMAIN_ROAMINGPROFILE:"SLKSOFTWARE",USERNAME:"jatin.khanna",USERPROFILE:"C:\\Users\\jatin.khanna",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\jatin.khanna\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\jatin.khanna\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-4f7fe03c90-sock",VSCODE_INJECTION:"1",VSCODE_NONCE:"de2380ff-c186-4076-8d48-457102a62120",VSCODE_STABLE:"1",windir:"C:\\Windows",ZES_ENABLE_SYSMAN:"1"}.OKTA_TESTING_DISABLEHTTPSCHECK||!1,domain:u}};var h=a(56728),x=(a(87070),a(1009)),g=a(92960);const v={isAuthenticated:!1,isInitialised:!1,user:null},A=()=>{const{authState:e,oktaAuth:t}=(0,o.rg)();return(0,n.useEffect)((()=>{if(e&&(null===e||void 0===e||!e.isAuthenticated)){const e="/calist";t.setOriginalUri(e),(async()=>{try{await t.signInWithRedirect()}catch(e){"AuthApiError"===e.name?console.error("Authentication failed:",e.message):console.error("An unexpected error occurred:",e)}})()}}),[t,!!e,null===e||void 0===e?void 0:e.isAuthenticated]),e&&null!==e&&void 0!==e&&e.isAuthenticated?(0,g.jsx)(i.sv,{}):null},j=e=>{let{children:t}=e;const{authState:a}=(0,o.rg)();let n=a&&a.isAuthenticated;return(0,g.jsx)(g.Fragment,{children:n?t:(0,g.jsx)(A,{})})};var f=a(34535),y=a(81e3),b=a(11906);const T=(0,f.Ay)(y.A)((()=>({display:"flex",alignItems:"center"}))),E=(0,f.Ay)(T)((()=>({maxWidth:320,flexDirection:"column",justifyContent:"center"}))),S=(0,f.Ay)("img")((()=>({width:"100%",marginBottom:"32px"}))),w=(0,f.Ay)(T)((()=>({width:"100%",alignItems:"center",justifyContent:"center",height:"100vh !important"}))),O=()=>{const e=(0,i.Zp)();return(0,g.jsx)(w,{children:(0,g.jsxs)(E,{children:[(0,g.jsx)(S,{src:"/assets/images/illustrations/404.svg",alt:""}),(0,g.jsx)(b.A,{color:"primary",variant:"contained",sx:{textTransform:"capitalize"},onClick:()=>e(-1),children:"Go Back"})]})})};var C=a(33302);const P={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#f8f9fa"},title:{fontSize:"2rem",color:"#333"},message:{fontSize:"1rem",color:"#666",textAlign:"center",marginTop:"10px"},button:{marginTop:"20px",padding:"10px 20px",fontSize:"1rem",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",transition:"background-color 0.3s ease",textDecoration:"none",outline:"none",":hover":{backgroundColor:"#0056b3"}}},M=()=>{var e,t,a,l,s;const r=new C.D,{authState:d,oktaAuth:c}=(0,o.rg)(),m=(0,i.Zp)(),u=(0,i.zy)(),p=void 0!==(null===(e=u.state)||void 0===e?void 0:e.userInfo)&&(null===(t=u.state)||void 0===t?void 0:t.userInfo),h=void 0!==(null===(a=u.state)||void 0===a?void 0:a.NotAuthorized)&&(null===(l=u.state)||void 0===l?void 0:l.NotAuthorized);console.log(null===(s=u.state)||void 0===s?void 0:s.NotAuthorized,"location.state?.NotAuthorized"),console.log(h,"NotAuthorized");const[x,v]=(0,n.useState)(!1),A=async()=>{try{d.isAuthenticated&&await c.signOut({postLogoutRedirectUri:window.location.origin})}catch(e){}};return(0,g.jsxs)("div",{style:P.container,children:[(0,g.jsx)("h1",{style:P.title,children:"Access Denied"}),h?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("p",{style:P.message,children:"Sorry, you don't have permission to access the application."}),(0,g.jsx)("p",{style:P.message,children:"To access the application Please request by click on the button below."}),(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{x||r.requestForAccess({userData:p}).then((e=>{v(!0),setTimeout((()=>{A()}),2e3)}))},children:"Request Access"})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("p",{style:P.message,children:"Sorry, you don't have permission to access the page."}),(0,g.jsx)(b.A,{variant:"contained",onClick:()=>m("/calist"),children:"Go to Home"})]})]})};var D=a(72221),L=a(37970),N=a(319);function _(e){let{isdisabled:t=!1,selectedvalue:a,defaultValue:l,onChangeFunc:s,style:i={},size:r}=e;const{bussinessUnitLists:o}=(0,N.A)();return(0,n.useEffect)((()=>{l&&s(l)}),[l]),(0,g.jsx)(D.A,{disabled:t,className:"form-control",defaultValue:l,value:a,onChange:e=>s(e.target.value),style:i,size:r||"medium",displayEmpty:!0,renderValue:e=>{var t;let a=[];return a=null===o||void 0===o?void 0:o.find((t=>t.businessUnit===e)),null!==(t=a)&&void 0!==t&&t.businessUnit?a.buName:""},children:null===o||void 0===o?void 0:o.map(((e,t)=>{const a="dpKey"+t;return(0,g.jsx)(L.A,{value:e.businessUnit,children:e.buName},a)}))})}var R=a(68903),I=a(88722);const k={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#f8f9fa"},title:{fontSize:"2rem",color:"#333"},message:{fontSize:"1rem",color:"#666",textAlign:"center",marginTop:"10px"},button:{marginTop:"20px",padding:"10px 20px",fontSize:"1rem",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",transition:"background-color 0.3s ease",textDecoration:"none",outline:"none",":hover":{backgroundColor:"#0056b3"}}},B=()=>{const e=(0,s.d4)((e=>e.globalBUandInstance)),[t,a]=(0,n.useState)(""),[l,i]=(0,n.useState)("");return(0,n.useEffect)((()=>{""!==e.bu&&a(e.bu),""!==e.instanse&&i(e.instanse)}),[]),(0,g.jsxs)("div",{style:k.container,children:[(0,g.jsx)("h1",{style:k.title,children:"Select RDO and Instance"}),(0,g.jsxs)(R.Ay,{container:!0,item:!0,md:6,sm:6,xs:12,className:"font-medium",style:{backgroundColor:"lightblue",padding:"20px"},children:[(0,g.jsxs)(R.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:[(0,g.jsx)("span",{children:"Design Organization:"}),(0,g.jsx)(_,{selectedvalue:t,style:{width:"50%"},defaultValue:t||"",onChangeFunc:e=>{a(e),console.log(e,"selectedOptionValue")}})]}),(0,g.jsxs)(R.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:[(0,g.jsx)("span",{children:"Select Instance:"}),(0,g.jsx)(D.A,{labelId:"Instance",id:"Instance",name:"Instance",fullWidth:!0,style:{width:"50%"},value:l||"",onChange:e=>{const{name:t,value:a}=e.target;"Instance"===t&&i(a)},children:I.EP.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})]})]})]})};var F=a(97753);const U=e=>t=>(0,g.jsx)(n.Suspense,{fallback:(0,g.jsx)(F.A,{}),children:(0,g.jsx)(e,{...t})}),W=U((0,n.lazy)((()=>a.e(977).then(a.bind(a,7977))))),$=U((0,n.lazy)((()=>Promise.all([a.e(446),a.e(720),a.e(677),a.e(339)]).then(a.bind(a,73334))))),V=U((0,n.lazy)((()=>Promise.all([a.e(720),a.e(677),a.e(205)]).then(a.bind(a,4871))))),G=U((0,n.lazy)((()=>Promise.all([a.e(446),a.e(138),a.e(612),a.e(720),a.e(6)]).then(a.bind(a,78351))))),z=U((0,n.lazy)((()=>Promise.all([a.e(138),a.e(720),a.e(479)]).then(a.bind(a,97709))))),H=U((0,n.lazy)((()=>a.e(767).then(a.bind(a,46767))))),Y=U((0,n.lazy)((()=>a.e(632).then(a.bind(a,4632))))),X=U((0,n.lazy)((()=>a.e(422).then(a.bind(a,88422))))),q=[{path:"/calist",element:(0,g.jsx)(W,{})},{path:"/caDetails/:ca_id",element:(0,g.jsx)($,{})},{path:"/mcolist",element:(0,g.jsx)(V,{})},{path:"/mcodetail/:mco_id?",element:(0,g.jsx)(G,{})},{path:"/:mcoName/tracker",element:(0,g.jsx)(z,{})},{path:"/specCreationList",element:(0,g.jsx)(H,{})},{path:"/obsoletePartList",element:(0,g.jsx)(Y,{})},{path:"/myreport",element:(0,g.jsx)(X,{})}];var K=a(33004);const Q=e=>{var t;let{children:a}=e;const{userDetails:n}=(0,N.A)(),{authState:l}=(0,o.rg)();return null!==l&&void 0!==l&&l.isAuthenticated&&null!==n&&void 0!==n&&null!==(t=n.userinfo)&&void 0!==t&&t.includes("admin")?a:(0,g.jsx)(i.C5,{to:"/accessDenied"})};var Z=a(35475),J=a(83462),ee=a(29347),te=a(35316),ae=a(98533),ne=a(26600),le=a(66578),se=a(15795),ie=a(77739),re=a(37576),oe=a(62954),de=a(36631),ce=a(71806),me=a(84882),ue=a(28076),pe=a(10039),he=a(18356),xe=a(82357),ge=a(73460),ve=a(81807);a(83423);const Ae=(0,f.Ay)(ce.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),je=(0,f.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),fe=e=>{const{allTemplatesInfo:t,updateAllTemplate:a,bussinessUnitLists:l}=(0,N.A)(),s=new re.Q,{importTemplate:i,setImportTemplate:r,setTemplateData:o,setIsLoading:d}=e,[c,m]=(0,n.useState)(!1),[u,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)(!1),[v,A]=(0,n.useState)(!1),[j,f]=(0,n.useState)(!1),[T,E]=(0,n.useState)(!1),[S,w]=(0,n.useState)(null),[O,C]=(0,n.useState)(null),[P,M]=(0,n.useState)({ERPType:[],instance:[],BU:[]}),[D,L]=(0,n.useState)(!1),[_,R]=(0,n.useState)(null),k=(e,t)=>{console.log(e,"==values ==",t),M((a=>({...a,[e]:"BU"===e?t:t.value}))),"ERPType"===e&&m(!1),"instance"===e&&p(!1),"BU"===e&&x(!1),console.info(P,"importSelectionValues")};return(0,n.useEffect)((()=>{}),[t]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(J.A,{open:i,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Import Template"}),(0,g.jsx)(te.A,{children:(0,g.jsx)(ae.A,{children:(0,g.jsx)(y.A,{width:"100%",overflow:"auto",children:(0,g.jsxs)(Ae,{children:[(0,g.jsxs)(me.A,{children:[(0,g.jsxs)(ue.A,{children:[(0,g.jsx)(pe.A,{align:"left",children:(0,g.jsx)(he.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Design Organization"})}),(0,g.jsxs)(pe.A,{align:"left",children:[(0,g.jsx)(xe.A,{style:{width:"70%"},multiple:!1,options:(e=>{const t=new Set;return null===l||void 0===l||l.forEach((a=>{t.add(a[e])})),Array.from(t)})("buName"),value:P.BU,onChange:(e,t)=>k("BU",t),renderValue:()=>null,renderInput:e=>(0,g.jsx)(se.A,{...e,variant:"outlined",label:"Select RDO",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!1,disableClearable:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionSelected:(e,t)=>P.BU.includes(t),ChipProps:{style:{fontSize:"8px"}}}),h&&(0,g.jsx)("p",{style:{textAlign:"left",color:"red"},children:"please select Design Organization"})]})]}),(0,g.jsxs)(ue.A,{children:[(0,g.jsx)(pe.A,{align:"left",children:(0,g.jsx)(he.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"ERP Type"})}),(0,g.jsxs)(pe.A,{align:"right",children:[(0,g.jsx)(xe.A,{style:{width:"70%"},multiple:!1,options:I.sd,value:P.ERPType,onChange:(e,t)=>k("ERPType",t),renderValue:()=>null,renderInput:e=>(0,g.jsx)(se.A,{...e,variant:"outlined",label:"Select ERP Type",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!1,disableClearable:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionSelected:(e,t)=>P.ERPType.includes(t),ChipProps:{style:{fontSize:"8px"}}}),c&&(0,g.jsx)("p",{style:{textAlign:"left",color:"red"},children:"please select ERP Type"})]})]}),(0,g.jsxs)(ue.A,{children:[(0,g.jsx)(pe.A,{align:"left",children:(0,g.jsx)(he.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Instance"})}),(0,g.jsxs)(pe.A,{align:"right",children:[(0,g.jsx)(xe.A,{style:{width:"70%"},multiple:!1,options:I.oX,value:P.instance,onChange:(e,t)=>k("instance",t),renderValue:()=>null,renderInput:e=>(0,g.jsx)(se.A,{...e,variant:"outlined",label:"Select Instance",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!1,disableClearable:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionSelected:(e,t)=>P.instance.includes(t),ChipProps:{style:{fontSize:"8px"}}}),u&&(0,g.jsx)("p",{style:{textAlign:"left",color:"red"},children:"please select Instance"})]})]})]}),(0,g.jsxs)(ge.A,{children:[(0,g.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,g.jsxs)(b.A,{component:"label",variant:"contained",startIcon:(0,g.jsx)(oe.A,{}),children:["Upload file",(0,g.jsx)(je,{type:"file",name:"file",accept:".xls, .xlsx",onChange:e=>{const t=e.target.files[0];if(t){const a=t.name.split(".").pop();"xlsx"===a||"xls"===a?(w(e.target.files[0]),C(e.target.files[0].name),A(!1)):(A(!0),C(null),w(null))}else A(!0),C(null),w(null)}})]}),v&&(0,g.jsx)("p",{style:{textAlign:"left",color:"red"},children:"Please Select xlsx file to Upload "})]}),O&&(0,g.jsx)("p",{children:O}),(0,g.jsx)("div",{style:{paddingTop:"10px"},children:(0,g.jsx)(b.A,{component:"label",variant:"contained",startIcon:(0,g.jsx)(de.A,{}),onClick:()=>{s.downloadSampleFile("sample-template.xlsx")},children:"Download sample file"})})]})]})})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{autoFocus:!0,onClick:()=>{M((e=>({ERPType:[],instance:[],BU:[]}))),w(null),r(!1),C(null),A(!1),m(!1),p(!1),x(!1)},children:"Cancel"}),(0,g.jsx)(b.A,{onClick:()=>{if((null===P.ERPType||P.ERPType.length<1)&&m(!0),(null===P.instance||P.instance.length<1)&&p(!0),(null===P.BU||P.BU.length<1)&&x(!0),(null===S||S.length<1)&&A(!0),P.ERPType.length>1&&P.instance.length>1&&P.BU.length>1&&null!==S){let e={file:S,data:P};d(!0),r(!1),s.importTemplate(e).then((async e=>{let t,n;f(e),e.errorCount>0?(t=(0,g.jsxs)("div",{style:{color:"red"},children:["New Template Added: ",e.newTemplateAdded," ",(0,g.jsx)("br",{}),"Template Updated: ",e.updateTemplates," ",(0,g.jsx)("br",{}),"Error in Template: ",e.errorCount," ",(0,g.jsx)("br",{})]}),n="error",L(!0),R({severity:n,desc:t}),d(!1)):(t=(0,g.jsxs)("div",{children:["Success ",(0,g.jsx)("br",{}),"New Template Added: ",e.newTemplateAdded," ",(0,g.jsx)("br",{}),"Template Updated: ",e.updateTemplates," ",(0,g.jsx)("br",{}),"Error in Template: ",e.errorCount," ",(0,g.jsx)("br",{})]}),n="success",d(!1)),L(!0),R({severity:n,desc:t}),M((e=>({ERPType:[],instance:[],BU:[]}))),w(null),C(null),await s.getAllTemplateList().then((e=>{o(e.template),a(e.template)})),d(!1)}))}},children:"Import"})]})]}),_?(0,g.jsx)(ve.A,{openAlert:D,openDesc:_,setOpenAlert:L,sx:{"& .MuiAlertTitle-root":{backgroundColor:"red"}}}):(0,g.jsx)(g.Fragment,{})]})};var ye=a(14256),be=a(57972),Te=a(74605),Ee=a(53193),Se=a(51292);const we=e=>{const t=new re.Q,[a,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)((null===e||void 0===e?void 0:e.templateData)||[]),[r,o]=(0,n.useState)("allData"),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[v,A]=(0,n.useState)(null);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{l(!0)},children:"Export"}),(0,g.jsxs)(J.A,{open:a,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,g.jsx)(te.A,{children:(0,g.jsx)(ae.A,{children:(0,g.jsx)(y.A,{width:"100%",overflow:"auto",children:(0,g.jsx)(x.Tn,{children:(0,g.jsx)(R.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,g.jsx)(R.Ay,{container:!0,alignItems:"center",children:(0,g.jsxs)(Ee.A,{children:[(0,g.jsx)(Se.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,g.jsxs)(be.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:r,onChange:t=>{o(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.templateData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,g.jsx)(Te.A,{value:"allData",control:(0,g.jsx)(ye.A,{}),label:"All Data"}),(0,g.jsx)(Te.A,{value:"selectedData",control:(0,g.jsx)(ye.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"}),(0,g.jsx)(b.A,{onClick:()=>{l(!1),console.log(null===e||void 0===e?void 0:e.filterTemplateData,"filterTemplateData");let a=("allData"!==r?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.templateData)||[],n=null===a||void 0===a?void 0:a.map((e=>({"Template Name":e.templateName,Description:e.desc,"ERP Type":e.ERPType,Instance:e.instance,"Design Organization":Array.isArray(null===e||void 0===e?void 0:e.BU)&&(null===e||void 0===e?void 0:e.BU.length)>0?null===e||void 0===e?void 0:e.BU.join(", "):null})));t.exportTemplate({data:n,sheet_name:"Template"}).then((e=>{u(e),c(!0),h(!0),A({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),v?(0,g.jsx)(ve.A,{openAlert:p,openDesc:v,setOpenAlert:h}):(0,g.jsx)(g.Fragment,{})]})};var Oe=a(91048);a(30588);const Ce=e=>t=>{let{data:a=[],sortInfo:n={},initialData:l=[],...s}=t;const i=((e,t)=>{if(!Array.isArray(e))return[];if(!t||!t.id)return l;const a=t.id||t.name||t.columnName,n=1===t.dir?1:-1;return[...e].sort(((e,t)=>{const l=String(e[a]||"").toLowerCase(),s=String(t[a]||"").toLowerCase();return l<s?-n:l>s?n:0}))})(a,n);return(0,g.jsx)(e,{data:i,sortInfo:n,...s})};var Pe=a(50195);const Me=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),De=()=>{let e=(0,i.zy)().state;const{updateAllTemplate:t}=(0,N.A)(),a=new re.Q,[l,s]=(0,n.useState)(!1),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)([]),[m,u]=(0,n.useState)([]),[p,h]=(0,n.useState)(),[v,A]=(0,n.useState)(""),[j,f]=(0,n.useState)([]),[T,E]=(0,n.useState)(!1),[S,w]=(0,n.useState)(null),[O,C]=(0,n.useState)({}),[P,M]=(0,n.useState)({}),[D,L]=(0,n.useState)([]),_=(0,n.useRef)(null),I=_&&_.current&&_.current.dataMap?_.current.dataMap:null,[k,B]=(0,n.useState)(!0),F=(0,Pe.t$)(j,"templateName"),U=(0,n.useCallback)((e=>{let{selected:t}=e;M(t)}),[]);(0,n.useEffect)((()=>{B(!0),a.getAllTemplateList().then((e=>{c(e.template),u(e.template),f(e.template),t(e.template)})).finally((()=>{B(!1)}))}),[]),(0,n.useEffect)((()=>{f(d)}),[d]),(0,n.useEffect)((()=>{var t,a,n;null!==(t=e)&&void 0!==t&&t.status&&(E(!0),w({severity:null===(a=e)||void 0===a?void 0:a.status,desc:null===(n=e)||void 0===n?void 0:n.message}));e={},window.onbeforeunload=()=>{window.history.replaceState({},document.title)}}),[e]);const W=(0,i.Zp)(),$=(0,n.useRef)("initialValue"),V=e=>{$.current="edit";const t=e;setTimeout((()=>{W(`/editTemplate/${null===t||void 0===t?void 0:t.id}`,{state:{templateMode:$.current,selectedTempalteData:t}})}),200)},G=e=>{s(!0),h(e)};(0,n.useEffect)((()=>{const e=!0===P?I:P,t=e&&Object.keys(e).map((t=>e[t]));L(t)}),[P,I]),(0,n.useEffect)((()=>{if(d){const e=d.filter((e=>{var t,a,n;return""===v||(null===e||void 0===e||null===(t=e.templateName)||void 0===t?void 0:t.toLowerCase().includes(v.toLowerCase()))||e.desc.toLowerCase().includes(v.toLowerCase())||(null===(a=e.plants)||void 0===a?void 0:a.some((e=>e.plantName.toLowerCase().includes(v.toLowerCase()))))||(null===(n=e.BU)||void 0===n?void 0:n.some((e=>e.toLowerCase().includes(v.toLowerCase()))))||e.instance.toLowerCase().includes(v.toLowerCase())||e.ERPType.toLowerCase().includes(v.toLowerCase())}));f(e)}}),[v,d]);const z=e=>{C(e);const t=Ce(De)({data:d,sortInfo:e,onSortInfoChange:z,initialData:m});c(t.props.data)};return(0,g.jsxs)(Me,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Template"}]})}),(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(se.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;A(t)},value:v,style:{width:"100%"}})}),(0,g.jsxs)(R.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{},children:"Search"}),(0,g.jsx)("div",{style:{flex:1}}),(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,onClick:()=>{$.current="create",setTimeout((()=>{W("/createTemplate")}),200)},style:{marginRight:"10px"},children:"Create"}),(0,g.jsx)(b.A,{variant:"contained",disabled:1!==(null===D||void 0===D?void 0:D.length),onClick:()=>{V(D[0])},style:{margin:"0 10px 0 0px"},children:"Edit"}),(0,g.jsx)(b.A,{variant:"contained",disabled:null===D||void 0===D||!D.length,onClick:()=>{G(D[0]),s(!0)},style:{margin:"0 10px 0 0px"},children:"Delete"}),(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{o(!0)},style:{marginRight:"10px"},children:"Import"}),(0,g.jsx)(we,{templateData:d,filterTemplateData:D})]}),(0,g.jsxs)(y.A,{width:"100%",overflow:"auto",children:[(0,g.jsx)("br",{}),(0,g.jsx)(Oe.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:[{name:"templateName",header:(0,g.jsx)(ie.A,{title:"Name",children:"Template Name"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.templateName})}},{name:"desc",header:(0,g.jsx)(ie.A,{title:"Description",children:"Description"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.desc})}},{name:"ERPType",header:(0,g.jsx)(ie.A,{title:"ERP Type",children:"ERP Type"}),defaultFlex:1,defaultWidth:50},{name:"instance",header:(0,g.jsx)(ie.A,{title:"Instance",children:"Instance"}),defaultFlex:1,defaultWidth:50},{name:"BU",header:(0,g.jsx)(ie.A,{title:"Design Organization",children:"Design Organization"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null!==t&&void 0!==t&&t.BU?t.BU.sort().map((e=>e)).join(", "):""})}}],dataSource:F,checkboxColumn:!0,selected:P,onSelectionChange:U,handle:e=>_.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===_||void 0===_||null===(e=_.current)||void 0===e?void 0:e.setScrollTop(0==(null===D||void 0===D?void 0:D.length)?0:null===_||void 0===_||null===(t=_.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:z})]})]})}),(0,g.jsxs)(J.A,{open:l,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete template"}),(0,g.jsx)(te.A,{children:1===D.length?(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(ae.A,{children:["Do you want to delete the template"," ",(0,g.jsx)("b",{children:null===p||void 0===p?void 0:p.templateName})," with instance"," ",(0,g.jsx)("b",{children:null===p||void 0===p?void 0:p.instance})]})}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(ae.A,{children:"Do you want to delete the seleted templates?"})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{autoFocus:!0,onClick:()=>{h(null),s(!1)},children:"Cancel"}),(0,g.jsx)(b.A,{onClick:async()=>{s(!1);try{B(!0);const e=null===D||void 0===D?void 0:D.map((e=>null===e||void 0===e?void 0:e.id));await a.deleteTemplate(e).then((async e=>{E(!0),w({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),M({}),L([]),await a.getAllTemplateList().then((e=>{c(e.template),u(e.template),f(e.template),t(e.template)}))}))}catch(e){return e}finally{B(!1)}},children:"delete"})]})]}),(0,g.jsx)(fe,{importTemplate:r,setImportTemplate:o,setTemplateData:c,setIsLoading:B}),S?(0,g.jsx)(ve.A,{openAlert:T,openDesc:S,setOpenAlert:E}):(0,g.jsx)(g.Fragment,{}),k?(0,g.jsx)("div",{style:{textAlign:"center"},children:(0,g.jsx)(le.A,{show:k})}):(0,g.jsx)(g.Fragment,{})]})},Le=De,Ne=()=>(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(Le,{})});var _e=a(63336),Re=a(17392),Ie=a(95540),ke=a(63471),Be=a(40794),Fe=a(67254),Ue=a(81650);class We{constructor(){this.getAllPlantsList=()=>Ue.A.get(`${d.Sb}/plant/getplants`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getAllPlantsList",e),[]))),this.getPlantById=e=>Ue.A.post(`${d.Sb}/plant/getPlantById`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getPlantById",e),[]))),this.addnewPlant=e=>Ue.A.post(`${d.Sb}/plant/addPlant`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.updatePlant=e=>Ue.A.put(`${d.Sb}/plant/updatePlant`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.deletePlant=e=>Ue.A.delete(`${d.Sb}/plant/deletePlant`,{data:{ids:e}},d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting plant:",e),e}))}}const $e=e=>{let{open:t,handleDialogClose:a,tempObject:n,handleAttributeChange:l,handleAddAttribute:s,newKey:i,newValue:r,handleAddRow:o,handleDeleteRow:d,keyerror:c,attributeForm:m,valuesInputList:u}=e;return(0,g.jsxs)(J.A,{open:t,children:[(0,g.jsx)(ne.A,{children:null===m?"Add Attribute":"Edit Attribute"}),(0,g.jsx)(te.A,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsx)("span",{children:"Name:"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"name",value:n.name||"",onChange:l,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsx)("span",{children:"Mandatory: "})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(Ee.A,{children:(0,g.jsxs)(be.A,{row:!0,value:n.mandatory||"YES","aria-labelledby":"demo-row-radio-buttons-group-label",name:"mandatory",onChange:l,children:[(0,g.jsx)(Te.A,{value:"Y",control:(0,g.jsx)(ye.A,{}),label:"Yes"}),(0,g.jsx)(Te.A,{value:"N",control:(0,g.jsx)(ye.A,{}),label:"No"})]})})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Material master:"," "]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(Ee.A,{children:(0,g.jsxs)(be.A,{row:!0,value:n.material_master||"Y","aria-labelledby":"demo-row-radio-buttons-group-label",name:"material_master",onChange:l,children:[(0,g.jsx)(Te.A,{value:"Y",control:(0,g.jsx)(ye.A,{}),label:"Yes"}),(0,g.jsx)(Te.A,{value:"N",control:(0,g.jsx)(ye.A,{}),label:"No"})]})})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsx)("span",{children:"Data type: "})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{labelId:"DataType-label",id:"DataType-select",name:"dataType",fullWidth:!0,value:n.dataType||"",onChange:l,children:[{value:"int",label:"int"},{value:"string",label:"string"},{value:"long",label:"long"},{value:"bool",label:"bool"}].map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.value},e.value)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsx)("span",{children:"Input Type: "})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{labelId:"InputType-label",id:"InputType-select",name:"inputType",fullWidth:!0,value:n.inputType||"",onChange:l,children:[{value:"text",label:"text"},{value:"select",label:"select"}].map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),"select"===n.inputType&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsx)("span",{children:"Values: "})}),(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,g.jsxs)(R.Ay,{container:!0,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,xs:3,style:{marginLeft:"3px"},children:(0,g.jsx)(se.A,{name:"newKey",label:"value",value:i,variant:"outlined",fullWidth:!0,margin:"normal",onChange:l})}),"\xa0 \xa0",(0,g.jsx)(R.Ay,{item:!0,xs:3,children:(0,g.jsx)(se.A,{name:"newValue",label:"display value",value:r,variant:"outlined",fullWidth:!0,margin:"normal",onChange:l})}),"\xa0 \xa0",(0,g.jsx)(R.Ay,{item:!0,xs:3,children:(0,g.jsx)(b.A,{style:{fontSize:"30px",marginTop:"6px"},onClick:o,children:(0,g.jsx)("b",{children:"+"})})})]}),(0,g.jsx)("p",{style:{color:"red"},children:c}),(0,g.jsx)("div",{style:{height:"100px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",alignContent:"center"},children:u.map(((e,t)=>(0,g.jsx)(_e.A,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,g.jsxs)(R.Ay,{container:!0,alignItems:"center",style:{marginLeft:"2px"},children:[(0,g.jsx)(R.Ay,{item:!0,xs:6,children:(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:e.key}),":",(0,g.jsx)("b",{children:e.value})]})}),(0,g.jsx)(R.Ay,{item:!0,xs:2,children:(0,g.jsx)(Re.A,{onClick:()=>d(t),children:(0,g.jsx)(ke.A,{})})})]})},t)))})]})]}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsx)("span",{children:"Default values: "})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"defaultValues",value:n.defaultValues||"",onChange:l,fullWidth:!0,margin:"normal"})})]})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:a,children:"Cancel"}),(0,g.jsx)(b.A,{onClick:s,children:null===m?"Add":"Update"})]})]})};var Ve=a(39787),Ge=a(21803),ze=a.n(Ge);const He=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Ye=n.forwardRef((function(e,t){return(0,g.jsx)(Fe.A,{elevation:6,ref:t,variant:"filled",...e})})),Xe=(0,f.Ay)({spanRed:{color:"#FF3D57"}}),qe={name:null,mandatory:null,material_master:null,dataType:null,inputType:null,values:null,defaultValues:null};function Ke(){const e=new re.Q,{bussinessUnitLists:t}=(0,N.A)(),a=new We,[l,s]=(0,n.useState)(),[r,o]=(0,n.useState)({exportToERP:"Y",existInOracle:"N",notOwningDivision:"Y"}),d=Xe();let c=(0,i.Zp)();const[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(),[v,A]=(0,n.useState)(),[j,f]=(0,n.useState)(!1),[T,E]=(0,n.useState)([]),[S,w]=(0,n.useState)(null),[O,C]=(0,n.useState)({}),[P,M]=(0,n.useState)([]),[_,k]=(0,n.useState)(""),[B,F]=(0,n.useState)(""),[U,W]=(0,n.useState)(""),[$,V]=(0,n.useState)([]),[G,z]=(0,n.useState)([]),[H,Y]=(0,n.useState)(!1),[X,q]=(0,n.useState)(null);(0,n.useEffect)((()=>{a.getAllPlantsList().then((e=>{s(e)}))}),[]);const K=e=>{const{name:t,value:a}=e.target;let n={};if("ERPtype"===t)n={...r,plantId:null,plants:null,url:null,username:null,port:null,authkey:null,material_master:null,SalesOrg:null,ECN_required:null,bomusage:null,[t]:a};else if("plant"===t){const{id:e,plantName:t,material_master:l,SalesOrg:s,ECN_required:i,bomusage:o,ConnectivityDetails:d}=a,{url:c,username:m,password:u,port:p,authkey:h}=d;n={...r,plantId:e,plantName:t,SalesOrg:s,url:c,material_master:l,username:m,password:u,port:p,authkey:h,ECN_required:i,bomusage:o}}else n={...r,[t]:a};o(n)},Q=(null===l||void 0===l||l.filter((e=>e.ERPType===r.ERPType&&e.instance===r.instance)),(e,t)=>{Y(!0),q({severity:t,desc:e})}),Z=(e,t)=>{"clickaway"!==t&&u(!1)};(0,Pe.t$)(t,"businessUnit");return(0,g.jsxs)(He,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Create Template"}]})}),(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,g.jsxs)("form",{children:[(0,g.jsx)("h4",{children:"Create Template"}),(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsxs)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,g.jsx)("span",{children:"Template Name"})," ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"templateName",value:r.templateName,onChange:K,onBlur:e=>{const{name:t,value:a}=e.target,n=a.trim().replace(/\s+/g," ");o((e=>({...e,[t]:n})))},fullWidth:!0,margin:"normal"})}),(0,g.jsxs)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,g.jsx)("span",{children:"Description"})," ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"desc",value:r.desc,onChange:K,fullWidth:!0,margin:"normal"})}),(0,g.jsxs)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,g.jsx)("span",{children:"ERP Type "})," ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:r.ERPType,onChange:K,children:I.sd.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),("SAP"===r.ERPType||"ORACLE"===r.ERPType)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,g.jsx)("span",{children:"Instance"})," ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"instance",name:"instance",fullWidth:!0,displayEmpty:!0,value:r.instance,onChange:K,children:I.oX.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})})]}),("ORACLE"===r.ERPType||"SAP"===r.ERPType)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Design Organization ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{style:{width:"100%"},multiple:!0,name:"BU",value:$.sort(Ve.UE),onChange:e=>((e,t)=>{const a=e.target.value;if("BU"===t)V(a);else if("plants"===t){const e=l.filter((e=>a.includes(e.plantName))).map((e=>({plantName:e.plantName,id:e.id})));z(e)}})(e,"BU"),renderValue:e=>e.sort(Ve.UE).join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:t.map((e=>(0,g.jsx)(L.A,{value:e.businessUnit,children:e.businessUnit},e.businessUnit)))})})]}),"SAP"===r.ERPType&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Attributes"})}),(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{w(null),f(!0),C({name:"",mandatory:"",material_master:"",dataType:"",inputType:"",defaultValues:""}),M([])},children:"Add Attribute"})}),(0,g.jsx)("br",{}),"\xa0",(0,g.jsx)(R.Ay,{md:4,children:(0,g.jsx)("span",{children:(0,g.jsx)("div",{style:{height:"154px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",width:"500px"},children:T.map(((e,t)=>(0,g.jsx)(_e.A,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"46px"},children:(0,g.jsx)(R.Ay,{container:!0,alignItems:"center",spacing:3,children:(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"Name:"})," ",e.name,(0,g.jsx)(Re.A,{onClick:()=>(e=>{if(e>=0&&e<T.length){var t;w(e),f(!0),C({...T[e]});const a=null===(t=T[e])||void 0===t?void 0:t.values[0],n=Object.entries(a||{}).map((e=>{let[t,a]=e;return{key:t,value:a}}));M(n)}})(t),children:(0,g.jsx)(Ie.A,{})}),(0,g.jsx)(Re.A,{onClick:()=>{return e=t,void E((t=>{const a=[...t];return a.splice(e,1),a}));var e},children:(0,g.jsx)(ke.A,{})})]})})})},t)))})})})]})]})]}),(0,g.jsx)("br",{}),(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:async()=>{var t,a,n;const l=Math.floor(1e5+9e5*(0,Ve.MZ)());if(""===(null===(t=r.templateName)||void 0===t?void 0:t.trim())||!r.templateName||""===(null===(a=r.desc)||void 0===a?void 0:a.trim())||!r.desc||""===(null===(n=r.ERPType)||void 0===n?void 0:n.trim())||!r.ERPType||"SAP"===r.ERPType&&!r.instance)return void Q("Please fill the required details","error");const s={...r,id:l.toString(),attributes:T,BU:$,plants:G};e.addnewTemplate(s).then((e=>{var t;if(e&&null!==(t=Object.keys(e))&&void 0!==t&&t.length&&"failed"===(null===e||void 0===e?void 0:e.status)){var a;const t=null===e||void 0===e||null===(a=e.message)||void 0===a?void 0:a.map((e=>(0,g.jsx)("li",{children:e},ze().generate())));Q(t,"error")}else setTimeout((()=>{c("/template",{state:{message:"Template added successfully",status:"success"}})}),200)}))},children:"Submit"})})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{c(-1)}),200)},children:"Cancel"})})})]})]}),(0,g.jsx)(Be.A,{open:m,autoHideDuration:3e3,onClose:Z,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,g.jsx)(Ye,{onClose:Z,severity:v,sx:{width:"100%"},children:p})}),X?(0,g.jsx)(ve.A,{openAlert:H,openDesc:X,setOpenAlert:Y}):(0,g.jsx)(g.Fragment,{}),(0,g.jsx)($e,{open:j,handleDialogClose:()=>{f(!1)},attributeForm:S,tempObject:O,handleAttributeChange:e=>{const{name:t,value:a}=e.target;"newKey"===t?k(a):"newValue"===t?F(a):C((e=>({...e,[t]:a})))},handleAddAttribute:()=>{const e={...O,values:P.reduce(((e,t)=>(e[t.key]=t.value,e)),{})};if(""===e.material_master&&(e.material_master="Y"),""===e.mandatory&&(e.mandatory="Y"),Object.keys(e.values).length&&(e.values=[e.values]),null!==S){const t=[...T];t[S]=e,E(t)}else E((t=>[...t,e]));f(!1),C(qe),M([]),w(null)},newKey:_,newValue:B,handleAddRow:()=>{const e=P.some((e=>e.key===_)),t=P.some((e=>e.value===B));e||t?W("The key or value already exists"):(M((e=>[...e,{key:_,value:B}])),k(""),F(""),W(""))},handleDeleteRow:e=>{M((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:U,valuesInputList:P})]})})]})}const Qe=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Ze=n.forwardRef((function(e,t){return(0,g.jsx)(Fe.A,{elevation:6,ref:t,variant:"filled",...e})})),Je=(0,f.Ay)({spanRed:{color:"#FF3D57"}}),et={name:null,mandatory:null,material_master:null,dataType:null,inputType:null,values:null,defaultValues:null};function tt(){const e=new re.Q,{refreshData:t,bussinessUnitLists:a}=(0,N.A)(),l=new We,[s,r]=(0,n.useState)(),o=Je(),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(),[p,h]=(0,n.useState)(),[v,A]=(0,n.useState)(!1),[j,f]=(0,n.useState)(null),[T,E]=(0,n.useState)({}),[S,w]=(0,n.useState)([]),[O,C]=(0,n.useState)(""),[P,M]=(0,n.useState)(""),[_,k]=(0,n.useState)(""),[B,F]=(0,n.useState)(!1),[U,W]=(0,n.useState)(null),[$,V]=(0,n.useState)(!0);let G=(0,i.Zp)();(0,i.zy)();const z=(0,i.g)(),[H,Y]=(0,n.useState)(),[X,q]=(0,n.useState)({}),[K,Q]=(0,n.useState)([]),[Z,J]=(0,n.useState)([]),[ee,te]=(0,n.useState)([]);(0,n.useEffect)((()=>{l.getAllPlantsList().then((e=>{r(e)}))}),[]);const ae=e=>{const{name:t,value:a}=e.target;let n={};if("ERPtype"===t)n={...X,plantId:null,plants:null,url:null,username:null,port:null,authkey:null,material_master:null,SalesOrg:null,ECN_required:null,bomusage:null,BU:null,[t]:a};else if("plant"===t){const{id:e,plantName:t,material_master:l,ECN_required:s,bomusage:i,SalesOrg:r,ConnectivityDetails:o}=a,{url:d,username:c,password:m,port:u,authkey:p}=o;n={...X,plantId:e,plantName:t,ECN_required:s,bomusage:i,SalesOrg:r,url:d,material_master:l,username:c,password:m,port:u,authkey:p}}else n={...X,[t]:a};q(n)},ne=(null===s||void 0===s||s.filter((e=>e.ERPType===X.ERPType&&e.instance===X.instance)),(e,t)=>{F(!0),W({severity:t,desc:e})}),ie=(e,t)=>{"clickaway"!==t&&c(!1)};return(0,n.useEffect)((()=>{null!==z&&void 0!==z&&z.tempId?(V(!0),e.getTemplateById({id:null===z||void 0===z?void 0:z.tempId}).then((e=>{var t;if(V(!1),e&&null!==Object&&void 0!==Object&&null!==(t=Object.keys(e))&&void 0!==t&&t.length){const t=e;Y(t),J(t.BU),Q(t.attributes),te(t.plants),q({id:t.id,templates:t.templates,templateName:t.templateName,desc:t.desc,ERPType:t.ERPType,instance:t.instance,plantId:t.plantId,plantName:t.plantName,port:t.port,url:t.url,username:t.username,attributes:t.attributes,ECN_required:t.ECN_required,bomusage:t.bomusage,BU:t.BU})}else G("/template",{state:{message:"Template not found!",status:"error"}})}))):setTimeout((()=>{G("/template",{state:{message:"Template not found!",status:"error"}})}),200)}),[]),(0,Pe.t$)(a,"businessUnit"),(0,g.jsxs)(Qe,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Edit Template"}]})}),(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,g.jsxs)("form",{children:[(0,g.jsx)("h4",{children:"Edit Template"}),(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsxs)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,g.jsx)("span",{children:"Template Name"}),(0,g.jsx)("span",{className:o.spanRed,children:"*"})]}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"templateName",value:X.templateName,onChange:ae,fullWidth:!0,margin:"normal",disabled:!0})}),(0,g.jsxs)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,g.jsx)("span",{children:"Description"}),(0,g.jsx)("span",{className:o.spanRed,children:"*"})]}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"desc",value:X.desc,onChange:ae,fullWidth:!0,margin:"normal"})}),("SAP"===X.ERPType||"ORACLE"===X.ERPType)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,g.jsx)("span",{children:"ERP Type "}),(0,g.jsx)("span",{className:o.spanRed,children:"*"})]}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:null===X||void 0===X?void 0:X.ERPType,onChange:ae,children:null===I.sd||void 0===I.sd?void 0:I.sd.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),(0,g.jsxs)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,g.jsx)("span",{children:"Instance"}),(0,g.jsx)("span",{className:o.spanRed,children:"*"})]}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{label:"instance",id:"instance",name:"instance",fullWidth:!0,displayEmpty:!0,value:X.instance,onChange:ae,children:null===I.oX||void 0===I.oX?void 0:I.oX.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})})]}),("ORACLE"===X.ERPType||"SAP"===X.ERPType)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Design Organization ",(0,g.jsx)("span",{className:o.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{style:{width:"100%"},multiple:!0,name:"BU",value:Z.sort(Ve.UE),onChange:e=>((e,t)=>{const a=e.target.value;if("BU"===t)J(a);else if("plants"===t){const e=null===s||void 0===s?void 0:s.filter((e=>a.includes(e.plantName))),t=null===e||void 0===e?void 0:e.map((e=>({plantName:e.plantName,id:e.id})));te(t)}})(e,"BU"),renderValue:e=>e.sort(Ve.UE).join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===a||void 0===a?void 0:a.map((e=>(0,g.jsx)(L.A,{value:e.businessUnit,children:e.businessUnit},e.businessUnit)))})})]}),"SAP"===X.ERPType&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Attributes"})}),(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{f(null),A(!0),E({name:"",mandatory:"",material_master:"",dataType:"",inputType:"",defaultValues:""}),w([])},children:"Add Attribute"})}),(0,g.jsx)("br",{}),"\xa0",(0,g.jsx)(R.Ay,{md:4,children:(0,g.jsx)("span",{children:(0,g.jsx)("div",{style:{height:"154px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",width:"500px"},children:null===K||void 0===K?void 0:K.map(((e,t)=>(0,g.jsx)(_e.A,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"46px"},children:(0,g.jsx)(R.Ay,{container:!0,alignItems:"center",spacing:3,children:(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"Name:"})," ",e.name,(0,g.jsx)(Re.A,{onClick:()=>(e=>{if(e>=0&&e<K.length){var t,a;f(e),A(!0);const n={...K[e]},l=null===(t=K[e])||void 0===t?void 0:t.values[0],s=null===(a=Object.entries(l||{}))||void 0===a?void 0:a.map((e=>{let[t,a]=e;return{key:t,value:a}}));w(s),E(n)}})(t),children:(0,g.jsx)(Ie.A,{})}),(0,g.jsx)(Re.A,{onClick:()=>(e=>{if(e>=0&&e<K.length){const t=[...K];t.splice(e,1),Q(t)}})(t),children:(0,g.jsx)(ke.A,{})})]})})})},t)))})})})]})]}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:async()=>{var t,a,n;""!==(null===(t=X.templateName)||void 0===t?void 0:t.trim())&&X.templateName&&""!==(null===(a=X.desc)||void 0===a?void 0:a.trim())&&X.desc&&""!==(null===(n=X.ERPType)||void 0===n?void 0:n.trim())&&X.ERPType&&("SAP"!==X.ERPType||X.instance)?q((t=>{const a={...t,id:X.id,templates:X.templates,attributes:K,BU:Z,plants:ee};return e.updateTemplate(a).then((e=>{var t;if(e&&null!==(t=Object.keys(e))&&void 0!==t&&t.length&&"failed"===(null===e||void 0===e?void 0:e.status)){var a;const t=null===e||void 0===e||null===(a=e.message)||void 0===a?void 0:a.map((e=>(0,g.jsx)("li",{children:e},ze().generate())));ne(t,"error")}else setTimeout((()=>{G("/template",{state:{message:e.msg,status:e.status}})}),200)})),a})):ne("Please fill the required details","error")},children:"Update"})})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{G(-1)}),200)},children:"Cancel"})})})]})]}),(0,g.jsx)(Be.A,{open:d,autoHideDuration:3e3,onClose:ie,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,g.jsx)(Ze,{onClose:ie,severity:p,sx:{width:"100%"},children:m})}),U?(0,g.jsx)(ve.A,{openAlert:B,openDesc:U,setOpenAlert:F}):(0,g.jsx)(g.Fragment,{}),t||$?(0,g.jsx)("div",{style:{textAlign:"center"},children:(0,g.jsx)(le.A,{show:!0})}):(0,g.jsx)(g.Fragment,{}),(0,g.jsx)($e,{open:v,handleDialogClose:()=>{A(!1)},attributeForm:j,tempObject:T,handleAttributeChange:e=>{const{name:t,value:a}=e.target;"newKey"===t?C(a):"newValue"===t?M(a):E((e=>({...e,[t]:a})))},handleAddAttribute:()=>{const e={...T,values:S.reduce(((e,t)=>(e[t.key]=t.value,e)),{})};if(""===e.material_master&&(e.material_master=H),""===e.mandatory&&(e.mandatory="Y"),Object.keys(e.values).length&&(e.values=[e.values]),null!==j){const t=[...K];t[j]=e,Q(t)}else if(K)Q((t=>[...t,e]));else{Q([e])}A(!1),E(et),w([]),f(null)},newKey:O,newValue:P,handleAddRow:()=>{const e=S.some((e=>e.key===O)),t=S.some((e=>e.value===P));e||t?k("The key or value already exists"):(w((e=>[...e,{key:O,value:P}])),C(""),M(""),k(""))},handleDeleteRow:e=>{w((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:_,valuesInputList:S})]})})]})}const at=[{path:"/template",element:(0,g.jsx)(Q,{children:(0,g.jsx)(Ne,{})})},{path:"/createTemplate",exact:!0,element:(0,g.jsx)(Q,{children:(0,g.jsx)(Ke,{})})},{path:"/editTemplate/:tempId",exact:!0,element:(0,g.jsx)(Q,{children:(0,g.jsx)(tt,{})})}],nt={sa:["SA"],admin:["SA","ADMIN"],editor:["SA","ADMIN","EDITOR"],guest:["SA","ADMIN","EDITOR","GUEST"]};var lt=a(81637);const st=e=>{const t=new re.Q,[a,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)((null===e||void 0===e?void 0:e.plantData)||[]),[r,o]=(0,n.useState)("allData"),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[v,A]=(0,n.useState)(null);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{l(!0)},children:"Export"}),(0,g.jsxs)(J.A,{open:a,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,g.jsx)(te.A,{children:(0,g.jsx)(ae.A,{children:(0,g.jsx)(y.A,{width:"100%",overflow:"auto",children:(0,g.jsx)(x.Tn,{children:(0,g.jsx)(R.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,g.jsx)(R.Ay,{container:!0,alignItems:"center",children:(0,g.jsxs)(Ee.A,{children:[(0,g.jsx)(Se.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,g.jsxs)(be.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:r,onChange:t=>{o(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.plantData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,g.jsx)(Te.A,{value:"allData",control:(0,g.jsx)(ye.A,{}),label:"All Data"}),(0,g.jsx)(Te.A,{value:"selectedData",control:(0,g.jsx)(ye.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"}),(0,g.jsx)(b.A,{onClick:()=>{l(!1);let a=("allData"!==r?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.plantData)||[],n=null===a||void 0===a?void 0:a.map((e=>({"Plant Name":e.plantName,"ERP Type":e.ERPType,Instance:e.instance,"Export To ERP":e.exportToERP})));t.exportTemplate({data:n,sheet_name:"Plants"}).then((e=>{u(e),c(!0),h(!0),A({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),v?(0,g.jsx)(ve.A,{openAlert:p,openDesc:v,setOpenAlert:h}):(0,g.jsx)(g.Fragment,{})]})},it=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),rt=()=>{const e=new We,[t,a]=(0,n.useState)(!1),[l,s]=(0,n.useState)(""),[r,o]=(0,n.useState)([]),[d,c]=(0,n.useState)([]),[m,u]=(0,n.useState)(),[p,h]=(0,n.useState)(!1),[v,A]=(0,n.useState)(null),[j,f]=(0,n.useState)({}),[T,E]=(0,n.useState)({}),[S,w]=(0,n.useState)([]),O=(0,n.useRef)(null),C=O&&O.current&&O.current.dataMap?O.current.dataMap:null,P=(0,n.useCallback)((e=>{let{selected:t}=e;E(t)}),[]),[M,D]=(0,n.useState)(!0);(0,n.useEffect)((()=>{D(!0),e.getAllPlantsList().then((e=>{o(e),c(e),N(e)})).finally((()=>{D(!1)}))}),[]);const[L,N]=(0,n.useState)([]);let _=(0,Pe.t$)([...L],"plantName");(0,n.useEffect)((()=>{N(r)}),[r]);const I=(0,i.Zp)(),k=(0,n.useRef)("initialValue"),B=e=>{a(!0),u(e)},F=e=>{k.current="edit";const t=e;setTimeout((()=>{I(`/editPlant/${null===t||void 0===t?void 0:t.id}`,{state:{plantMode:k.current,selectedPlantData:t}})}),200)},U=(e,t)=>{h(!0),A({severity:t,desc:e})};(0,n.useEffect)((()=>{const e=!0===T?C:T,t=e&&Object.keys(e).map((t=>e[t]));w(t)}),[T,C]),(0,n.useEffect)((()=>{const e=r.filter((e=>""===l||e.plantName.toLowerCase().includes(l.toLowerCase())||e.instance.toLowerCase().includes(l.toLowerCase())||e.ERPType.toLowerCase().includes(l.toLowerCase())));N(e)}),[l,r]);const W=e=>{f(e);const t=Ce(rt)({data:r,sortInfo:e,sortedPlanteData:_,onSortInfoChange:W,initialData:d});o(t.props.data),N(t.props.data)};return(0,g.jsxs)(it,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Plant"}]})}),(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(se.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;s(t)},value:l,style:{width:"100%"}})}),(0,g.jsxs)(R.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{},children:"Search"}),(0,g.jsx)("div",{style:{flex:1}}),(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,onClick:()=>{k.current="create",setTimeout((()=>{I("/createPlant",{state:{plantMode:k.current}})}),200)},children:"Create"}),(0,g.jsx)(b.A,{variant:"contained",disabled:1!==(null===S||void 0===S?void 0:S.length),onClick:()=>{F(S[0])},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,g.jsx)(b.A,{variant:"contained",disabled:null===S||void 0===S||!S.length,onClick:()=>{B(S[0]),a(!0)},style:{margin:"0 10px"},children:"Delete"}),(0,g.jsx)(st,{plantData:j&&0===Object.keys(j).length?_:r,filterTemplateData:S})]}),(0,g.jsxs)(y.A,{width:"100%",overflow:"auto",children:[(0,g.jsx)("br",{}),M?(0,g.jsx)(y.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:550},children:(0,g.jsx)(lt.A,{})}):(0,g.jsx)(Oe.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:[{name:"plantName",header:(0,g.jsx)(ie.A,{title:"Name",children:"Plant Name"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.plantName})}},{name:"ERPType",header:(0,g.jsx)(ie.A,{title:"ERP Type",children:"ERP Type"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.ERPType})}},{name:"instance",header:(0,g.jsx)(ie.A,{title:"instance",children:"Instance"}),defaultFlex:1,defaultWidth:50},{name:"exportToERP",header:(0,g.jsx)(ie.A,{title:"Export To ERP",children:"Export To ERP"}),defaultFlex:1,defaultWidth:50}],dataSource:null===j?L:_,checkboxColumn:!0,selected:T,onSelectionChange:P,handle:e=>O.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===O||void 0===O||null===(e=O.current)||void 0===e?void 0:e.setScrollTop(0==(null===S||void 0===S?void 0:S.length)?0:null===O||void 0===O||null===(t=O.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:W})]})]})}),v?(0,g.jsx)(ve.A,{openAlert:p,openDesc:v,setOpenAlert:h}):(0,g.jsx)(g.Fragment,{}),(0,g.jsxs)(J.A,{open:t,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Plant"}),(0,g.jsx)(te.A,{children:1===S.length?(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(ae.A,{children:["Do you want to delete the plant ",(0,g.jsx)("b",{children:null===m||void 0===m?void 0:m.plantName})," ","with instance ",(0,g.jsx)("b",{children:null===m||void 0===m?void 0:m.instance})," having Design Organizations"," "]})}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(ae.A,{children:"Do you want to delete the seleted plants?"})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{autoFocus:!0,onClick:()=>{a(!1)},children:"Cancel"}),(0,g.jsx)(b.A,{onClick:async()=>{a(!1);try{const t=null===S||void 0===S?void 0:S.map((e=>null===e||void 0===e?void 0:e.id));await e.deletePlant(t),E({}),w([])}catch(t){return t}e.getAllPlantsList().then((e=>{o(e)})),U("Plant deleted successfully","success")},children:"delete"})]})]})]})},ot=rt;var dt=a(63516);function ct(e){let{open:t,connDetails:a,handleCDChange:n,handleAddCD:l,connectivityError:s,handleDialogClose:i,plantForm:r}=e;return(0,g.jsxs)(J.A,{open:t,children:[(0,g.jsx)(ne.A,{children:"Add Connectivity details"}),(0,g.jsxs)(te.A,{children:[(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"URL :"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{label:"URL",name:"url",value:a.url,onChange:n,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Username :"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{label:"Username",name:"username",value:a.username,onChange:n,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Password :"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{label:"Password",name:"password",value:(null===a||void 0===a?void 0:a.password)||"",onChange:n,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"AuthKey :"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{label:"Authkey",name:"authkey",value:a.authkey,onChange:n,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Port :"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{label:"Port",name:"port",value:a.port,onChange:n,fullWidth:!0,margin:"normal"})}),"SAP"===r.ERPType&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"sapsysnum :"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{label:"sapsysnum",name:"sapsysnum",value:a.sapsysnum,onChange:n,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"sapclientid :"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{label:"sapclientid",name:"sapclientid",value:a.sapclientid,onChange:n,fullWidth:!0,margin:"normal"})})]})]}),(0,g.jsx)("p",{style:{color:"red"},children:s})]}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:i,children:"Cancel"}),(0,g.jsx)(b.A,{onClick:l,children:"Add"})]})]})}const mt=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),ut=(0,f.Ay)({spanRed:{color:"#FF3D57"}});function pt(){var e;const t=new We,{bussinessUnitLists:a}=(0,N.A)(),[l,s]=(0,n.useState)(),[r,o]=(0,n.useState)(!1),d=ut(),[c,m]=(0,n.useState)({BU:[],exportToERP:"Y",ERPType:"",instance:"",orgId:"",plantName:"",SalesOrg:"",aliasPlant:"",material_master:"",ECN_required:"",bomusage:""}),[u,p]=(0,n.useState)({}),[h,v]=(0,n.useState)(),[A,j]=(0,n.useState)([]),[f,T]=(0,n.useState)(!1),[E,S]=(0,n.useState)(null);let w=(0,i.Zp)();const O=[{value:"Y",label:"Yes"},{value:"N",label:"No"}];(0,n.useEffect)((()=>{t.getAllPlantsList().then((e=>{s(e.plant)}))}),[]);const C=e=>{const{name:t,value:a}=e.target,n={...c,[t]:a};m(n)},P=()=>{o(!1),v(""),p("")},M=(e,t)=>{T(!0),S({severity:t,desc:e})};return(0,g.jsxs)(mt,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Create Plant"}]})}),(0,g.jsx)(dt.l1,{initialValues:{id:"",plants:"",ERPType:"",instance:"",Connectivitydetails:{}},onSubmit:()=>{},children:(0,g.jsx)(dt.lV,{children:(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,g.jsx)("h4",{children:"Create Plant"}),(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Plant Name ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"plantName",value:c.plantName,onChange:C,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["ERP Type ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"ERPType",name:"ERPType",fullWidth:!0,displayEmpty:!0,value:c.ERPType,onChange:C,children:I.sd.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),("SAP"===c.ERPType||"ORACLE"===c.ERPType||"JDE"===c.ERPType)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Organization Id",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{label:"Organization Id",name:"orgId",value:c.orgId,onChange:C,fullWidth:!0,margin:"normal"})})]}),("SAP"===c.ERPType||"ORACLE"===c.ERPType||"JDE"===c.ERPType)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Instance ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"instance",name:"instance",fullWidth:!0,displayEmpty:!0,value:c.instance,onChange:C,children:I.oX.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})})]}),(null===(e=["ORACLE","SAP","JDE"])||void 0===e?void 0:e.includes(c.ERPType))&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Export to ERP"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"exportToERP",name:"exportToERP",fullWidth:!0,displayEmpty:!0,value:c.exportToERP,onChange:C,children:I.FD.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})})]}),"SAP"===c.ERPType&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Default Sales Org",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{label:"Sales Org",name:"SalesOrg",value:c.SalesOrg,onChange:C,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Material Master ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"material_master",name:"material_master",fullWidth:!0,displayEmpty:!0,value:c.material_master,onChange:C,children:O.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),"Y"===c.material_master&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Plant Alias Name",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"aliasPlant",value:c.aliasPlant,onChange:C,fullWidth:!0,margin:"normal"})})]}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["ECN Required ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"ECN_required",name:"ECN_required",fullWidth:!0,displayEmpty:!0,value:c.ECN_required,onChange:C,children:O.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["BOM Usage ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"bomusage",name:"bomusage",fullWidth:!0,displayEmpty:!0,value:c.bomusage,onChange:C,children:I.Ch.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),console.log(c.ERPType,"plantForm.ERPType"),"SAP"===c.ERPType&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Connectivity Details "})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsxs)("span",{children:[0===Object.keys(u).length&&(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{o(!0)},children:"Add Connectivity Details"}),Object.keys(u).length>0&&(0,g.jsx)(R.Ay,{item:!0,md:12,sm:8,xs:12,children:(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{style:{display:"flex"},children:[(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"URL :"})," ",u.url]})," ","\xa0",(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"Username :"})," ",u.username]})," ","\xa0",(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"Pass :"})," ",u.password]})," ","\xa0",(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"AuthKey :"})," ",u.authkey]})," ","\xa0",(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"Port :"})," ",u.port]})," ","\xa0","SAP"===c.ERPType&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"sapsysnum :"})," ",u.sapsysnum]})," ","\xa0",(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"sapclientid :"})," ",u.sapclientid]})," "]}),(0,g.jsxs)("p",{children:[" ",(0,g.jsx)(Ie.A,{onClick:()=>{o(!0)}})]})]})})})]})})]})]}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{type:"submit",variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e,a,n,l,s,i,r;const o={id:c.plantName+"_"+c.ERPType+"_"+c.instance,plants:c.plantName+"_"+c.ERPType,plantName:c.plantName,ERPType:c.ERPType,orgId:c.orgId,SalesOrg:c.SalesOrg,aliasPlant:c.aliasPlant,material_master:c.material_master,ECN_required:c.ECN_required,bomusage:c.bomusage,exportToERP:c.exportToERP,ConnectivityDetails:u};null!==c&&void 0!==c&&c.instance&&(o.instance=null===c||void 0===c?void 0:c.instance,o.id=c.plantName+"_"+c.ERPType+"_"+c.instance,o.plants=c.plantName+"_"+c.ERPType+"_"+c.instance),""!==(null===(e=c.plantName)||void 0===e?void 0:e.trim())&&c.plantName&&""!==(null===(a=c.ERPType)||void 0===a?void 0:a.trim())&&c.ERPType&&""!==(null===(n=c.instance)||void 0===n?void 0:n.trim())&&c.instance&&""!==(null===(l=c.exportToERP)||void 0===l?void 0:l.trim())&&c.exportToERP&&("SAP"!==c.ERPType||""!==(null===(s=c.plantName)||void 0===s?void 0:s.trim())&&c.plantName)&&("SAP"!==c.ERPType||""!==(null===(i=c.material_master)||void 0===i?void 0:i.trim())&&c.material_master)&&("SAP"!==c.ERPType||""!==(null===(r=c.bomusage)||void 0===r?void 0:r.trim())&&c.bomusage)&&("SAP"!==c.ERPType||c.instance)?t.addnewPlant(o).then((e=>{var t,a,n;if(e&&null!==e&&void 0!==e&&e.data&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.length)if(null!==e&&void 0!==e&&null!==(a=e.data[0])&&void 0!==a&&a.id)M("Plant added successfully!","success"),setTimeout((()=>{w("/plants")}),2e3);else if(null!==e&&void 0!==e&&null!==(n=e.data[0])&&void 0!==n&&n.msg){var l;M(null===e||void 0===e||null===(l=e.data[0])||void 0===l?void 0:l.msg,"error")}})):M("Please fill required details ","error")},children:"Submit"})})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{w(-1)}),200)},children:"Cancel"})})})]})]})})})}),E?(0,g.jsx)(ve.A,{openAlert:f,openDesc:E,setOpenAlert:T}):(0,g.jsx)(g.Fragment,{}),(0,g.jsx)(ct,{open:r,onClose:P,connDetails:u,handleDialogClose:P,handleCDChange:e=>{p({...u,[e.target.name]:e.target.value})},handleAddCD:()=>{o(!1)},connectivityError:h,plantForm:c,classes:d})]})}const ht=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),xt=(0,f.Ay)({spanRed:{color:"#FF3D57"}});function gt(){var e;const{refreshData:t}=(0,N.A)(),a=new We,[l,s]=(0,n.useState)(),[r,o]=(0,n.useState)(!1),d=xt(),[c,m]=(0,n.useState)(!0),[u,p]=(0,n.useState)(),h=((0,i.zy)(),(0,i.Zp)()),v=(0,i.g)(),[A,j]=(0,n.useState)(!1),[f,T]=(0,n.useState)(null),[E,S]=(0,n.useState)({}),[w,O]=(0,n.useState)({}),[C,P]=(0,n.useState)([]),[M,_]=(0,n.useState)({}),k=[{value:"Y",label:"Yes"},{value:"N",label:"No"}];(0,n.useEffect)((()=>{a.getAllPlantsList().then((e=>{s(e.plant)}))}),[]);const B=e=>{const{name:t,value:a}=e.target,n={...E,[t]:a};S(n)},F=()=>{o(!1),p("")},U=(e,t)=>{j(!0),T({severity:t,desc:e})};return(0,n.useEffect)((()=>{null!==v&&void 0!==v&&v.plantId?(m(!0),a.getPlantById({id:null===v||void 0===v?void 0:v.plantId}).then((e=>{var t;if(m(!1),null!==e&&void 0!==e&&e.data&&null!==Object&&void 0!==Object&&null!==(t=Object.keys(null===e||void 0===e?void 0:e.data))&&void 0!==t&&t.length){var a,n,l,s,i,r,o,d,c,u,p,x;const t=null===e||void 0===e?void 0:e.data;_(t),P(null===t||void 0===t?void 0:t.BU),S({id:null===t||void 0===t?void 0:t.id,plants:null===t||void 0===t?void 0:t.plants,plantName:null===t||void 0===t?void 0:t.plantName,SalesOrg:null===t||void 0===t?void 0:t.SalesOrg,aliasPlant:null===t||void 0===t?void 0:t.aliasPlant,ERPType:null===t||void 0===t?void 0:t.ERPType,instance:null===t||void 0===t?void 0:t.instance,material_master:null===t||void 0===t?void 0:t.material_master,ECN_required:null===t||void 0===t?void 0:t.ECN_required,bomusage:null===t||void 0===t?void 0:t.bomusage,exportToERP:null===t||void 0===t?void 0:t.exportToERP,Connectivitydetails:{url:null===t||void 0===t||null===(a=t.ConnectivityDetails)||void 0===a?void 0:a.url,username:null===t||void 0===t||null===(n=t.ConnectivityDetails)||void 0===n?void 0:n.username,password:null===t||void 0===t||null===(l=t.ConnectivityDetails)||void 0===l?void 0:l.password,authkey:null===t||void 0===t||null===(s=t.ConnectivityDetails)||void 0===s?void 0:s.authkey,port:null===t||void 0===t||null===(i=t.ConnectivityDetails)||void 0===i?void 0:i.port}}),O({url:null===t||void 0===t||null===(r=t.ConnectivityDetails)||void 0===r?void 0:r.url,username:null===t||void 0===t||null===(o=t.ConnectivityDetails)||void 0===o?void 0:o.username,password:null===t||void 0===t||null===(d=t.ConnectivityDetails)||void 0===d?void 0:d.password,authkey:null===t||void 0===t||null===(c=t.ConnectivityDetails)||void 0===c?void 0:c.authkey,port:null===t||void 0===t||null===(u=t.ConnectivityDetails)||void 0===u?void 0:u.port,sapsysnum:null===t||void 0===t||null===(p=t.ConnectivityDetails)||void 0===p?void 0:p.sapsysnum,sapclientid:null===t||void 0===t||null===(x=t.ConnectivityDetails)||void 0===x?void 0:x.sapclientid})}else h("/plants",{state:{message:"Plant not found!",status:"error"}})}))):setTimeout((()=>{h("/plants",{state:{message:"Plant not found!",status:"error"}})}),200)}),[]),(0,g.jsxs)(ht,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Edit Plant"}]})}),(0,g.jsx)(dt.l1,{initialValues:{id:"",plants:"",ERPType:"",instance:"",Connectivitydetails:{}},onSubmit:()=>{},children:(0,g.jsx)(dt.lV,{children:(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,g.jsx)("h4",{children:"Edit Plant"}),(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Plant Name ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{disabled:!0,name:"plantName",value:E.plantName,onChange:B,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["ERP Type ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"ERPType",name:"ERPType",label:"ERPType",fullWidth:!0,disabled:!0,displayEmpty:!0,value:[null===E||void 0===E?void 0:E.ERPType],onChange:B,children:I.sd.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),("SAP"===E.ERPType||"ORACLE"===E.ERPType)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Instance ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{label:"instance",id:"instance",name:"instance",disabled:!0,fullWidth:!0,displayEmpty:!0,value:E.instance,onChange:B,children:I.oX.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})})]}),(null===(e=["ORACLE","SAP"])||void 0===e?void 0:e.includes(E.ERPType))&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Export To ERP"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"exportToERP",name:"exportToERP",fullWidth:!0,displayEmpty:!0,value:E.exportToERP,onChange:B,children:I.FD.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})})]}),"SAP"===E.ERPType&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Default Sales Org"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{label:"SalesOrg",name:"SalesOrg",defaultValue:E.SalesOrg,onChange:B,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Material Master"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"material_master",name:"material_master",label:"material_master",fullWidth:!0,displayEmpty:!0,value:E.material_master,onChange:B,children:k.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),"Y"===E.material_master&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Plantname Alias"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{label:"aliasPlant",name:"aliasPlant",value:E.aliasPlant,onChange:B,fullWidth:!0,margin:"normal"})})]}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"ECN Required"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"ECN_required",name:"ECN_required",label:"ECN_required",fullWidth:!0,displayEmpty:!0,value:E.ECN_required,onChange:B,children:k.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"BOM Usage"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"bomusage",name:"bomusage",fullWidth:!0,displayEmpty:!0,value:E.bomusage,onChange:B,children:I.Ch.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),function(e){for(let t in e)if(e.hasOwnProperty(t)&&""!==e[t]&&void 0!==e[t])return!0;return!1}(w)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Connectivity Details "})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsxs)("span",{children:[0===Object.keys(w).length||null===(null===M||void 0===M?void 0:M.ConnectivityDetails)&&(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{o(!0)},children:"Add Connectivity Details"}),(Object.keys(w).length>0||null!==(null===M||void 0===M?void 0:M.ConnectivityDetails))&&(0,g.jsx)(R.Ay,{item:!0,md:12,sm:8,xs:12,children:(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{style:{display:"flex"},children:[(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"URL :"})," ",w.url]})," ","\xa0",(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"Username :"})," ",w.username]})," ","\xa0",(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"Pass :"})," ",w.password]})," ","\xa0",(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"authkey :"})," ",w.authkey]})," ","\xa0",(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"Port :"})," ",w.port]})," ","\xa0","SAP"===E.ERPType&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"sapsysnum :"})," ",w.sapsysnum]})," ","\xa0",(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"sapclientid :"})," ",w.sapclientid]})," "]}),(0,g.jsxs)("p",{children:[" ",(0,g.jsx)(Ie.A,{onClick:()=>{o(!0)}})]})]})})})]})})]})]}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{type:"submit",variant:"contained",color:"primary",margin:"2px",onClick:async()=>{var e,t,n,l,s,i,r;m(!0);const o={id:E.id,plants:E.plants,plantName:E.plantName,ERPType:E.ERPType,SalesOrg:E.SalesOrg,aliasPlant:E.aliasPlant,material_master:E.material_master,ECN_required:E.ECN_required,bomusage:E.bomusage,ConnectivityDetails:w,exportToERP:E.exportToERP};null!==E&&void 0!==E&&E.instance&&(o.instance=null===E||void 0===E?void 0:E.instance),""!==(null===(e=E.plantName)||void 0===e?void 0:e.trim())&&E.plantName&&""!==(null===(t=E.ERPType)||void 0===t?void 0:t.trim())&&E.ERPType&&""!==(null===(n=E.instance)||void 0===n?void 0:n.trim())&&E.instance&&""!==(null===(l=E.exportToERP)||void 0===l?void 0:l.trim())&&E.exportToERP&&("SAP"!==E.ERPType||""!==(null===(s=E.plantName)||void 0===s?void 0:s.trim())&&E.plantName)&&("SAP"!==E.ERPType||""!==(null===(i=E.material_master)||void 0===i?void 0:i.trim())&&E.material_master)&&("SAP"!==E.ERPType||""!==(null===(r=E.bomusage)||void 0===r?void 0:r.trim())&&E.bomusage)&&("SAP"!==E.ERPType||E.instance)?(m(!0),await a.updatePlant(o).then((e=>{var t;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(U("Plant updated successfully","success"),setTimeout((()=>{m(!1),h("/plants")}),2e3)):e.msg&&m(!1)}))):(U("Please fill required details ","error"),m(!1))},children:"Update"})})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{h(-1)}),200)},children:"Cancel"})})})]})]})})})}),f?(0,g.jsx)(ve.A,{openAlert:A,openDesc:f,setOpenAlert:j}):(0,g.jsx)(g.Fragment,{}),t||c?(0,g.jsx)("div",{style:{textAlign:"center"},children:(0,g.jsx)(le.A,{show:!0})}):(0,g.jsx)(g.Fragment,{}),(0,g.jsx)(ct,{open:r,onClose:F,connDetails:w,handleDialogClose:F,handleCDChange:e=>{O({...w,[e.target.name]:e.target.value})},handleAddCD:()=>{o(!1)},connectivityError:u,plantForm:E,classes:d})]})}const vt=[{path:"/plants",element:(0,g.jsx)(Q,{children:(0,g.jsx)(ot,{})})},{path:"/createPlant",exact:!0,element:(0,g.jsx)(Q,{children:(0,g.jsx)(pt,{})})},{path:"/editPlant/:plantId",exact:!0,element:(0,g.jsx)(Q,{children:(0,g.jsx)(gt,{})})}];class At{constructor(){this.getAllSourceList=()=>Ue.A.get(`${d.Sb}/sourceList/getSource`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getSourceDetails",e),[]))),this.deleteSource=e=>Ue.A.delete(`${d.Sb}/sourceList/deleteSource`,{data:{ids:e}},d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting source:",e),e})),this.addnewSource=e=>Ue.A.post(`${d.Sb}/sourceList/addSource`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewSource",e),[]))),this.updateSource=e=>Ue.A.put(`${d.Sb}/sourceList/updateSource`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.getSourceById=e=>Ue.A.post(`${d.Sb}/sourceList/getSourceById`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getPlantById",e),[])))}}const jt=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),ft=(0,f.Ay)({spanRed:{color:"#FF3D57"}});function yt(){const[e,t]=(0,n.useState)({}),[a,l]=(0,n.useState)(!1),[s,r]=(0,n.useState)(null),o=ft();let d=(0,i.Zp)();const c=new At,m=a=>{const{name:n,value:l}=a.target,s={...e,[n]:l};t(s)},u=(e,t)=>{l(!0),r({severity:t,desc:e})};return(0,g.jsxs)(jt,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Create Source"}]})}),(0,g.jsxs)("form",{children:[(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,g.jsx)("h4",{children:"Create Source"}),(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Source ",(0,g.jsx)("span",{className:o.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"source",value:e.source,onChange:m,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Instance ",(0,g.jsx)("span",{className:o.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"instance",value:e.instance,onChange:m,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Environment ",(0,g.jsx)("span",{className:o.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"environment",value:e.environment,onChange:m,fullWidth:!0,margin:"normal"})}),(0,g.jsxs)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,g.jsx)("span",{children:"ERP Type "})," ",(0,g.jsx)("span",{className:o.spanRed,children:"*"})]}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:e.ERPType,onChange:m,children:I.sd.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})})]}),(0,g.jsx)("br",{}),(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var t,a,n,l;if(""===(null===(t=e.source)||void 0===t?void 0:t.trim())||!e.source||""===(null===(a=e.environment)||void 0===a?void 0:a.trim())||!e.environment||""===(null===(n=e.instance)||void 0===n?void 0:n.trim())||!e.instance||""===(null===(l=e.ERPType)||void 0===l?void 0:l.trim())||!e.ERPType)return void u("Please fill the require details","error");const s={source:e.source,environment:e.environment,instance:e.instance,ERPType:e.ERPType};c.addnewSource(s).then((e=>{var t,a;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(u("Source added successfully!","success"),setTimeout((()=>{d("/sourceList")}),2e3)):null!==e&&void 0!==e&&null!==(a=e.data[0])&&void 0!==a&&a.msg&&u(e.data[0].msg,"error")}))},children:"Submit"})})}),(0,g.jsx)(R.Ay,{item:!0,md:2,sm:4,xs:6,className:"font-medium",children:(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{d(-1)}),200)},children:"Cancel"})})})]})]})}),s?(0,g.jsx)(ve.A,{openAlert:a,openDesc:s,setOpenAlert:l}):(0,g.jsx)(g.Fragment,{})]})]})}const bt=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Tt=(0,f.Ay)({spanRed:{color:"#FF3D57"}});function Et(){const{refreshData:e}=(0,N.A)(),[t,a]=(0,n.useState)(!0),[l,s]=(0,n.useState)(!1),[r,o]=(0,n.useState)(null),d=((0,i.zy)(),Tt());let c=(0,i.Zp)();const m=(0,i.g)(),u=new At,[p,h]=(0,n.useState)({}),v=e=>{const{name:t,value:a}=e.target,n={...p,[t]:a};h(n)},A=(e,t)=>{s(!0),o({severity:t,desc:e})};return(0,n.useEffect)((()=>{null!==m&&void 0!==m&&m.sourceId?(a(!0),u.getSourceById({id:null===m||void 0===m?void 0:m.sourceId}).then((e=>{var t;if(a(!1),null!==e&&void 0!==e&&e.data&&null!==Object&&void 0!==Object&&null!==(t=Object.keys(null===e||void 0===e?void 0:e.data))&&void 0!==t&&t.length){const t=null===e||void 0===e?void 0:e.data;h({source:t.source,environment:t.environment,instance:t.instance,ERPType:t.ERPType})}else c("/sourceList",{state:{message:"Source not found!",status:"error"}})}))):setTimeout((()=>{c("/sourceList",{state:{message:"Source not found!",status:"error"}})}),200)}),[]),(0,g.jsxs)(bt,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Edit Source"}]})}),(0,g.jsxs)("form",{children:[(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,g.jsx)("h4",{children:"Edit Source"}),(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Source ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"source",disabled:!0,value:p.source,onChange:v,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Instance ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"instance",disabled:!0,value:p.instance,onChange:v,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Environment ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"environment",value:p.environment,onChange:v,fullWidth:!0,margin:"normal"})}),(0,g.jsxs)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,g.jsx)("span",{children:"ERP Type "})," ",(0,g.jsx)("span",{className:d.spanRed,children:"*"})]}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{disabled:!0,name:"ERPType",fullWidth:!0,value:[p.ERPType],onChange:v,children:I.sd.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})})]}),(0,g.jsx)("br",{}),(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:async()=>{var e,t,n,l;if(a(!0),""===(null===(e=p.source)||void 0===e?void 0:e.trim())||!p.source||""===(null===(t=p.environment)||void 0===t?void 0:t.trim())||!p.environment||""===(null===(n=p.instance)||void 0===n?void 0:n.trim())||!p.instance||""===(null===(l=p.ERPType)||void 0===l?void 0:l.trim())||!p.ERPType)return A("Please fill the require details","error"),void a(!1);const s={source:p.source,environment:p.environment,instance:p.instance,ERPType:p.ERPType};u.updateSource(s).then((e=>{A("Source updated successfully","success"),setTimeout((()=>{a(!1),c("/sourceList")}),2e3)}))},children:"Update"})})}),(0,g.jsx)(R.Ay,{item:!0,md:2,sm:4,xs:6,className:"font-medium",children:(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{c(-1)}),200)},children:"Cancel"})})})]})]})}),r?(0,g.jsx)(ve.A,{openAlert:l,openDesc:r,setOpenAlert:s}):(0,g.jsx)(g.Fragment,{}),e||t?(0,g.jsx)("div",{style:{textAlign:"center"},children:(0,g.jsx)(le.A,{show:!0})}):(0,g.jsx)(g.Fragment,{})]})]})}const St=e=>{const t=new re.Q,[a,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)((null===e||void 0===e?void 0:e.sourceData)||[]),[r,o]=(0,n.useState)("allData"),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[v,A]=(0,n.useState)(null);console.log("props",e);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{l(!0)},children:"Export"}),(0,g.jsxs)(J.A,{open:a,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,g.jsx)(te.A,{children:(0,g.jsx)(ae.A,{children:(0,g.jsx)(y.A,{width:"100%",overflow:"auto",children:(0,g.jsx)(x.Tn,{children:(0,g.jsx)(R.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,g.jsx)(R.Ay,{container:!0,alignItems:"center",children:(0,g.jsxs)(Ee.A,{children:[(0,g.jsx)(Se.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,g.jsxs)(be.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:r,onChange:t=>{o(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.sourceData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,g.jsx)(Te.A,{value:"allData",control:(0,g.jsx)(ye.A,{}),label:"All Data"}),(0,g.jsx)(Te.A,{value:"selectedData",control:(0,g.jsx)(ye.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"}),(0,g.jsx)(b.A,{onClick:()=>{l(!1);let a=("allData"!==r?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.sourceData)||[],n=null===a||void 0===a?void 0:a.map((e=>({Source:e.source,Instance:e.instance,Environment:e.environment,"ERP Type":e.ERPType})));t.exportTemplate({data:n,sheet_name:"Source"}).then((e=>{u(e),c(!0),h(!0),A({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),v?(0,g.jsx)(ve.A,{openAlert:p,openDesc:v,setOpenAlert:h}):(0,g.jsx)(g.Fragment,{})]})},wt=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Ot=()=>{const[e,t]=(0,n.useState)(),[a,l]=(0,n.useState)([]),[s,r]=(0,n.useState)([]),[o,d]=(0,n.useState)(""),[c,m]=(0,n.useState)(!1),u=new At,[p,h]=(0,n.useState)(!1),[v,A]=(0,n.useState)(null),[j,f]=(0,n.useState)({}),[T,E]=(0,n.useState)([]),[S,w]=(0,n.useState)({}),[O,C]=(0,n.useState)([]),P=(0,n.useRef)(null),M=P&&P.current&&P.current.dataMap?P.current.dataMap:null,D=(0,n.useCallback)((e=>{let{selected:t}=e;w(t)}),[]),[L,N]=(0,n.useState)(!0);(0,n.useEffect)((()=>{N(!0),u.getAllSourceList().then((e=>{l(e),r(e),I(e)})).finally((()=>{N(!1)}))}),[]);const[_,I]=(0,n.useState)([]);(0,n.useEffect)((()=>{I(a)}),[a]);let k=(0,Pe.t$)([..._],"source");const B=(0,i.Zp)(),F=(0,n.useRef)("initialValue"),U=e=>{F.current="edit";const t=e;setTimeout((()=>{B(`/editSourceList/${null===t||void 0===t?void 0:t.id}`,{state:{plantMode:F.current,selectedSourceData:t}})}),200)},W=e=>{m(!0),t(e)};(0,n.useEffect)((()=>{const e=!0===S?M:S,t=e&&Object.keys(e).map((t=>e[t]));C(t)}),[S,M]),(0,n.useEffect)((()=>{const e=a.filter((e=>""===o||e.source.toLowerCase().includes(o.toLowerCase())||e.environment.toLowerCase().includes(o.toLowerCase())||e.instance.toLowerCase().includes(o.toLowerCase())||e.ERPType.toLowerCase().includes(o.toLowerCase())));I(e)}),[o,a]);const $=e=>{f(e);const t=Ce(Ot)({data:a,sortInfo:e,sortedSourceData:k,onSortInfoChange:$,initialData:s});l(t.props.data),I(t.props.data)};return(0,g.jsxs)(wt,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Source"}]})}),(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(se.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;d(t)},value:o,style:{width:"100%"}})}),(0,g.jsxs)(R.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{},children:"Search"}),(0,g.jsx)("div",{style:{flex:1}}),(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,onClick:()=>{F.current="create",setTimeout((()=>{B("/createSourceList",{state:{plantMode:F.current}})}),200)},children:"Create"}),(0,g.jsx)(b.A,{variant:"contained",disabled:1!==(null===O||void 0===O?void 0:O.length),onClick:()=>{U(O[0])},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,g.jsx)(b.A,{variant:"contained",disabled:null===O||void 0===O||!O.length,onClick:()=>{W(O[0]),m(!0)},style:{margin:"0 10px 0 10px"},children:"Delete"}),(0,g.jsx)(St,{sourceData:a,filterTemplateData:O})]}),(0,g.jsxs)(y.A,{width:"100%",overflow:"auto",children:[(0,g.jsx)("br",{}),L?(0,g.jsx)(y.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:550},children:(0,g.jsx)(lt.A,{})}):(0,g.jsx)(Oe.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:[{name:"source",header:(0,g.jsx)(ie.A,{title:"Name",children:"Source"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.source})}},{name:"instance",header:(0,g.jsx)(ie.A,{title:"Instance",children:"Instance"}),defaultFlex:1,defaultWidth:50},{name:"environment",header:(0,g.jsx)(ie.A,{title:"Environment",children:"Environment"}),defaultFlex:1,defaultWidth:50},{name:"ERPType",header:(0,g.jsx)(ie.A,{title:"ERP Type",children:"ERP Type"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.ERPType})}}],dataSource:null==j?_:k,checkboxColumn:!0,selected:S,onSelectionChange:D,handle:e=>P.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===P||void 0===P||null===(e=P.current)||void 0===e?void 0:e.setScrollTop(0==(null===O||void 0===O?void 0:O.length)?0:null===P||void 0===P||null===(t=P.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:$})]})]})}),v?(0,g.jsx)(ve.A,{openAlert:p,openDesc:v,setOpenAlert:h}):(0,g.jsx)(g.Fragment,{}),(0,g.jsxs)(J.A,{open:c,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Source"}),(0,g.jsx)(te.A,{children:1===O.length?(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(ae.A,{children:["Do you want to delete the source ",(0,g.jsx)("b",{children:null===e||void 0===e?void 0:e.source})," ","having instance ",(0,g.jsx)("b",{children:null===e||void 0===e?void 0:e.instance})," and ERPType"," ",(0,g.jsx)("b",{children:null===e||void 0===e?void 0:e.ERPType})]})}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(ae.A,{children:"Do you want to delete the seleted sources?"})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{autoFocus:!0,onClick:()=>{m(!1)},children:"Cancel"}),(0,g.jsx)(b.A,{onClick:async()=>{m(!1);try{const e=null===O||void 0===O?void 0:O.map((e=>null===e||void 0===e?void 0:e.id));await u.deleteSource(e).then((e=>{w({}),C([]),h(!0),A({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))}catch(e){return e}u.getAllSourceList().then((e=>{l(e)}))},children:"delete"})]})]})]})},Ct=Ot,Pt=[{path:"/sourceList",element:(0,g.jsx)(Q,{children:(0,g.jsx)(Ct,{})})},{path:"/createSourceList",element:(0,g.jsx)(Q,{children:(0,g.jsx)(yt,{})})},{path:"/editSourceList/:sourceId",element:(0,g.jsx)(Q,{children:(0,g.jsx)(Et,{})})}];class Mt{constructor(){this.getAllMappings=()=>Ue.A.get(`${d.Sb}/mappings/getMappings`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getSourceDetails",e),[]))),this.deleteMapping=e=>Ue.A.delete(`${d.Sb}/mappings/deleteMapping/${e}`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting source:",e),e})),this.addnewMapping=e=>Ue.A.post(`${d.Sb}/mappings/addMapping`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewSource",e),[]))),this.updateMapping=e=>Ue.A.put(`${d.Sb}/mappings/updateMapping`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[])))}}const Dt=n.forwardRef((function(e,t){return(0,g.jsx)(Fe.A,{elevation:6,ref:t,variant:"filled",...e})})),Lt=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Nt=(0,f.Ay)({spanRed:{color:"#FF3D57"}});function _t(){const[e,t]=(0,n.useState)({}),[a,l]=(0,n.useState)({}),[s,r]=(0,n.useState)(!1),[o,d]=(0,n.useState)(),[c,m]=(0,n.useState)(),[u,p]=(0,n.useState)([]),[h,v]=(0,n.useState)(""),[A,j]=(0,n.useState)(""),[f,T]=(0,n.useState)(""),[E,S]=(0,n.useState)({}),w=Nt();let O=(0,i.Zp)();new At;const C=new Mt,P=e=>{const{name:t,value:a}=e.target;"newKey"===t?j(a):"newValue"===t?T(a):S((e=>({...e,[t]:a})))},M=e=>{const{name:t,value:n}=e.target,s={...a,[t]:n};l(s)},N=(e,t)=>{d(e),m(t),r(!0)},_=(e,t)=>{"clickaway"!==t&&r(!1)};return(0,g.jsxs)(Lt,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Create Mapping"}]})}),(0,g.jsxs)("form",{children:[(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,g.jsx)("h4",{children:"Create Mapping"}),(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Name ",(0,g.jsx)("span",{className:w.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{label:"Name",name:"Name",value:a.Name,onChange:M,fullWidth:!0,margin:"normal"})}),(0,g.jsxs)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,g.jsx)("span",{children:"ERP Type "})," ",(0,g.jsx)("span",{className:w.spanRed,children:"*"})]}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:a.ERPType,onChange:M,children:I.sd.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Mapping values ",(0,g.jsx)("span",{className:w.spanRed,children:"*"})]})}),(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,g.jsxs)(R.Ay,{container:!0,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,xs:3,style:{marginLeft:"3px"},children:(0,g.jsx)(se.A,{name:"newKey",label:"key",value:A,variant:"outlined",fullWidth:!0,margin:"normal",onChange:P})}),"\xa0 \xa0",(0,g.jsx)(R.Ay,{item:!0,xs:3,children:(0,g.jsx)(se.A,{name:"newValue",label:"value",value:f,variant:"outlined",fullWidth:!0,margin:"normal",onChange:P})}),"\xa0 \xa0",(0,g.jsx)(R.Ay,{item:!0,xs:3,children:(0,g.jsx)(b.A,{style:{fontSize:"30px",marginTop:"6px"},onClick:()=>{const e=u.some((e=>e.key===A)),t=u.some((e=>e.value===f));e||t?v("The key or value already exists"):(p((e=>[...e,{key:A,value:f}])),j(""),T(""),v(""))},children:(0,g.jsx)("b",{children:"+"})})})]}),(0,g.jsx)("p",{style:{color:"red"},children:h}),(0,g.jsx)("div",{style:{height:"100px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",alignContent:"center",width:"51%"},children:u.map(((e,t)=>(0,g.jsx)(_e.A,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,g.jsxs)(R.Ay,{container:!0,alignItems:"center",style:{marginLeft:"2px"},children:[(0,g.jsx)(R.Ay,{item:!0,xs:6,children:(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:e.key}),":",(0,g.jsx)("b",{children:e.value})]})}),(0,g.jsx)(R.Ay,{item:!0,xs:2,children:(0,g.jsx)(Re.A,{onClick:()=>(e=>{p((t=>{const a=[...t];return a.splice(e,1),a}))})(t),children:(0,g.jsx)(ke.A,{})})})]})},t)))})]})]}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e,t;if(""===(null===(e=a.Name)||void 0===e?void 0:e.trim())||!a.Name||""===(null===(t=a.ERPType)||void 0===t?void 0:t.trim())||!a.ERPType||0===u.length)return void N("Please fill the require details","error");const n={Name:a.Name,ERPType:a.ERPType,List:u.reduce(((e,t)=>(e[t.key]=t.value,e)),{})};C.addnewMapping(n).then((e=>{var t,a,n;if(e&&null!==e&&void 0!==e&&e.data&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.length){if(null!==e&&void 0!==e&&null!==(a=e.data[0])&&void 0!==a&&a.id)N("Mapping added successfully!","success"),setTimeout((()=>{O("/mappings")}),200);else if(null!==e&&void 0!==e&&null!==(n=e.data[0])&&void 0!==n&&n.msg){var l;N(null===e||void 0===e||null===(l=e.data[0])||void 0===l?void 0:l.msg,"error")}}else console.log("No data in resp.")}))},children:"Submit"})})})]})}),(0,g.jsx)(Be.A,{open:s,autoHideDuration:3e3,onClose:_,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,g.jsx)(Dt,{onClose:_,severity:c,sx:{width:"100%"},children:o})})]})]})}const Rt=n.forwardRef((function(e,t){return(0,g.jsx)(Fe.A,{elevation:6,ref:t,variant:"filled",...e})})),It=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),kt=(0,f.Ay)({spanRed:{color:"#FF3D57"}});function Bt(){var e;const[t,a]=(0,n.useState)(!1),[l,s]=(0,n.useState)(),[r,o]=(0,n.useState)(),[d,c]=(0,n.useState)(""),[m,u]=(0,n.useState)(""),[p,h]=(0,n.useState)(""),[v,A]=(0,n.useState)({}),j=kt();let f=(0,i.Zp)();const T=(0,i.zy)(),E=new Mt,S=null===(e=T.state)||void 0===e?void 0:e.selectedMappingData,[w,O]=(0,n.useState)({Name:S.Name,ERPType:S.ERPType}),C=Object.entries(S.List).map((e=>{let[t,a]=e;return{key:t,value:a}})),[P,M]=(0,n.useState)(C),N=e=>{const{name:t,value:a}=e.target;"newKey"===t?u(a):"newValue"===t?h(a):A((e=>({...e,[t]:a})))},_=e=>{const{name:t,value:a}=e.target,n={...w,[t]:a};O(n)},k=(e,t)=>{s(e),o(t),a(!0)},B=(e,t)=>{"clickaway"!==t&&a(!1)};return(0,g.jsxs)(It,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Edit Mapping"}]})}),(0,g.jsxs)("form",{children:[(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,g.jsx)("h4",{children:"Edit Mapping"}),(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Name ",(0,g.jsx)("span",{className:j.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{label:"Name",name:"Name",disabled:!0,value:w.Name,onChange:_,fullWidth:!0,margin:"normal"})}),(0,g.jsxs)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,g.jsx)("span",{children:"ERP Type "})," ",(0,g.jsx)("span",{className:j.spanRed,children:"*"})]}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:w.ERPType,onChange:_,children:I.sd.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Mapping values ",(0,g.jsx)("span",{className:j.spanRed,children:"*"})]})}),(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,g.jsxs)(R.Ay,{container:!0,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,xs:3,style:{marginLeft:"3px"},children:(0,g.jsx)(se.A,{name:"newKey",label:"key",value:m,variant:"outlined",fullWidth:!0,margin:"normal",onChange:N})}),"\xa0 \xa0",(0,g.jsx)(R.Ay,{item:!0,xs:3,children:(0,g.jsx)(se.A,{name:"newValue",label:"value",value:p,variant:"outlined",fullWidth:!0,margin:"normal",onChange:N})}),"\xa0 \xa0",(0,g.jsx)(R.Ay,{item:!0,xs:3,children:(0,g.jsx)(b.A,{style:{fontSize:"30px",marginTop:"6px"},onClick:()=>{const e=P.some((e=>e.key===m)),t=P.some((e=>e.value===p));e||t?c("The key or value already exists"):(M((e=>[...e,{key:m,value:p}])),u(""),h(""),c(""))},children:(0,g.jsx)("b",{children:"+"})})})]}),(0,g.jsx)("p",{style:{color:"red"},children:d}),(0,g.jsx)("div",{style:{height:"100px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",alignContent:"center",width:"51%"},children:P.map(((e,t)=>(0,g.jsx)(_e.A,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,g.jsxs)(R.Ay,{container:!0,alignItems:"center",style:{marginLeft:"2px"},children:[(0,g.jsx)(R.Ay,{item:!0,xs:6,children:(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:e.key}),":",(0,g.jsx)("b",{children:e.value})]})}),(0,g.jsx)(R.Ay,{item:!0,xs:2,children:(0,g.jsx)(Re.A,{onClick:()=>(e=>{M((t=>{const a=[...t];return a.splice(e,1),a}))})(t),children:(0,g.jsx)(ke.A,{})})})]})},t)))})]})]}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e,t;if(""===(null===(e=w.Name)||void 0===e?void 0:e.trim())||!w.Name||""===(null===(t=w.ERPType)||void 0===t?void 0:t.trim())||!w.ERPType||0===P.length)return void k("Please fill the require details","error");const a={Name:w.Name,ERPType:w.ERPType,List:P.reduce(((e,t)=>(e[t.key]=t.value,e)),{})};E.updateMapping(a).then((e=>{setTimeout((()=>{f("/mappings")}),200)})),k("Mapping updated successfully","success")},children:"Update"})})})]})}),(0,g.jsx)(Be.A,{open:t,autoHideDuration:3e3,onClose:B,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,g.jsx)(Rt,{onClose:B,severity:r,sx:{width:"100%"},children:l})})]})]})}var Ft=a(19090);const Ut=n.forwardRef((function(e,t){return(0,g.jsx)(Fe.A,{elevation:6,ref:t,variant:"filled",...e})})),Wt=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),$t=(0,f.Ay)(ce.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Vt=()=>{const[e,t]=(0,n.useState)(0),[a,l]=(0,n.useState)(10),[s,r]=(0,n.useState)(),[o,d]=(0,n.useState)(),[c,m]=(0,n.useState)(""),[u,p]=(0,n.useState)([]),[h,v]=(0,n.useState)(!1),[A,j]=(0,n.useState)(!1),f=new Mt;(0,n.useEffect)((()=>{f.getAllMappings().then((e=>{d(e)}))}),[]);const[T,E]=(0,n.useState)([]);(0,n.useEffect)((()=>{E(o)}),[o]);const S=(0,i.Zp)(),w=(0,n.useRef)("initialValue"),O=()=>{v(!0)},C=(e,t)=>{"clickaway"!==t&&v(!1)},[P,M]=(0,n.useState)({Name:[],ERPType:[]}),D=(e,t)=>{M((a=>({...a,[e]:t})))};(0,n.useEffect)((()=>{let e=o;P.Name.length>0&&(e=e.filter((e=>P.Name.includes(e.Name)))),P.ERPType.length>0&&(e=e.filter((e=>P.ERPType.includes(e.ERPType)))),p(e)}),[P]);const L=e=>{const t=new Set;return null===o||void 0===o||o.forEach((a=>t.add(a[e]))),Array.from(t)};return(0,g.jsxs)(Wt,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Mappings"}]})}),(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(se.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;if(m(t),""===t)E(o);else{const e=null===o||void 0===o?void 0:o.filter((e=>{var a,n;return(null===e||void 0===e||null===(a=e.Name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))||(null===(n=e.ERPType)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase()))}));E(e)}},value:c,style:{width:"100%"}})}),(0,g.jsxs)(R.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{if(""===c)E(o);else{const e=o.filter((e=>null===e||void 0===e?void 0:e.Name.toLowerCase().includes(c.toLowerCase())));E(e)}},children:"Search"}),(0,g.jsx)("div",{style:{flex:1}}),(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,onClick:()=>{w.current="create",setTimeout((()=>{S("/createMappings",{state:{plantMode:w.current}})}),200)},children:"Create"})]}),(0,g.jsxs)(y.A,{width:"100%",overflow:"auto",children:[(0,g.jsxs)($t,{children:[(0,g.jsx)(me.A,{children:(0,g.jsxs)(ue.A,{children:[(0,g.jsxs)(pe.A,{align:"left",children:[(0,g.jsx)(he.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Mapping Name"}),(0,g.jsx)("br",{}),(0,g.jsx)(xe.A,{style:{width:"70%"},multiple:!0,options:L("Name"),value:P.Name,onChange:(e,t)=>D("Name",t),renderValue:()=>null,renderInput:e=>(0,g.jsx)(se.A,{...e,variant:"outlined",label:"Filter Name",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionLabel:e=>e,getOptionSelected:(e,t)=>P.Name.includes(t),ChipProps:{style:{fontSize:"8px"}}})]}),(0,g.jsxs)(pe.A,{align:"left",children:[(0,g.jsx)(he.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"ERP Type"}),(0,g.jsx)("br",{}),(0,g.jsx)(xe.A,{style:{width:"70%"},multiple:!0,options:L("ERPType"),value:P.ERPType,onChange:(e,t)=>D("ERPType",t),renderValue:()=>null,renderInput:e=>(0,g.jsx)(se.A,{...e,variant:"outlined",label:"Filter ERP Type",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionLabel:e=>e,getOptionSelected:(e,t)=>P.ERPType.includes(t),ChipProps:{style:{fontSize:"8px"}}})]}),(0,g.jsx)(pe.A,{align:"left",children:(0,g.jsx)(he.A,{style:{paddingBottom:"85px",fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Actions"})})]})}),(0,g.jsx)(ge.A,{children:(null===T||void 0===T?void 0:T.length)>0?T.filter((e=>(""===c||e.Name.toLowerCase().includes(c.toLowerCase())||(null===e||void 0===e?void 0:e.ERPType.toLowerCase().includes(c.toLowerCase())))&&(0===P.Name.length||P.Name.includes(e.Name))&&(0===P.ERPType.length||P.ERPType.includes(e.ERPType)))).slice(e*a,e*a+a).map(((e,t)=>(0,g.jsxs)(ue.A,{children:[(0,g.jsx)(pe.A,{align:"left",style:{textTransform:"none"},children:e.Name}),(0,g.jsx)(pe.A,{align:"left",style:{textTransform:"none"},children:e.ERPType}),(0,g.jsxs)(pe.A,{align:"left",style:{textTransform:"none"},children:[(0,g.jsx)(Ie.A,{id:e.id,onClick:()=>(e=>{w.current="edit";const t=e;setTimeout((()=>{S("/editMappings",{state:{plantMode:w.current,selectedMappingData:t}})}),200)})(e)})," ",(0,g.jsx)(ke.A,{onClick:()=>{return t=e,j(!0),void r(t);var t}})]})]},t))):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(pe.A,{align:"left",colSpan:5,style:{textAlign:"center"},children:"No result found!"})})})]}),null!==o&&void 0!==o&&o.length?(0,g.jsx)(Ft.A,{sx:{px:2},page:e,component:"div",rowsPerPage:a,count:null===o||void 0===o?void 0:o.length,onPageChange:(e,a)=>{t(a)},rowsPerPageOptions:[10,25,50],onRowsPerPageChange:e=>{l(+e.target.value),t(0)},nextIconButtonProps:{"aria-label":"Next Page"},backIconButtonProps:{"aria-label":"Previous Page"}}):(0,g.jsx)(g.Fragment,{})]})]})}),(0,g.jsx)(Be.A,{open:h,autoHideDuration:3e3,onClose:C,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,g.jsx)(Ut,{onClose:C,severity:"success",sx:{width:"100%"},children:"Mapping deleted successfully!"})}),(0,g.jsxs)(J.A,{open:A,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete template"}),(0,g.jsx)(te.A,{children:(0,g.jsxs)(ae.A,{children:["Do you want to delete the source ",(0,g.jsx)("b",{children:null===s||void 0===s?void 0:s.Name})," ","having ERP type ",(0,g.jsx)("b",{children:null===s||void 0===s?void 0:s.ERPType})]})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{autoFocus:!0,onClick:()=>{j(!1)},children:"Cancel"}),(0,g.jsx)(b.A,{onClick:async()=>{j(!1);try{await f.deleteMapping(s.id)}catch(e){console.error("Failed to delete plant:",e)}f.getAllMappings().then((e=>{d(e)})),O()},children:"delete"})]})]})]})},Gt=[{path:"/mappings",element:(0,g.jsx)(Q,{children:(0,g.jsx)(Vt,{})}),auth:nt.admin},{path:"/createMappings",element:(0,g.jsx)(Q,{children:(0,g.jsx)(_t,{})}),auth:nt.admin},{path:"/editMappings",element:(0,g.jsx)(Q,{children:(0,g.jsx)(Bt,{})}),auth:nt.admin}];var zt=a(42895);const Ht=e=>{const t=new re.Q,[a,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)((null===e||void 0===e?void 0:e.buData)||[]),[r,o]=(0,n.useState)("allData"),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[v,A]=(0,n.useState)(null);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{l(!0)},children:"Export"}),(0,g.jsxs)(J.A,{open:a,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,g.jsx)(te.A,{children:(0,g.jsx)(ae.A,{children:(0,g.jsx)(y.A,{width:"100%",overflow:"auto",children:(0,g.jsx)(x.Tn,{children:(0,g.jsx)(R.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,g.jsx)(R.Ay,{container:!0,alignItems:"center",children:(0,g.jsxs)(Ee.A,{children:[(0,g.jsx)(Se.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,g.jsxs)(be.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:r,onChange:t=>{o(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.buData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,g.jsx)(Te.A,{value:"allData",control:(0,g.jsx)(ye.A,{}),label:"All Data"}),(0,g.jsx)(Te.A,{value:"selectedData",control:(0,g.jsx)(ye.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"}),(0,g.jsx)(b.A,{onClick:()=>{var a;l(!1);let n=("allData"!==r?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.buData)||[];e.sortInfo&&0!==Object.keys(e.sortInfo).length||(n=n.sort(((e,t)=>{var a,n;const l=(null===(a=e.businessUnit)||void 0===a?void 0:a.toLowerCase())||"",s=(null===(n=t.businessUnit)||void 0===n?void 0:n.toLowerCase())||"";return l<s?-1:l>s?1:0})));let s=null===(a=n)||void 0===a?void 0:a.map((e=>{var t,a;return{"Design Organization":e.businessUnit,"Export To ERP Disabled":e.exportToERPdisabled,"Export To ERP Bypassed":e.exportToERPbyPassed,"Enable BOS Transfer":e.enableBOSTransfer,"Context DFF":e.contextDEF,"EMR Division ARG":e.EMRDivisionORGValue,"Product Hierarchy":e.productHierarchy,"Plant Name":(null===e||void 0===e||null===(t=e.plants)||void 0===t?void 0:t.length)>0?null===e||void 0===e||null===(a=e.plants)||void 0===a?void 0:a.map((e=>null===e||void 0===e?void 0:e.plantName)).join("\n"):null,"Do Not Send To ERP":e.doNotSendToERP.join("\n"),"Oracle Existing":e.oracleExisting.join("\n"),"Make Without BOM List":e.makeWithoutBOMList.join("\n"),"Not Owning Division List":e.notOwningDivisionList.join("\n")}}));t.exportTemplate({data:s,sheet_name:"Design Organization"}).then((e=>{u(e),c(!0),h(!0),A({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),v?(0,g.jsx)(ve.A,{openAlert:p,openDesc:v,setOpenAlert:h}):(0,g.jsx)(g.Fragment,{})]})},Yt=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Xt=()=>{const{bussinessUnitLists:e,updateBussinessUnitLists:t}=(0,N.A)();let a=(0,i.zy)().state;const[l,s]=(0,n.useState)(),[r,o]=(0,n.useState)([]),[d,c]=(0,n.useState)(""),[m,u]=(0,n.useState)(!1),p=new zt.D,[h,v]=(0,n.useState)(!1),[A,j]=(0,n.useState)(null),[f,T]=(0,n.useState)({}),[E,S]=(0,n.useState)({}),[w,O]=(0,n.useState)([]),C=(0,n.useRef)(null),P=C&&C.current&&C.current.dataMap?C.current.dataMap:null,[M,D]=(0,n.useState)(!0),[L,_]=(0,n.useState)([]),I=(0,n.useCallback)((e=>{let{selected:t}=e;S(t)}),[]);(0,n.useEffect)((()=>{D(!0),e?setTimeout((()=>{o(e),_(e),D(!1)}),500):p.getAllBuList().then((e=>{o(e.data),t(e.data),_(e.data),B(e.data)})).finally((()=>{D(!1)}))}),[e]);const[k,B]=(0,n.useState)([]);(0,n.useEffect)((()=>{B(r)}),[r]);const F=(0,Pe.t$)([...k],"buName"),U=(0,i.Zp)(),W=(0,n.useRef)("initialValue"),$=e=>{W.current="edit";const t=e;setTimeout((()=>{U(`/editBU/${null===t||void 0===t?void 0:t.id}`,{state:{plantMode:W.current,selectedBUData:t}})}),200)},V=e=>{u(!0),s(e)};(0,n.useEffect)((()=>{const e=!0===E?P:E,t=e&&Object.keys(e).map((t=>e[t]));O(t)}),[E,P]),(0,n.useEffect)((()=>{if(r){const e=r.filter((e=>""===d||e.buName.toLowerCase().includes(d.toLowerCase())));B(e)}}),[d,r]),(0,n.useEffect)((()=>{var e,n,l;null!==(e=a)&&void 0!==e&&e.status&&(v(!0),j({severity:null===(n=a)||void 0===n?void 0:n.status,desc:null===(l=a)||void 0===l?void 0:l.message}),p.getAllBuList().then((e=>{o(e.data),t(e.data),_(e.data)})));a={},window.onbeforeunload=()=>{window.history.replaceState({},document.title)}}),[a]);const G=e=>{T(e);const t=Ce(Xt)({data:r,sortInfo:e,sortedFilteredBuData:F,onSortInfoChange:G,initialData:L});o(t.props.data),B(t.props.data)};return(0,g.jsxs)(Yt,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Design Organization"}]})}),(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(se.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;c(t)},value:d,style:{width:"100%"}})}),(0,g.jsxs)(R.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{},children:"Search"}),(0,g.jsx)("div",{style:{flex:1}}),(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,onClick:()=>{W.current="create",setTimeout((()=>{U("/createBU",{state:{plantMode:W.current}})}),200)},children:"Create"}),(0,g.jsx)(b.A,{variant:"contained",disabled:1!==(null===w||void 0===w?void 0:w.length),onClick:()=>{$(w[0])},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,g.jsx)(b.A,{variant:"contained",disabled:null===w||void 0===w||!w.length,onClick:()=>{V(w[0]),u(!0)},style:{margin:"0 10px 0 10px"},children:"Delete"}),(0,g.jsx)(Ht,{sortInfo:f,buData:r,filterTemplateData:w})]}),(0,g.jsxs)(y.A,{width:"100%",overflow:"auto",children:[(0,g.jsx)("br",{}),M?(0,g.jsx)(y.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:550},children:(0,g.jsx)(lt.A,{})}):(0,g.jsx)(Oe.Ay,{idProperty:"id",showZebraRows:!1,defaultLimit:100,rowStyle:e=>{let{data:t}=e;const a=Object.keys(E).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===E?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},columns:[{name:"buName",header:(0,g.jsx)(ie.A,{title:"Design Organization",children:"Design Organization"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.buName})}},{name:"exportToERPdisabled",header:(0,g.jsx)(ie.A,{title:"Export To ERP Disabled",children:"Export To ERP Disabled"}),defaultFlex:1,defaultWidth:50},{name:"exportToERPbyPassed",header:(0,g.jsx)(ie.A,{title:"Export To ERP Bypassed",children:"Export To ERP Bypassed"}),defaultFlex:1,defaultWidth:50},{name:"enableBOSTransfer",header:(0,g.jsx)(ie.A,{title:"Enable BOS Transfer",children:"Enable BOS Transfer"}),defaultFlex:1,defaultWidth:50},{name:"contextDFF",header:(0,g.jsx)(ie.A,{title:"Context DFF",children:"Context DFF"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.contextDEF})}},{name:"EMRDivisionORGValue",header:(0,g.jsx)(ie.A,{title:"EMR Division ORG Value",children:"EMR Division ARG"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.EMRDivisionORGValue})}},{name:"productHierarchy",header:(0,g.jsx)(ie.A,{title:"Product Hierarchy",children:"Product Hierarchy"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.productHierarchy})}},{name:"plants",header:(0,g.jsx)(ie.A,{title:"Plant Name",children:"Plant Name"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.plants.sort(((e,t)=>e.plantName.localeCompare(t.plantName))).map(((e,t)=>(0,g.jsx)("div",{children:null===e||void 0===e?void 0:e.plantName},t)))})}},{name:"DoNotSendToERP",header:(0,g.jsx)(ie.A,{title:"DoNotSendToERP",children:"Do Not Send To ERP"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.doNotSendToERP.sort(((e,t)=>e.localeCompare(t))).map(((e,t)=>(0,g.jsx)("div",{children:e},t)))})}},{name:"OracleExisting",header:(0,g.jsx)(ie.A,{title:"OracleExisting",children:"Oracle Existing"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.oracleExisting.sort(((e,t)=>e.localeCompare(t))).map(((e,t)=>(0,g.jsx)("div",{children:e},t)))})}},{name:"MakeWithoutBOMList",header:(0,g.jsx)(ie.A,{title:"Make Without BOMList",children:"Make Without BOM List"}),defaultFlex:0,defaultWidth:170,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.makeWithoutBOMList.sort(((e,t)=>e.localeCompare(t))).map(((e,t)=>(0,g.jsx)("div",{children:e},t)))})}},{name:"NotOwningDivisionList",header:(0,g.jsx)(ie.A,{title:"Not Owning DivisionList",children:"Not Owning Division List"}),defaultFlex:1,defaultWidth:100,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.notOwningDivisionList.sort(((e,t)=>e.localeCompare(t))).map(((e,t)=>(0,g.jsx)("div",{children:e},t)))})}}],dataSource:F,checkboxColumn:!0,selected:E,onSelectionChange:I,handle:e=>C.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===C||void 0===C||null===(e=C.current)||void 0===e?void 0:e.setScrollTop(0==(null===w||void 0===w?void 0:w.length)?0:null===C||void 0===C||null===(t=C.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:G})]})]})}),A?(0,g.jsx)(ve.A,{openAlert:h,openDesc:A,setOpenAlert:v}):(0,g.jsx)(g.Fragment,{}),(0,g.jsxs)(J.A,{open:m,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Design Organization"}),(0,g.jsx)(te.A,{children:1===w.length?(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(ae.A,{children:["Do you want to delete the RDO ",(0,g.jsx)("b",{children:null===l||void 0===l?void 0:l.buName})," having plants"," ",(0,g.jsxs)("b",{children:[" ",null===l||void 0===l?void 0:l.plants.map((e=>e.plantName)).join(",")," "]})]})}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(ae.A,{children:"Do you want to delete the seleted Design Organization?"})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{autoFocus:!0,onClick:()=>{u(!1)},children:"Cancel"}),(0,g.jsx)(b.A,{onClick:async()=>{u(!1);try{const e=null===w||void 0===w?void 0:w.map((e=>null===e||void 0===e?void 0:e.id));await p.deleteBU(e).then((e=>{console.log(e,"delete response"),v(!0),j({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),S({}),O([])}))}catch(e){console.error("Failed to delete BU:",e)}p.getAllBuList().then((e=>{o(e.data),t(e.data),_(e.data)}))},children:"delete"})]})]})]})},qt=Xt,Kt=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}}));function Qt(){const{refreshData:e,templatesInfo:t}=(0,N.A)(),[a,l]=(0,n.useState)({exportToERPdisabled:"N",exportToERPbyPassed:"N",enableBOSTransfer:"Y"}),[s,r]=(0,n.useState)([]),[o,d]=(0,n.useState)([]),[c,m]=(0,n.useState)([]),[u,p]=(0,n.useState)([]),[h,v]=(0,n.useState)([]),[A,j]=(0,n.useState)([]),[f,T]=(0,n.useState)(!1),[E,S]=(0,n.useState)(null),[w,O]=(0,n.useState)(!0);let C=(0,i.Zp)();const P=new zt.D,M=new We;(0,n.useEffect)((()=>{O(!0),M.getAllPlantsList().then((e=>{r(e),O(!1)}))}),[]);const _=e=>{const{name:t,value:n}=e.target,s={...a,[t]:n};l(s)},k=(e,a)=>{console.log(`New Value: ${e} - `,a);const n=(null===a||void 0===a?void 0:a.filter((e=>t.some((t=>t.templateName===e.templateName)))))||[];"DoNotSendToERP"===e?m(n):"OracleExisting"===e?p(n):"MakeWithoutBOMList"===e?v(n):"NotOwningDivisionList"===e&&j(n)},B=(e,t)=>{T(!0),S({severity:t,desc:e})};return(0,Pe.t$)(s,"plantName"),(0,Pe.t$)(t,"templateName"),(0,g.jsxs)(Kt,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Create Design Organization"}]})}),(0,g.jsxs)("form",{children:[(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,g.jsx)("h4",{children:"Create Design Organization"}),(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Design Organization ",(0,g.jsx)("span",{style:{color:"#FF3D57"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"buName",value:a.buName,onChange:_,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Export to ERP Disabled "})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{labelId:"exportToERPdisabled",id:"exportToERPdisabled",name:"exportToERPdisabled",fullWidth:!0,value:a.exportToERPdisabled,onChange:_,children:I.FD.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Export To ERP Bypassed"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{labelId:"exportToERPbyPassed",id:"exportToERPbyPassed",name:"exportToERPbyPassed",fullWidth:!0,value:a.exportToERPbyPassed,onChange:_,children:I.FD.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Enable BOS Transfer "})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{labelId:"enableBOSTransfer",id:"enableBOSTransfer",name:"enableBOSTransfer",fullWidth:!0,value:"Y",onChange:_,children:I.h4.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Context DFF"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"contextDEF",value:a.contextDEF,onChange:_,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"EMR Division ARG"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"EMRDivisionORGValue",value:a.EMRDivisionORGValue,onChange:_,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Product Hierarchy"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"productHierarchy",value:a.productHierarchy,onChange:_,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Plant Name ",(0,g.jsx)("span",{style:{color:"#FF3D57"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(xe.A,{multiple:!0,value:o,getOptionLabel:e=>e.plantName,autoHighlight:!0,onChange:(e,t)=>{(e=>{const t=(null===e||void 0===e?void 0:e.filter((e=>s.some((t=>t.plantName===e.plantName)))))||[];d(t)})(t)},options:s,renderInput:e=>(0,g.jsx)(se.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,g.jsx)(y.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.plantName})})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Do Not Send To ERP"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(xe.A,{multiple:!0,value:c,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{k("DoNotSendToERP",t)},options:t,renderInput:e=>(0,g.jsx)(se.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,g.jsx)(y.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Oracle Existing"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(xe.A,{multiple:!0,value:u,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{k("OracleExisting",t)},options:t,renderInput:e=>(0,g.jsx)(se.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,g.jsx)(y.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Make Without BOM List"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(xe.A,{multiple:!0,value:h,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{k("MakeWithoutBOMList",t)},options:t,renderInput:e=>(0,g.jsx)(se.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,g.jsx)(y.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Not Owning Division List"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(xe.A,{multiple:!0,value:A,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{k("NotOwningDivisionList",t)},options:t,renderInput:e=>(0,g.jsx)(se.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,g.jsx)(y.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,g.jsxs)(R.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{textAlign:"right"},children:[(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{C(-1)}),200)},style:{marginRight:"20px"},children:"Cancel"}),(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e;if(""===(null===(e=a.buName)||void 0===e?void 0:e.trim())||!a.buName||0===o.length)return void B("Please fill the require details","error");const t={id:a.buName,buName:a.buName,exportToERPdisabled:a.exportToERPdisabled,contextDEF:a.contextDEF,EMRDivisionORGValue:a.EMRDivisionORGValue,productHierarchy:a.productHierarchy,exportToERPbyPassed:a.exportToERPbyPassed,enableBOSTransfer:a.enableBOSTransfer,plants:(null===o||void 0===o?void 0:o.map((e=>({id:null===e||void 0===e?void 0:e.id,plantName:null===e||void 0===e?void 0:e.plantName}))))||[],doNotSendToERP:(null===c||void 0===c?void 0:c.map((e=>e.templateName)))||[],oracleExisting:(null===u||void 0===u?void 0:u.map((e=>e.templateName)))||[],makeWithoutBOMList:(null===h||void 0===h?void 0:h.map((e=>e.templateName)))||[],notOwningDivisionList:(null===A||void 0===A?void 0:A.map((e=>e.templateName)))||[]};O(!0),P.addnewBU(t).then((e=>{O(!1),"success"===e.status?setTimeout((()=>{C("/buList",{state:{message:e.msg,status:e.status}})}),200):"error"===e.status&&B(e.msg,"error")}))},children:"Submit"})]})]})]})}),E?(0,g.jsx)(ve.A,{openAlert:f,openDesc:E,setOpenAlert:T}):(0,g.jsx)(g.Fragment,{}),e||w?(0,g.jsx)("div",{style:{textAlign:"center"},children:(0,g.jsx)(le.A,{show:e})}):(0,g.jsx)(g.Fragment,{})]})]})}var Zt=a(98348),Jt=a(88270);const ea=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),ta=(0,f.Ay)({spanRed:{color:"#FF3D57"}});function aa(){const{refreshData:e,templatesInfo:t,updateMappingTemplatesInfo:a}=(0,N.A)(),[l,s]=(0,n.useState)([]),[r,o]=((0,i.zy)(),(0,n.useState)({})),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(null),[p,h]=(0,n.useState)({}),[v,A]=(0,n.useState)(!0),j=ta();let f=(0,i.Zp)();const T=(0,i.g)(),E=new zt.D,S=new Jt.W,w=new We;(0,n.useEffect)((()=>{A(!0),w.getAllPlantsList().then((e=>{s(e),A(!1)}))}),[]);const O=e=>{const{name:t,value:a}=e.target,n={...p,[t]:a};console.log(n,"===================updatedForm"),h(n)},[C,P]=(0,n.useState)([]),[M,_]=(0,n.useState)([]),[k,B]=(0,n.useState)([]),[F,U]=(0,n.useState)([]),[W,$]=(0,n.useState)([]),V=(e,a)=>{console.log("New Value:",a);const n=(null===a||void 0===a?void 0:a.filter((e=>t.some((t=>t.templateName===e.templateName)))))||[];"DoNotSendToERP"===e?_(n):"OracleExisting"===e?B(n):"MakeWithoutBOMList"===e?U(n):"NotOwningDivisionList"===e&&$(n)},G=(e,t)=>{c(!0),u({severity:t,desc:e})},z=e=>(null===t||void 0===t?void 0:t.filter((t=>e.some((e=>e===t.templateName)))))||[];return(0,n.useEffect)((()=>{if(null!==r&&void 0!==r&&r.plants){const e=(null===l||void 0===l?void 0:l.filter((e=>null===r||void 0===r?void 0:r.plants.some((t=>(null===t||void 0===t?void 0:t.plantName)===(null===e||void 0===e?void 0:e.plantName))))))||[];P(e)}if(null!==r&&void 0!==r&&r.doNotSendToERP){const e=z(null===r||void 0===r?void 0:r.doNotSendToERP);_(e)}if(null!==r&&void 0!==r&&r.oracleExisting){const e=z(null===r||void 0===r?void 0:r.oracleExisting);B(e)}if(null!==r&&void 0!==r&&r.makeWithoutBOMList){const e=z(r.makeWithoutBOMList);U(e)}if(null!==r&&void 0!==r&&r.notOwningDivisionList){const e=z(r.notOwningDivisionList);$(e)}}),[r,l,t]),(0,n.useEffect)((()=>{null!==T&&void 0!==T&&T.buId?(A(!0),E.getBusinessUnitbyid([{id:null===T||void 0===T?void 0:T.buId}]).then((e=>{var t,a,n,l;if(A(!1),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.length&&null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a[0]&&null!==Object&&void 0!==Object&&null!==(n=Object.keys(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l[0]))&&void 0!==n&&n.length){o(null===e||void 0===e?void 0:e.data[0]);const t=null===e||void 0===e?void 0:e.data[0];h({id:t.id,buName:t.buName,exportToERPdisabled:t.exportToERPdisabled,exportToERPbyPassed:t.exportToERPbyPassed,enableBOSTransfer:t.enableBOSTransfer,contextDEF:t.contextDEF,EMRDivisionORGValue:t.EMRDivisionORGValue,productHierarchy:t.productHierarchy})}else f("/buList",{state:{message:"Design Organization not found!",status:"error"}})}))):setTimeout((()=>{f("/buList",{state:{message:"Design Organization not found!",status:"error"}})}),200)}),[]),(0,Pe.t$)(l,"plantName"),(0,g.jsxs)(ea,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Edit Design Organization"}]})}),(0,g.jsxs)("form",{children:[(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,g.jsx)("h4",{children:"Edit Design Organization"}),(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Design Organization ",(0,g.jsx)("span",{className:j.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"buName",disabled:!0,value:p.buName,onChange:O,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Export to ERP Disabled "})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"exportToERPdisabled",name:"exportToERPdisabled",fullWidth:!0,value:null!==p&&void 0!==p&&p.exportToERPdisabled?null===p||void 0===p?void 0:p.exportToERPdisabled:"N",onChange:O,children:I.FD.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Export To ERP ByPassed"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"exportToERPbyPassed",name:"exportToERPbyPassed",fullWidth:!0,value:null!==p&&void 0!==p&&p.exportToERPbyPassed?null===p||void 0===p?void 0:p.exportToERPbyPassed:"N",onChange:O,children:I.FD.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Enable BOS Transfer "})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{labelId:"enableBOSTransfer",id:"enableBOSTransfer",name:"enableBOSTransfer",fullWidth:!0,value:null!==p&&void 0!==p&&p.enableBOSTransfer?null===p||void 0===p?void 0:p.enableBOSTransfer:"Y",onChange:O,children:I.h4.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Context DFF"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"contextDEF",value:p.contextDEF,onChange:O,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"EMR Division ARG"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"EMRDivisionORGValue",value:p.EMRDivisionORGValue,onChange:O,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Product Hierarchy"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"productHierarchy",value:p.productHierarchy,onChange:O,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Plant Name ",(0,g.jsx)("span",{className:j.spanRed,children:"*"})]})}),(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,g.jsx)(xe.A,{multiple:!0,value:C,getOptionLabel:e=>e.plantName,autoHighlight:!0,onChange:(e,t)=>{(e=>{const t=(null===e||void 0===e?void 0:e.filter((e=>l.some((t=>t.plantName===e.plantName)))))||[];P(t)})(t)},options:l,renderInput:e=>(0,g.jsx)(se.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,g.jsx)(y.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.plantName})}),(0,g.jsxs)("div",{style:{marginTop:"5px"},children:[(0,g.jsx)(Zt.A,{style:{marginTop:"5px"},color:"secondary",fontSize:"small"}),(0,g.jsx)("span",{style:{marginBottom:"20px"},children:" Changing Plants will affect the Template Mappings."})]})]}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Do Not Send To ERP"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(xe.A,{multiple:!0,value:M,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{V("DoNotSendToERP",t)},options:t,renderInput:e=>(0,g.jsx)(se.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,g.jsx)(y.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Oracle Existing"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(xe.A,{multiple:!0,value:k,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{V("OracleExisting",t)},options:t,renderInput:e=>(0,g.jsx)(se.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,g.jsx)(y.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Make Without BOM List"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(xe.A,{multiple:!0,value:F,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{V("MakeWithoutBOMList",t)},options:t,renderInput:e=>(0,g.jsx)(se.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,g.jsx)(y.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsx)("span",{children:"Not Owning Division List"})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(xe.A,{multiple:!0,value:W,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{V("NotOwningDivisionList",t)},options:t,renderInput:e=>(0,g.jsx)(se.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,g.jsx)(y.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,g.jsxs)(R.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{textAlign:"right"},children:[(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{f(-1)}),200)},style:{marginRight:"20px"},children:"Cancel"}),(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e;if(""===(null===(e=p.buName)||void 0===e?void 0:e.trim())||!p.buName||0===C.length)return void G("Please fill the require details","error");const t={id:p.id,buName:p.buName,exportToERPdisabled:p.exportToERPdisabled,contextDEF:p.contextDEF,EMRDivisionORGValue:p.EMRDivisionORGValue,productHierarchy:p.productHierarchy,exportToERPbyPassed:p.exportToERPbyPassed,enableBOSTransfer:p.enableBOSTransfer,plants:(null===C||void 0===C?void 0:C.map((e=>({id:null===e||void 0===e?void 0:e.id,plantName:null===e||void 0===e?void 0:e.plantName}))))||[],doNotSendToERP:(null===M||void 0===M?void 0:M.map((e=>e.templateName)))||[],oracleExisting:(null===k||void 0===k?void 0:k.map((e=>e.templateName)))||[],makeWithoutBOMList:(null===F||void 0===F?void 0:F.map((e=>e.templateName)))||[],notOwningDivisionList:(null===W||void 0===W?void 0:W.map((e=>e.templateName)))||[]};A(!0),E.updateBU(t).then((e=>{A(!1),"success"===e.status?(A(!1),S.getAlltemplateMappings().then((e=>{var t;a(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),A(!0)})),setTimeout((()=>{f("/buList",{state:{message:e.msg,status:e.status}})}),200)):"error"===e.status&&G(e.msg,e.status)}))},children:"Update"})]})]})]})}),m?(0,g.jsx)(ve.A,{openAlert:d,openDesc:m,setOpenAlert:c}):(0,g.jsx)(g.Fragment,{}),e||v?(0,g.jsx)("div",{style:{textAlign:"center"},children:(0,g.jsx)(le.A,{show:!0})}):(0,g.jsx)(g.Fragment,{})]})]})}const na=[{path:"/buList",element:(0,g.jsx)(Q,{children:(0,g.jsx)(qt,{})})},{path:"/createBU",element:(0,g.jsx)(Q,{children:(0,g.jsx)(Qt,{})})},{path:"/editBU/:buId",element:(0,g.jsx)(Q,{children:(0,g.jsx)(aa,{})})}];var la=a(93291);const sa=(0,f.Ay)(ce.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),ia=(0,f.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),ra=e=>{let{userImportDialog:t,setUserImportDialog:a,setUserData:l}=e;const s=new la.f,i=new C.D,[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(null),[x,v]=(0,n.useState)(null),A=localStorage.getItem("instance"),[j,f]=(0,n.useState)(!1),[T,E]=(0,n.useState)(null),S=()=>{a(!1),h(null),v(null)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(J.A,{open:t,onClose:S,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Bulk Upload Required Users"}),(0,g.jsx)(te.A,{children:(0,g.jsx)(ae.A,{children:(0,g.jsx)(y.A,{width:"100%",overflow:"auto",children:(0,g.jsx)(sa,{children:(0,g.jsxs)(ge.A,{children:[(0,g.jsxs)(ue.A,{children:[(0,g.jsx)(pe.A,{align:"left",children:"Upload File (Excel File)"}),(0,g.jsxs)(pe.A,{align:"left",children:[(0,g.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,g.jsxs)(b.A,{component:"label",variant:"contained",startIcon:(0,g.jsx)(oe.A,{}),children:["Upload file",(0,g.jsx)(ia,{type:"file",name:"file",accept:".xls, .xlsx",onChange:e=>{console.log("file selected");const t=e.target.files[0];if(t){const a=t.name.split(".").pop();"xlsx"===a||"xls"===a?(h(e.target.files[0]),v(e.target.files[0].name),o(!1)):(o(!0),v(null),h(null))}else o(!0),v(null),h(null)}})]}),r&&(0,g.jsx)("p",{children:"Please Select xlsx file to Upload "})]}),x&&(0,g.jsx)("p",{children:x})]})]}),(0,g.jsx)(ue.A,{children:(0,g.jsxs)(pe.A,{colSpan:2,children:[(0,g.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,g.jsx)("a",{onClick:()=>{s.downloadSampleFile("sample-bulkUserUpload.xlsx")},download:"Example-XLSX-document",rel:"noreferrer",style:{color:"blue",cursor:"pointer"},children:"Click Here"})," ","to download the sample Excel template for bulk user upload."]}),(0,g.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,g.jsx)("b",{children:"Note:"})," Upload file must contain six columns with header labels in following order."]}),(0,g.jsxs)("div",{style:{paddingTop:"10px"},children:["1. User Name",(0,g.jsx)("br",{}),"3. Name",(0,g.jsx)("br",{}),"4. Email",(0,g.jsx)("br",{}),"5. Is Authorized",(0,g.jsx)("br",{}),"6. User Group",(0,g.jsx)("br",{})]})]})})]})})})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:async()=>{if(!p||p.length<1)o(!0);else try{const e={file:p,data:{Instance:A}};console.log(e,"postData");const t=await i.importUser(e);console.log(t,"response 11111");const a=t.status||"error";if(c(t),u(!0),h(null),v(null),S(),f(!0),E({severity:a,desc:"success"===a?null===t||void 0===t?void 0:t.msg:t.errors.join(", ")}),"success"===a){console.log(t,"response 22222 file uploaded successfully and user added");const e=await i.getAllUsersList();l(e.data)}else console.log(a,"response status")}catch(e){console.error("Error importing file:",e),f(!0),E({severity:"error",desc:"An error occurred while importing the file."})}},children:"Upload"}),(0,g.jsx)(b.A,{onClick:S,children:"Cancel"})]})]}),T?(0,g.jsx)(ve.A,{openAlert:j,openDesc:T,setOpenAlert:f}):(0,g.jsx)(g.Fragment,{})]})},oa=e=>{let{userExportDialog:t,setUserExportDialog:a,userData:l,selectedRows:s}=e;new re.Q;const[i,r]=(0,n.useState)(l||[]),[o,d]=(0,n.useState)("allData"),c=new C.D,[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[v,A]=(0,n.useState)(!1),[j,f]=(0,n.useState)(null),T=()=>{a(!1)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(J.A,{open:t,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Users"}),(0,g.jsx)(te.A,{children:(0,g.jsx)(ae.A,{children:(0,g.jsx)(y.A,{width:"100%",overflow:"auto",children:(0,g.jsx)(x.Tn,{children:(0,g.jsx)(R.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,g.jsx)(R.Ay,{container:!0,alignItems:"center",children:(0,g.jsxs)(Ee.A,{children:[(0,g.jsx)(Se.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,g.jsxs)(be.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:o,onChange:e=>{const t=e.target.value;d(t),r("allData"===t?l:s)},children:[(0,g.jsx)(Te.A,{value:"allData",control:(0,g.jsx)(ye.A,{}),label:"All Data"}),(0,g.jsx)(Te.A,{value:"selectedData",disabled:0===s.length,control:(0,g.jsx)(ye.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:T,children:"Cancel"}),(0,g.jsx)(b.A,{onClick:()=>{console.log(l,"userData in bulk export inside export template.");let e=("allData"!==o?s:l)||[],t=null===e||void 0===e?void 0:e.map((e=>({Name:e.name,"User Name":e.userName,Email:e.email,"Is Authorized":e.is_authorized,"User Group":e.userinfo.join(", ")})));console.log(e,"data"),c.exportUser({data:t,sheet_name:"Users"}).then((e=>{h(e),u(!0),A(!0),f({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})})),T()},children:"Export"})]})]}),j?(0,g.jsx)(ve.A,{openAlert:v,openDesc:j,setOpenAlert:A}):(0,g.jsx)(g.Fragment,{})]})},da=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),ca=()=>{let e=(0,i.zy)().state;const[t,a]=(0,n.useState)([]),[l,s]=(0,n.useState)(""),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(!1),m=new C.D,[u,p]=(0,n.useState)(!1),[h,v]=(0,n.useState)(null),[A,j]=(0,n.useState)(!1),[f,T]=(0,n.useState)(!1),[E,S]=(0,n.useState)([]),[w,O]=(0,n.useState)({}),[P,M]=(0,n.useState)({}),[D,L]=(0,n.useState)([]),N=(0,n.useRef)(null),_=N&&N.current&&N.current.dataMap?N.current.dataMap:null,I=(0,n.useCallback)((e=>{let{selected:t}=e;M(t)}),[]),k=[{name:"name",header:"Name",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.name})}},{name:"userName",header:"User Name",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.userName})}},{name:"email",header:"Email",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.email})}},{name:"is_authorized",header:"Is Authorized",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:"Y"===(null===t||void 0===t?void 0:t.is_authorized)?"Yes":"No"})}},{name:"userinfo",header:"User Group",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null!==t&&void 0!==t&&t.userinfo?t.userinfo.map((e=>e)).join(", "):""})}}];(0,n.useEffect)((()=>{console.log(t,"userData inside useEffect"),0===t.length?(o(!0),m.getAllUsersList().then((e=>{a(e.data),S(e.data),o(!1)}))):a(t)}),[]);const[B,F]=(0,n.useState)([]),U=Array.isArray(B)?B:[];let W=(0,Pe.t$)([...U],"name");(0,n.useEffect)((()=>{F(t),S(W)}),[t]);const $=(0,i.Zp)(),V=e=>{const t=e;setTimeout((()=>{$("/addEditUser",{state:{isEdit:!0,selectedUserData:t}})}),200)},G=e=>{c(!0)};(0,n.useEffect)((()=>{const e=!0===P?_:P,t=e&&Object.keys(e).map((t=>e[t]));L(t)}),[P,_]),(0,n.useEffect)((()=>{if(t){const e=t.filter((e=>""===l||e.name.toLowerCase().includes(l.toLowerCase())||e.email.toLowerCase().includes(l.toLowerCase())||e.userName.toLowerCase().includes(l.toLowerCase())));F(e)}}),[l,t]),(0,n.useEffect)((()=>{var t,n,l;null!==(t=e)&&void 0!==t&&t.status&&(p(!0),v({severity:null===(n=e)||void 0===n?void 0:n.status,desc:null===(l=e)||void 0===l?void 0:l.message}),m.getAllUsersList().then((e=>{a(e.data),S(e.data)})));e={},window.onbeforeunload=()=>{window.history.replaceState({},document.title)}}),[e]);const z=e=>{O(e);const n=Ce(ca)({data:t,sortedUsersData:W,sortInfo:e,onSortInfoChange:z,initialData:E});a(n.props.data),F(n.props.data)};return(0,g.jsxs)(da,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Users"}]})}),(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(se.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;s(t)},value:l,style:{width:"100%"}})}),(0,g.jsxs)(R.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{},children:"Search"}),(0,g.jsx)("div",{style:{flex:1}}),(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,onClick:()=>{setTimeout((()=>{$("/addEditUser",{state:{isEdit:!1}})}),200)},children:"Create"}),(0,g.jsx)(b.A,{variant:"contained",disabled:1!==(null===D||void 0===D?void 0:D.length),onClick:()=>{V(D[0])},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,g.jsx)(b.A,{variant:"contained",disabled:null===D||void 0===D||!D.length,onClick:()=>{G(D[0]),c(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{j(!0)},style:{margin:"0 0px 0 10px"},children:"Import"}),(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{T(!0)},style:{margin:"0 0px 0 10px"},children:"Export"})]}),(0,g.jsxs)(y.A,{width:"100%",overflow:"auto",children:[(0,g.jsx)("br",{}),r?(0,g.jsx)(y.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,g.jsx)(lt.A,{})}):B&&(0,g.jsx)(Oe.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:k,dataSource:null===w?B:W,checkboxColumn:!0,selected:P,onSelectionChange:I,handle:e=>N.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===N||void 0===N||null===(e=N.current)||void 0===e?void 0:e.setScrollTop(0==(null===D||void 0===D?void 0:D.length)?0:null===N||void 0===N||null===(t=N.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:z})]})]})}),h?(0,g.jsx)(ve.A,{openAlert:u,openDesc:h,setOpenAlert:p}):(0,g.jsx)(g.Fragment,{}),(0,g.jsxs)(J.A,{open:d,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Design Organization"}),(0,g.jsx)(te.A,{children:(0,g.jsx)(ae.A,{children:"Do you want to delete the seleted User(s)?"})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{autoFocus:!0,onClick:()=>{c(!1)},children:"Cancel"}),(0,g.jsx)(b.A,{onClick:async()=>{c(!1);try{o(!0),console.log(D,"selectedRows");const e=null===D||void 0===D?void 0:D.map((e=>null===e||void 0===e?void 0:e.id));await m.deleteUser(e).then((e=>{console.log(e,"delete response"),o(!1),p(!0),v({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),M({}),L([])}))}catch(e){console.error("Failed to delete User:",e)}m.getAllUsersList().then((e=>{a(e.data)}))},children:"delete"})]})]}),(0,g.jsx)(oa,{userExportDialog:f,handleCloseExportDialog:()=>{T(!1)},setUserImportDialog:j,setUserExportDialog:T,selectedRows:D,userData:w&&0===Object.keys(w).length?W:t}),(0,g.jsx)(ra,{userImportDialog:A,setUserImportDialog:j,setUserData:a})]})},ma=ca,ua=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),pa={spanRed:{color:"#FF3D57"}};function ha(){var e,t,a;const[l,s]=(0,n.useState)(!1),[r,o]=(0,n.useState)(null),d=(0,i.zy)(),c=null===(e=d.state)||void 0===e?void 0:e.isEdit,m=void 0!==(null===(t=d.state)||void 0===t?void 0:t.selectedUserData)?null===(a=d.state)||void 0===a?void 0:a.selectedUserData:{},[u,p]=(0,n.useState)({id:void 0!==m.userId?m.userId:Date.now().toString(),userName:m.userName,name:m.name,email:m.email,is_authorized:void 0!==m.is_authorized?m.is_authorized:"Y",userinfo:void 0!==m.userinfo?m.userinfo:[]}),h=pa;let v=(0,i.Zp)();const A=new C.D,j=e=>{const{name:t,value:a}=e.target,n={...u,[t]:a};p(n)},[f,T]=(0,n.useState)(m.userinfo||[]),E=(e,t)=>{s(!0),o({severity:t,desc:e})};return(0,g.jsxs)(ua,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:c?"Edit User":"Create User"}]})}),(0,g.jsx)("form",{children:(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,g.jsx)("h4",{children:c?"Edit User":"Create User"}),(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Name ",(0,g.jsx)("span",{className:h.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"name",value:u.name,onChange:j,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["User Name ",(0,g.jsx)("span",{className:h.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"userName",value:u.userName,onChange:j,fullWidth:!0,margin:"normal"})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["Email ",(0,g.jsx)("span",{className:h.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(se.A,{name:"email",disabled:c,value:u.email,onChange:j,fullWidth:!0,margin:"normal"})}),(0,g.jsxs)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,g.jsx)("span",{children:"Is Authorized"})," ",(0,g.jsx)("span",{className:h.spanRed,children:"*"})]}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"is_authorized",name:"is_authorized",fullWidth:!0,value:u.is_authorized?u.is_authorized:"",onChange:j,children:I.HW.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,g.jsxs)("span",{children:["User Group ",(0,g.jsx)("span",{className:h.spanRed,children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{style:{width:"100%"},multiple:!0,value:f.map((e=>e)),onChange:e=>{const t=e.target.value,a=I.bf.filter((e=>t.includes(e)));T(a)},renderValue:e=>e.join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===I.bf||void 0===I.bf?void 0:I.bf.map((e=>(0,g.jsx)(L.A,{value:e,children:e},e)))})})]}),(0,g.jsx)("br",{}),(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:6,className:"font-medium",children:(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e,t,a,n;if(""===(null===(e=u.userName)||void 0===e?void 0:e.trim())||!u.userName||""===(null===(t=u.name)||void 0===t?void 0:t.trim())||!u.name||""===(null===(a=u.email)||void 0===a?void 0:a.trim())||!u.email||0===f.length||""===(null===(n=u.is_authorized)||void 0===n?void 0:n.trim())||!u.is_authorized)return void E("Please fill the require details","error");const l={id:u.id,userName:u.userName,name:u.name,email:u.email,is_authorized:u.is_authorized,userinfo:f};c?A.updateUser({userData:l}).then((e=>{"success"===e.status?setTimeout((()=>{v("/userList",{state:{message:e.msg,status:e.status}})}),200):"error"===e.status&&E(e.msg,e.status)})):A.addnewUser({userData:l}).then((e=>{"success"===e.status?setTimeout((()=>{v("/userList",{state:{message:e.msg,status:e.status}})}),200):"error"===e.status&&E(e.msg,e.status)}))},children:c?"Update":"Create"})})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:6,className:"font-medium",children:(0,g.jsx)("span",{children:(0,g.jsx)(b.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{v(-1)}),200)},children:"Cancel"})})})]})]})})}),r?(0,g.jsx)(ve.A,{openAlert:l,openDesc:r,setOpenAlert:s}):(0,g.jsx)(g.Fragment,{})]})}const xa=[{path:"/userList",element:(0,g.jsx)(Q,{children:(0,g.jsx)(ma,{})})},{path:"/addEditUser",element:(0,g.jsx)(Q,{children:(0,g.jsx)(ha,{})})}],ga={adminConstant:{common:{deleteNote:"Data will not be romeved from the master data. It will be added to your draft changes only."},buplantList:{tooltip:{RDO:"Design Organization",Plant:"PLANT",BomStatus:"BOM STATUS",PoORG:"PO ORG",RduOuSetORG:"RDU OU SET ORG"}},expensemapList:{tooltip:{EXPENSE_TEMPLATE:"Template",RDO:"Design Organization",PlantName:"Plant Name"}},mvoallowedchangesList:{tooltip:{RDO:"Design Organization",mvoTemplatesFrom:"MVO Template - From",mvoTemplatesTo:"MVO Template - To"}},mvoTemplateList:{tooltip:{RDO:"Design Organization",TemplateOptionMVO:"Template MVO",HasMBom:"Has MBom",OnMBom:"ON MBom",Optional:"Optional",PoExist:"PO Exist",EBomAllowed:"EBOM Allowed",AllowableOrgTemplate:"Org Allowed Templates - Status"}},orgAllowedList:{tooltip:{RDO:"Design Organization",AllowableOrgTemplate:"Template Name",HasMBom:"Has MBOM",EBOM:"EBOM Allowed",Optional:"Optional",PoCheck:"PO Org Check",OnMbom:"ON MBOM",status:"status"}},parttypetemplateList:{tooltip:{RDO:"Design Organization",TemplateOptionsMVO:"Enovia Part Type",allowableOrgTemplatesExclusive:"Org Allowed Templates - Exclusive use"}},setComptempList:{tooltip:{RDO:"Design Organization",TemplateForOrgExist:"Template for Org(s) Existing",TemplateForOrgModify:"Template for Org Modifying"}}}},va=e=>{var t;let{open:a,handleorgAllowedDialogClose:l,selectedPlants:s,orgAllowedForm:i,handleorgAllowedFormChange:r,handleAddOrgAllowedValues:o,isEdit:d,selectedBU:c}=e;const{templatesInfo:m,bussinessUnitLists:u}=(0,N.A)(),[p,h]=(0,n.useState)([]),[x,v]=(0,n.useState)([]);return(0,n.useEffect)((()=>{if(c){let e=m.filter((e=>{var t;return null===e||void 0===e||null===(t=e.BU)||void 0===t?void 0:t.includes(c)}));console.log(e,"tempData tempData tempData"),h(e)}v([c])}),[c,m]),(0,g.jsxs)(J.A,{open:a,children:[(0,g.jsxs)(ne.A,{children:[" ",d?"Edit Org Allowed Templates ":"Add OrgAllowed Templates"]}),(0,g.jsx)(te.A,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Design Organization ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:c,onChange:r,disabled:!0,children:null===x||void 0===x?void 0:x.map((e=>(0,g.jsx)(L.A,{value:e,children:e},e)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Template Name ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{name:"ALLOWABLE_ORG_TEMPLATES",fullWidth:!0,value:i.ALLOWABLE_ORG_TEMPLATES,onChange:r,disabled:d,children:null===p||void 0===p?void 0:p.map((e=>(0,g.jsx)(L.A,{value:e.templateName,children:e.templateName},e.templateName)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Has MBOM ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"Has_MBOM",name:"Has_MBOM",fullWidth:!0,displayEmpty:!0,value:void 0!==i.Has_MBOM?i.Has_MBOM:"Y",onChange:r,children:I.PV.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["On MBOM ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"On_MBOM",name:"On_MBOM",fullWidth:!0,displayEmpty:!0,value:void 0!==i.On_MBOM?i.On_MBOM:"Y",onChange:r,children:I.PV.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["EBOM Allowed ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"EBOM_Allowed",name:"EBOM_Allowed",fullWidth:!0,displayEmpty:!0,value:void 0!==i.EBOM_Allowed?i.EBOM_Allowed:"Y",onChange:r,children:I.PV.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Optional ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"Optional",name:"Optional",fullWidth:!0,displayEmpty:!0,value:void 0!==i.Optional?i.Optional:"Y",onChange:r,children:I.PV.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["PO Org Check: ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"PO_Org_Exist_Check",name:"PO_Org_Exist_Check",fullWidth:!0,displayEmpty:!0,value:void 0!==i.PO_Org_Exist_Check?i.PO_Org_Exist_Check:"Y",onChange:r,children:I.PV.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.label},e.value)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Plants ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{style:{width:"100%"},multiple:!0,name:"plants",value:s,onChange:r,renderValue:e=>null===e||void 0===e?void 0:e.join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===(t=(()=>{var e;return(null===u||void 0===u||null===(e=u.find((e=>e.buName===c)))||void 0===e?void 0:e.plants)||[]})())||void 0===t?void 0:t.map((e=>(0,g.jsx)(L.A,{value:e.plantName,children:e.plantName},e.plantName)))})})]})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:l,children:"Cancel"}),(0,g.jsx)(b.A,{onClick:o,children:d?"Update":"Add"})]})]})};class Aa{constructor(){this.getAlldraftChanges=()=>Ue.A.get(`${d.Sb}/draftChanges/getDraftChanges`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTeamplateMappings",e),[]))),this.deleteTemplateMapping=e=>Ue.A.delete(`${d.Sb}/draftChanges/deletedraftChanges/${e}`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting deletedraftChanges:",e),e})),this.addnewTemplateMapping=e=>Ue.A.post(`${d.Sb}/draftChanges/adddraftChanges`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("adddraftChanges",e),[]))),this.updateTemplateMapping=e=>Ue.A.put(`${d.Sb}/draftChanges/updatedraftChanges`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updatedraftChanges",e),[]))),this.applyDraftChanges=e=>Ue.A.post(`${d.Sb}/draftChanges/acceptChanges`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("applyDraftChanges",e),[]))),this.discardDraftChanges=e=>Ue.A.delete(`${d.Sb}/draftChanges/deletedraftChanges/${e}`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting discardDraftChanges:",e),e})),this.getAllmappingHistory=()=>Ue.A.get(`${d.Sb}/mappingHistory/getMappingHistory`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTeamplateMappings",e),[])))}}class ja{constructor(){this.getAlltempcompMappings=()=>Ue.A.get(`${d.Sb}/newtemplateMappings/getTemplateMappings`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTeamplateMappings",e),[]))),this.deleteTempCompMapping=e=>Ue.A.delete(`${d.Sb}/newtemplateMappings/deleteTemplateMappings/${e}`,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting deleteTemplateMappings:",e),e})),this.addnewTempCompMapping=e=>Ue.A.post(`${d.Sb}/newtemplateMappings/addTemplateMappings`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addTemplateMappings",e),[]))),this.updateTempCompMapping=e=>Ue.A.put(`${d.Sb}/newtemplateMappings/updateTemplateMappings`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateTemplateMappings",e),[]))),this.softDeleteTempCompMapping=e=>Ue.A.post(`${d.Sb}/newtemplateMappings/softDeleteTemplateMappings`,e,d.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("softDeleteTemplateMappings",e),[])))}}const fa=(0,f.Ay)(ce.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),ya=(0,f.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),ba=e=>{const{allTemplatesInfo:t,updateRefreshData:a,bussinessUnitLists:l}=(0,N.A)(),s=new Jt.W,{importTemplate:i,setImportTemplate:r,fetchData:o}=e,[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[x,v]=(0,n.useState)(!1),[A,j]=(0,n.useState)(null),[f,T]=(0,n.useState)(null),[E,S]=(0,n.useState)(null),[w,O]=(0,n.useState)(!1),[C,P]=(0,n.useState)(!1),[M,D]=(0,n.useState)(!1),[L,_]=(0,n.useState)({ERPType:[],instance:[],BU:[]}),[R,I]=(0,n.useState)(!1),[k,B]=(0,n.useState)(null);(0,n.useEffect)((()=>{let t=null;switch(null===e||void 0===e?void 0:e.MappingType){case"orgallowedvalues":t="sample-orgAllowedTemplate.xlsx";break;case"mvoTemplateCompatibility":t="sample-mvotemplatecompatibility.xlsx";break;case"parttypetotemplate":t="sample-partTypeToTemplate.xlsx";break;case"mvoallowedchanges":t="sample-mvoallowedchanges.xlsx";break;case"setcompatibletemplates":t="sample-setcompatibletemplates.xlsx";break;case"buplantmapping":t="sample-RDOPlantMapping.xlsx";break;case"expensemapping":t="sample-expensemapping.xlsx"}S(t)}),[e.MappingType]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(J.A,{open:i,style:{zIndex:999},children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:e.title}),(0,g.jsx)(te.A,{children:(0,g.jsx)(ae.A,{children:(0,g.jsx)(y.A,{width:"100%",overflow:"auto",children:(0,g.jsx)(fa,{children:(0,g.jsxs)(ge.A,{children:[(0,g.jsxs)(ue.A,{children:[(0,g.jsx)(pe.A,{align:"left",children:(0,g.jsx)(he.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Design Organization"})}),(0,g.jsxs)(pe.A,{align:"left",children:[(0,g.jsx)(xe.A,{style:{width:"70%"},multiple:!1,options:(e=>{const t=new Set;return null===l||void 0===l||l.forEach((a=>{t.add(a[e])})),Array.from(t)})("buName"),value:L.BU,onChange:(e,t)=>{return a="BU",n=t,_((e=>({...e,[a]:n}))),"ERPType"===a&&O(!1),"instance"===a&&P(!1),"BU"===a&&D(!1),void console.info(L,"importSelectionValues");var a,n},renderValue:()=>null,renderInput:e=>(0,g.jsx)(se.A,{...e,variant:"outlined",label:"Select RDO",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!1,disableClearable:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionSelected:(e,t)=>L.BU.includes(t),ChipProps:{style:{fontSize:"8px"}}}),M&&(0,g.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,g.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,g.jsxs)(b.A,{component:"label",variant:"contained",startIcon:(0,g.jsx)(oe.A,{}),children:["Upload file",(0,g.jsx)(ya,{type:"file",name:"file",accept:".xls, .xlsx",onChange:e=>{const t=e.target.files[0];if(t){const a=t.name.split(".").pop();"xlsx"===a||"xls"===a?(j(e.target.files[0]),T(e.target.files[0].name),u(!1)):(u(!0),T(null),j(null))}else u(!0),T(null),j(null)}})]}),m&&(0,g.jsx)("p",{children:"Please Select xlsx file to Upload "})]}),f&&(0,g.jsx)("p",{children:f}),(0,g.jsx)("div",{style:{paddingTop:"10px"},children:(0,g.jsx)(b.A,{component:"label",variant:"contained",startIcon:(0,g.jsx)(de.A,{}),onClick:()=>{s.downloadSampleFile(E)},children:"Download sample file"})})]})})})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{autoFocus:!0,onClick:()=>{j(null),r(!1)},children:"Cancel"}),(0,g.jsx)(b.A,{onClick:()=>{if(null===L.BU||L.BU.length<1)D(!0);else if(null===A||A.length<1)u(!0);else if(null!==A){let t={file:A,data:{BU:L.BU,MappingType:null===e||void 0===e?void 0:e.MappingType}};c(!0),s.importTemplate(t).then((e=>{h(e),v(!0),j(null),T(null),r(!1);let t={},n="";e&&"error"===e.status?(t=(0,g.jsxs)("div",{style:{color:"red"},children:[null===e||void 0===e?void 0:e.msg," ",(0,g.jsx)("br",{}),(null===e||void 0===e?void 0:e.errorInTemplateCount)&&(0,g.jsxs)(g.Fragment,{children:["Total Template Count: ",e.errorInTemplateCount," ",(0,g.jsx)("br",{}),"Templates are: ",(0,g.jsx)("br",{}),(0,g.jsx)("ul",{children:e.errorInTemplate.map((e=>(0,g.jsx)("li",{children:e},ze().generate())))})]}),(null===e||void 0===e?void 0:e.errorInPlantCount)&&(0,g.jsxs)(g.Fragment,{children:["Total Plant Count: ",e.errorInPlantCount," ",(0,g.jsx)("br",{}),"Plants are: ",(0,g.jsx)("br",{}),(0,g.jsx)("ul",{children:e.errorInPlants.map((e=>(0,g.jsx)("li",{children:e},ze().generate())))})]})]}),n="error"):e.errorCount>0||!e.newTemplateAdded&&!e.updateTemplates?(t=(0,g.jsxs)("div",{style:{color:"red"},children:["Failure ",(0,g.jsx)("br",{}),"New Template Added: ",e.newTemplateAdded," ",(0,g.jsx)("br",{}),"Template Updated: ",e.updateTemplates," ",(0,g.jsx)("br",{}),e.errorCount>0&&(0,g.jsxs)(g.Fragment,{children:["Error in Template: ",e.errorCount," ",(0,g.jsx)("br",{})]})]}),n="error"):(t=(0,g.jsxs)("div",{children:[e.msg," ",(0,g.jsx)("br",{}),"New Template Added: ",e.newTemplateAdded," ",(0,g.jsx)("br",{}),"Template Updated: ",e.updateTemplates," ",(0,g.jsx)("br",{})]}),n="success"),I(!0),B({severity:n,desc:t}),c(!1),"error"!==n&&(null!==e&&void 0!==e&&e.errorInTemplateCount&&null!==e&&void 0!==e&&e.errorInPlantCount||(a(!0),o()))}))}},children:"Import"})]})]}),k?(0,g.jsx)(ve.A,{openAlert:R,openDesc:k,setOpenAlert:I,sx:{"& .MuiAlertTitle-root":{backgroundColor:"red"}}}):(0,g.jsx)(g.Fragment,{}),d?(0,g.jsx)("div",{style:{textAlign:"center"},children:(0,g.jsx)(le.A,{show:d})}):(0,g.jsx)(g.Fragment,{})]})},Ta=(0,n.createContext)({mvotemplatecompInfo:[],updateMVOtempcompLists:()=>[]}),Ea=Ta,Sa=()=>(0,n.useContext)(Ea),wa=(0,n.createContext)({parttypetemplateinfo:[],updateParttypeTemplate:()=>[]}),Oa=wa,Ca=()=>(0,n.useContext)(Oa),Pa=(0,n.createContext)({mvoallowedchangesinfo:[],updateMVOallowedchanges:()=>[]}),Ma=Pa,Da=()=>(0,n.useContext)(Ma),La=(0,n.createContext)({comptempInfo:[],updatecomptempList:()=>[]}),Na=La,_a=()=>(0,n.useContext)(Na),Ra=(0,n.createContext)({buplantsInfo:[],updatebuplantsInfo:()=>[]}),Ia=Ra,ka=()=>(0,n.useContext)(Ia),Ba=(0,n.createContext)({expensemapInfo:[],updateExpenseMap:()=>[]}),Fa=Ba,Ua=()=>(0,n.useContext)(Fa),Wa=e=>{const t=new re.Q,[a,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)(!1),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)([]),{templatesInfo:m,bussinessUnit:u,mappingTemplatesInfo:p}=(0,N.A)(),{mvotemplatecompInfo:h}=Sa(),{parttypetemplateinfo:v}=Ca(),{mvoallowedchangesinfo:A}=Da(),{comptempInfo:j}=_a(),{buplantsInfo:f}=ka(),{expensemapInfo:T}=Ua(),[E,S]=(0,n.useState)("allData"),[w,O]=(e.filterTemplateData,(0,n.useState)(!1)),[C,P]=(0,n.useState)(null);let M=localStorage.getItem("bussinessUnit");function D(e){return e&&0===Object.keys(e).length&&e.constructor===Object}(0,n.useEffect)((()=>{var t;p&&p.forEach((e=>{const t=e.details;t&&(t.allowableOrgTemplates&&t.allowableOrgTemplates.sort(((e,t)=>{const a=e.ALLOWABLE_ORG_TEMPLATE?"ALLOWABLE_ORG_TEMPLATE":"org_allowed_template";return e[a]<t[a]?-1:e[a]>t[a]?1:0})),t.MVO_TEMPLATES_TO&&t.MVO_TEMPLATES_TO.sort(((e,t)=>e.MVO_TEMPLATE_TO<t.MVO_TEMPLATE_TO?-1:e.MVO_TEMPLATE_TO>t.MVO_TEMPLATE_TO?1:0)),t.TEMPLATE_ORG_MODIFYING&&t.TEMPLATE_ORG_MODIFYING.sort(((e,t)=>e.TEMPLATE_ORG_MODIFYING<t.TEMPLATE_ORG_MODIFYING?-1:e.TEMPLATE_ORG_MODIFYING>t.TEMPLATE_ORG_MODIFYING?1:0)))}));let a=e.MappingType;"mvoallowedchanges"===a&&D(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="MVO_TEMPLATE_FROM",e.sortInfo.columnName="MVO_TEMPLATE_FROM"),"mvoTemplateCompatibility"===a&&D(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="MVO_TEMPLATE_OPTION",e.sortInfo.columnName="MVO_TEMPLATE_OPTION"),"parttypetotemplate"===a&&D(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="ENGG_ITEM_TYPE",e.sortInfo.columnName="ENGG_ITEM_TYPE"),"setcompatibletemplates"===a&&D(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="TEMPLATE_ORG_EXISTING",e.sortInfo.columnName="TEMPLATE_ORG_EXISTING"),"expensemapping"===a&&D(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="EXPENSE_TEMPLATE",e.sortInfo.columnName="EXPENSE_TEMPLATE");let n=a&&p?p.filter((e=>e.MappingType===a)):[];"allData"===E&&e.sortInfo&&n.sort(((t,a)=>{var n,l;const s=e.sortInfo.id||e.sortInfo.name||e.sortInfo.columnName,i=(null===(n=t[s])||void 0===n?void 0:n.toLowerCase())||"",r=(null===(l=a[s])||void 0===l?void 0:l.toLowerCase())||"";return i<r?1===e.sortInfo.dir?-1:1:i>r?1===e.sortInfo.dir?1:-1:0}));let l="allData"===E?n:null===e||void 0===e?void 0:e.filterTemplateData;l=null===(t=l)||void 0===t?void 0:t.filter((e=>e.BUID===u));let s=l.map((e=>{if("orgallowedvalues"===a&&"Delete"!==e.actionFlag){var t,n,l,s,i,r,o;return{"Template Name":null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES,"Design Organization":e.BUID,"Has MBOM":null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.Has_MBOM,"On MBOM":null===e||void 0===e||null===(l=e.details)||void 0===l?void 0:l.On_MBOM,"EBOM Allowed":null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.EBOM_Allowed,Optional:null===e||void 0===e||null===(i=e.details)||void 0===i?void 0:i.Optional,"PO Org Check":null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.PO_Org_Exist_Check,...null===e||void 0===e||null===(o=e.details)||void 0===o?void 0:o.Plants}}var d,c,m,p,h,x,g,v;if("mvoTemplateCompatibility"===a&&"Delete"!==e.actionFlag)return null===(d=e.details)||void 0===d||null===(c=d.allowableOrgTemplates)||void 0===c?void 0:c.map(((t,a)=>({"Template MVO":0===a?e.details.MVO_TEMPLATE_OPTION:null,"Org Allowed Templates":t.ALLOWABLE_ORG_TEMPLATE,"Status:":t.status,"Design Organization":0===a?e.BUID:null})));if("parttypetotemplate"===a&&"Delete"!==e.actionFlag)return null===(m=e.details)||void 0===m||null===(p=m.allowableOrgTemplates)||void 0===p?void 0:p.map(((t,a)=>({"Enovia Part Type":0===a?e.details.ENGG_ITEM_TYPE:null,"Org Allowed Templates":t.org_allowed_template,"Exclusive Use":t.exclusive_use,"Design Organization":0===a?e.BUID:null})));if("mvoallowedchanges"===a&&"Delete"!==e.actionFlag)return null===(h=e.details)||void 0===h||null===(x=h.MVO_TEMPLATES_TO)||void 0===x?void 0:x.map(((t,a)=>({"MVO Template - From":0===a?e.details.MVO_TEMPLATE_FROM:null,"MVO Template - To":t.MVO_TEMPLATE_TO,"Design Organization":0===a?e.BUID:null})));if("setcompatibletemplates"===a&&"Delete"!==e.actionFlag)return null===(g=e.details)||void 0===g||null===(v=g.TEMPLATE_ORG_MODIFYING)||void 0===v?void 0:v.map(((t,a)=>({"Template for Org(s) Existing":0===a?e.details.TEMPLATE_ORG_EXISTING:null,"Template for Org Modifying":t.TEMPLATE_ORG_MODIFYING,"Design Organization":0===a?e.BUID:null})));if("buplantmapping"===a&&"Delete"!==e.actionFlag){return{Entity:e.details.Entity,...Object.keys(e.details.PLANT).sort().reduce(((t,a)=>(t[a]=e.details.PLANT[a],t)),{})}}if("expensemapping"===a&&"Delete"!==e.actionFlag){return{Template:e.details.EXPENSE_TEMPLATE,"Design Organization":u,...e.details.EXPENSE_PLANTS}}})).flat().filter((e=>null!==e&&void 0!==e));c(s)}),[u,m,h,v,A,j,f,T,E,p,e.filterTemplateData,e.sortInfo]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{l(!0)},children:"Export"}),(0,g.jsxs)(J.A,{open:a,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,g.jsx)(te.A,{children:(0,g.jsx)(ae.A,{children:(0,g.jsx)(y.A,{width:"100%",overflow:"auto",children:(0,g.jsx)(x.Tn,{children:(0,g.jsx)(R.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,g.jsx)(R.Ay,{container:!0,alignItems:"center",children:(0,g.jsxs)(Ee.A,{children:[(0,g.jsx)(Se.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,g.jsxs)(be.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:E,onChange:e=>{S(e.target.value)},children:[(0,g.jsx)(Te.A,{value:"allData",control:(0,g.jsx)(ye.A,{}),label:"All Data"}),(0,g.jsx)(Te.A,{value:"selectedData",control:(0,g.jsx)(ye.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"}),(0,g.jsx)(b.A,{onClick:()=>{if(d){let a=d;"RDO Plant Mapping"===e.title&&(a=(0,Ve.fb)(d)),"Org Allowed Templates"===e.title&&("orgallowedvalues"===e.MappingType&&D(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="ALLOWABLE_ORG_TEMPLATES",e.sortInfo.columnName="ALLOWABLE_ORG_TEMPLATES"),e.sortInfo&&a.sort(((t,a)=>{var n,l;let s=e.sortInfo.id||e.sortInfo.name||e.sortInfo.columnName;"ALLOWABLE_ORG_TEMPLATES"===s&&(s="Template Name");const i=(null===(n=t[s])||void 0===n?void 0:n.toLowerCase())||"",r=(null===(l=a[s])||void 0===l?void 0:l.toLowerCase())||"";return i<r?1===e.sortInfo.dir?-1:1:i>r?1===e.sortInfo.dir?1:-1:0}))),t.exportTemplate({data:a,sheet_name:e.title.substring(0,26),bussiness_unit:M}).then((e=>{o(e),i(!0),O(!0),P({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))}l(!1)},children:"Export"})]})]}),C?(0,g.jsx)(ve.A,{openAlert:w,openDesc:C,setOpenAlert:O}):(0,g.jsx)(g.Fragment,{})]})},$a=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Va=()=>{const{refreshData:e}=(0,N.A)(),{templatesInfo:t,bussinessUnit:a,bussinessUnitLists:l,mappingTemplatesInfo:s,updateBussinessUnit:i,updateMappingTemplatesInfo:r}=(0,N.A)(),[o,d]=(0,n.useState)(""),[c,m]=(0,n.useState)(!1),[u,p]=(0,n.useState)(!1),[h,v]=(0,n.useState)({}),[A,j]=(0,n.useState)(!1),[f,T]=(0,n.useState)([]),E=new ja,S=new Jt.W,w=new Aa,[O,C]=(0,n.useState)(),[P,M]=(0,n.useState)(!1),[D,L]=(0,n.useState)([]),[k,B]=(0,n.useState)([]),[F,U]=(0,n.useState)(!1),[W,$]=(0,n.useState)(!1),[V,G]=(0,n.useState)(null),[z,H]=(0,n.useState)({}),[Y,X]=(0,n.useState)([]),q=(0,n.useRef)(null),[K,Q]=(0,n.useState)({}),le=q&&q.current&&q.current.dataMap?q.current.dataMap:null,re=e=>{const t=e.target.value;d(t)},oe=()=>{m(!1)},de=(e,t)=>{$(!0),G({severity:t,desc:e})},ce=()=>{p(!1),v(""),T([]),B([]),H({}),M(!1)},me=()=>{U(!0),S.getAlltemplateMappings().then((e=>{var t;r(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),U(!1)}))},ue=(0,n.useCallback)((e=>{let{selected:t}=e;H(t)}),[]);(0,n.useEffect)((()=>{const e=!0===z?le:z,t=e&&Object.keys(e).map((t=>e[t]));B(t)}),[z,le]),(0,n.useEffect)((()=>{U(e)}),[e]);const[pe,he]=(0,n.useState)([]),[xe,ge]=(0,n.useState)([]),Ae=(0,Pe.t$)(pe,"ALLOWABLE_ORG_TEMPLATES");(0,n.useEffect)((()=>{je()}),[]),(0,n.useEffect)((()=>{if(U(!0),s){let n=s;var e,t;if(n=n.filter((e=>"orgallowedvalues"===e.MappingType&&"Delete"!==e.actionFlag)),a)n=null===(e=n)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(o&&""!==o)n=null===(t=n)||void 0===t?void 0:t.filter((e=>{var t,a,n;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(o))||(null===(a=JSON.stringify(e))||void 0===a||null===(n=a.toLocaleLowerCase())||void 0===n?void 0:n.includes(o))}));if(Y.length>0){const e=Y.filter((e=>"orgallowedvalues"==e.MappingType));e.length>0&&"orgallowedvalues"===e[0].MappingType&&n.forEach((t=>{e[0].changes.forEach((e=>{if(t.TEMPLATE_MAPPING===e.id){t.details.draftValue_ALLOWABLE_ORG_TEMPLATES=e.details.ALLOWABLE_ORG_TEMPLATES!==t.details.ALLOWABLE_ORG_TEMPLATES?e.details.ALLOWABLE_ORG_TEMPLATES:null,t.details.draftValue_Has_MBOM=e.details.Has_MBOM!==t.details.Has_MBOM?e.details.Has_MBOM:null,t.details.draftValue_On_MBOM=e.details.On_MBOM!==t.details.On_MBOM?e.details.On_MBOM:null,t.details.draftValue_EBOM_Allowed=e.details.EBOM_Allowed!==t.details.EBOM_Allowed?e.details.EBOM_Allowed:null,t.details.draftValue_Optional=e.details.Optional!==t.details.Optional?e.details.Optional:null,t.details.draftValue_PO_Org_Exist_Check=e.details.PO_Org_Exist_Check!==t.details.PO_Org_Exist_Check?e.details.PO_Org_Exist_Check:null,t.details.draft_Plants={};for(let a in t.details.Plants)t.details.draft_Plants[a]=e.details.Plants[a]!==t.details.Plants[a]?e.details.Plants[a]:null}}))}))}setTimeout((()=>{L(n);let e=n.map((e=>{var t,a,n,l,s,i,r,o,d,c,m,u,p,h;return e.ALLOWABLE_ORG_TEMPLATES=null!==e&&void 0!==e&&null!==(t=e.details)&&void 0!==t&&t.draftValue_ALLOWABLE_ORG_TEMPLATES?null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.draftValue_ALLOWABLE_ORG_TEMPLATES:null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.ALLOWABLE_ORG_TEMPLATES,e.Has_MBOM=null!==e&&void 0!==e&&null!==(l=e.details)&&void 0!==l&&l.draftValue_Has_MBOM?`${null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.draftValue_Has_MBOM} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.Has_MBOM}</span>`:null===e||void 0===e?void 0:e.details.Has_MBOM,e.On_MBOM=null!==e&&void 0!==e&&null!==(i=e.details)&&void 0!==i&&i.draftValue_On_MBOM?`${null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.draftValue_On_MBOM} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.On_MBOM}</span>`:null===e||void 0===e?void 0:e.details.On_MBOM,e.EBOM_Allowed=null!==e&&void 0!==e&&null!==(o=e.details)&&void 0!==o&&o.draftValue_EBOM_Allowed?`${null===e||void 0===e||null===(d=e.details)||void 0===d?void 0:d.draftValue_EBOM_Allowed} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.EBOM_Allowed}</span>`:null===e||void 0===e?void 0:e.details.EBOM_Allowed,e.Optional=null!==e&&void 0!==e&&null!==(c=e.details)&&void 0!==c&&c.draftValue_Optional?`${null===e||void 0===e||null===(m=e.details)||void 0===m?void 0:m.draftValue_Optional} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.Optional}</span>`:null===e||void 0===e?void 0:e.details.Optional,e.PO_Org_Exist_Check=null!==e&&void 0!==e&&null!==(u=e.details)&&void 0!==u&&u.draftValue_PO_Org_Exist_Check?`${null===e||void 0===e||null===(p=e.details)||void 0===p?void 0:p.draftValue_PO_Org_Exist_Check} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.PO_Org_Exist_Check}</span>`:null===e||void 0===e?void 0:e.details.PO_Org_Exist_Check,Object.keys(null===e||void 0===e||null===(h=e.details)||void 0===h?void 0:h.Plants).map((t=>{var a,n,l,s,i,r;null!==e&&void 0!==e&&null!==(a=e.details)&&void 0!==a&&a.draft_Plants?e[t]=null!==e&&void 0!==e&&null!==(n=e.details)&&void 0!==n&&n.draft_Plants[t]?`${null===e||void 0===e||null===(l=e.details)||void 0===l?void 0:l.draft_Plants[t]} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through"> ${null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.Plants[t]} <span>`:null===e||void 0===e||null===(i=e.details)||void 0===i?void 0:i.Plants[t]:e[t]=null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.Plants[t]})),e}));ge(n),he(e),U(!1)}),500)}else{var n;if(!a)i(I.Qy?null===(n=I.Qy[0])||void 0===n?void 0:n.value:"")}}),[s,a,o,Y]);const je=()=>{U(!0),w.getAlldraftChanges().then((e=>{let t=a||"Micro Motion";if(e.data){let a=e.data.filter((e=>e.BUID===t||"Another Name"===e.BUID));X(a)}else X([]);U(!1)}))};return(0,g.jsxs)($a,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Org Allowed Templates"}]})}),(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(se.A,{type:"text",name:"search",size:"small",onChange:re,value:o,style:{width:"100%"}})}),(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,g.jsxs)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:[(0,g.jsxs)(R.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,g.jsx)(R.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,g.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,g.jsx)(R.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,g.jsx)(_,{onChange:re,selectedvalue:a,style:{width:"100%"},optionsValues:I.Qy,onChangeFunc:e=>{H({}),B([]),i(e),d("")}})})]}),(0,g.jsxs)(R.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,onClick:()=>{v({BUID:a}),T([]),p(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,disabled:1!==(null===k||void 0===k?void 0:k.length),onClick:()=>{var e,t;const a=null===(e=k[0])||void 0===e?void 0:e.details,n=null===(t=k[0])||void 0===t?void 0:t.BUID;for(const o in null===(l=k[0])||void 0===l||null===(s=l.details)||void 0===s?void 0:s.Plants){var l,s,i,r;"Y"===(null===(i=k[0])||void 0===i||null===(r=i.details)||void 0===r?void 0:r.Plants[o])&&f.push(o)}v({...a,BUID:n}),M(!0),p(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,disabled:0===(null===k||void 0===k?void 0:k.length),onClick:()=>{C(k[0]),m(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{j(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,g.jsx)(Wa,{title:"Org Allowed Templates",MappingType:"orgallowedvalues",filterTemplateData:k,sortInfo:K})]})]}),(0,g.jsx)(R.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,g.jsxs)(y.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[F&&(0,g.jsx)(y.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,g.jsx)(lt.A,{})}),!F&&(0,g.jsx)(Oe.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:(e=>{let t=new Set;e&&e.length>0&&e.forEach((e=>{var a;const n=null===(a=e.details)||void 0===a?void 0:a.Plants;if(n){Object.keys(n).forEach((e=>{t.add(e)}))}}));const a=Array.from(t).map((e=>({name:e,header:e,defaultWidth:100,render:e=>(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})})));return[{name:"ALLOWABLE_ORG_TEMPLATES",defaultWidth:250,header:(0,g.jsx)(ie.A,{title:ga.adminConstant.orgAllowedList.tooltip.AllowableOrgTemplate,children:"Template Name"}),render:e=>(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.orgAllowedList.tooltip.RDO,children:"Design Organization"}),defaultWidth:150},{name:"Has_MBOM",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.orgAllowedList.tooltip.HasMBom,children:"Has MBOM"}),defaultWidth:120,render:e=>(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"On_MBOM",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.orgAllowedList.tooltip.OnMbom,children:"On MBOM"}),defaultWidth:120,render:e=>(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"EBOM_Allowed",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.orgAllowedList.tooltip.EBOM,children:"EBOM Allowed"}),defaultWidth:100,render:e=>(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"Optional",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.orgAllowedList.tooltip.Optional,children:"Optional"}),defaultWidth:100,render:e=>(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"PO_Org_Exist_Check",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.orgAllowedList.tooltip.PoCheck,children:"PO org Check"}),defaultWidth:120,render:e=>(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},...a]})(D)||[],dataSource:null===K?xe:Ae,rowHeight:null,checkboxColumn:!0,defaultLimit:100,selected:z,onSelectionChange:ue,handle:e=>q.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(z).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===z?"#dee1f2":"initial"}},pagination:!0,renderScroller:()=>{var e,t;return null===q||void 0===q||null===(e=q.current)||void 0===e?void 0:e.setScrollTop(0==(null===k||void 0===k?void 0:k.length)?0:null===q||void 0===q||null===(t=q.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{Q(e)}})]})})]})}),V?(0,g.jsx)(ve.A,{openAlert:W,openDesc:V,setOpenAlert:$}):(0,g.jsx)(g.Fragment,{}),(0,g.jsxs)(J.A,{open:c,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,g.jsx)(te.A,{children:(0,g.jsxs)(ae.A,{children:["Do you want to delete the OrgAllowedTemplates Mapping(s) for Design Organization"," ",(0,g.jsx)("b",{children:null===O||void 0===O?void 0:O.BUID}),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),(0,g.jsx)("b",{children:"Note:"})," ",ga.adminConstant.common.deleteNote]})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:oe,children:"Cancel"}),(0,g.jsx)(b.A,{onClick:async()=>{try{await E.softDeleteTempCompMapping({data:k}).then((e=>{oe(),B([]),C([]),H({})}))}catch(e){console.error("Failed to delete mapping:",e)}de("Template Mapping deleted Successfully","success"),me(),m(!1)},children:"delete"})]})]}),(0,g.jsx)(va,{open:u,handleorgAllowedDialogAdd:()=>{p(!1)},handleorgAllowedDialogClose:ce,orgAllowedForm:h,handleorgAllowedFormChange:e=>{const{name:t,value:n}=e.target;if("BUID"===t&&T([]),"ALLOWABLE_ORG_TEMPLATES"===t&&(v({...h,BUID:a}),T([])),"plants"===t)T(n);else{const e={...h,[t]:n};v(e)}},handleAddOrgAllowedValues:()=>{var e;const a=null===t||void 0===t?void 0:t.filter((e=>e.templateName===h.ALLOWABLE_ORG_TEMPLATES)),n=(null===l||void 0===l||null===(e=l.find((e=>e.buName===h.BUID)))||void 0===e?void 0:e.plants)||[],s={};if(n.forEach((e=>{const t=e.plantName;s[t]=null!==f&&void 0!==f&&f.includes(t)?"Y":"N"})),!h.ALLOWABLE_ORG_TEMPLATES||!h.BUID||(null===f||void 0===f?void 0:f.length)<1)de("Please Enter the required fields","error");else{if(h){const e={BUID:h.BUID,MappingType:"orgallowedvalues",id:a[0].id+"_"+h.BUID.trim(),details:{ALLOWABLE_ORG_TEMPLATES:h.ALLOWABLE_ORG_TEMPLATES,Has_MBOM:void 0!==h.Has_MBOM?h.Has_MBOM:"Y",EBOM_Allowed:void 0!==h.EBOM_Allowed?h.EBOM_Allowed:"Y",Optional:void 0!==h.Optional?h.Optional:"Y",PO_Org_Exist_Check:void 0!==h.PO_Org_Exist_Check?h.PO_Org_Exist_Check:"Y",On_MBOM:void 0!==h.On_MBOM?h.On_MBOM:"Y",ALLOWABLE_ORG_TEMPLATES_ID:a[0].id,Plants:s}};!1===P?E.addnewTempCompMapping(e).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(me(),setTimeout((()=>{p(!1)}),200),de("Org Allowed Values added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&de(null===e||void 0===e?void 0:e.msg,"error")})):E.updateTempCompMapping(e).then((e=>{"success"===e.status?(setTimeout((()=>{p(!1),je(),me()}),200),M(!1),de("Org Allowed Values updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&de(null===e||void 0===e?void 0:e.msg,"error")}))}ce()}},selectedPlants:f,isEdit:P,selectedBU:a}),(0,g.jsx)(ba,{title:"Import RDO Allowed Template Mappings",MappingType:"orgallowedvalues",selectedBU:a,importTemplate:A,fetchData:me,setImportTemplate:j})]})},Ga=()=>(0,g.jsx)(Va,{}),za=[{path:"/orgallowedList",element:(0,g.jsx)(Q,{children:(0,g.jsx)(Ga,{})})}];var Ha=a(20979);const Ya={minHeight:248},Xa=e=>{let{open:t,handleorgAllowedDialogClose:a,orgAllowedForm:l,handleorgAllowedFormChange:s,handleAddMVOtempComp:i,isEdit:r,orgAllowedTempList:o,onSelectionChange:d,selected:c,filteredBUOptions:m,setFilteredBUOptions:u,formError:p,RDO:h,selectedRow:x,handleStatusChange:v}=e;const[A,j]=(0,n.useState)([]),[f,y]=(0,n.useState)({});(0,Pe.bV)(A,"ALLOWABLE_ORG_TEMPLATES"),(0,n.useEffect)((()=>{if(null!==l&&void 0!==l&&l.BUID){null===l||void 0===l||l.BUID;u([h])}else u([h]);if(o){const e=null===o||void 0===o?void 0:o.filter((e=>(null===e||void 0===e?void 0:e.BUID)===h));x&&e.map((e=>{var t;return null===x||void 0===x||null===(t=x.details)||void 0===t||t.allowableOrgTemplates.map((t=>{e.details.ALLOWABLE_ORG_TEMPLATES===t.ALLOWABLE_ORG_TEMPLATE&&(e.status=t.status)})),e}));let t=e.map((e=>({...e,...null===e||void 0===e?void 0:e.details})))||[];console.log(t,"================table data"),j(t)}}),[o,l]),(0,n.useEffect)((()=>{console.log(p,"formError")}),[]);const T=(0,n.useRef)(null),E=[{name:"id",header:"Id",defaultVisible:!1,defaultWidth:60,type:"number"},{name:"ALLOWABLE_ORG_TEMPLATES",defaultWidth:265,header:(0,g.jsx)(ie.A,{title:ga.adminConstant.orgAllowedList.tooltip.AllowableOrgTemplate,children:"ALLOWABLE ORG TEMPLATES"}),render:e=>{var t;let{data:a}=e;return(0,g.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES})}},{name:"Has_MBOM",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.orgAllowedList.tooltip.HasMBom,children:"Has MBOM"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,g.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.Has_MBOM})}},{name:"EBOM_Allowed",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.orgAllowedList.tooltip.EBOM,children:"EBOM"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,g.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.EBOM_Allowed})}},{name:"Optional",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.orgAllowedList.tooltip.Optional,children:"Optional"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,g.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.Optional})}},{name:"PO_Org_Exist_Check",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.orgAllowedList.tooltip.PoCheck,children:"PO Check"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,g.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.PO_Org_Exist_Check})}},{name:"On_MBOM",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.orgAllowedList.tooltip.OnMbom,children:"On MBOM"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,g.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.On_MBOM})}},{name:"Status",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.orgAllowedList.tooltip.status,children:"Status"}),defaultWidth:200,render:e=>{var t,a,n,l;let{data:s}=e;return(0,g.jsx)("div",{children:(0,g.jsx)(Ee.A,{children:(0,g.jsxs)(be.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:null===s||void 0===s||null===(t=s.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES,value:f[null===s||void 0===s||null===(a=s.details)||void 0===a?void 0:a.ALLOWABLE_ORG_TEMPLATES]?null===(n=f[null===s||void 0===s||null===(l=s.details)||void 0===l?void 0:l.ALLOWABLE_ORG_TEMPLATES])||void 0===n?void 0:n.trim():"active",onChange:e=>{const t={...f,[e.target.name]:e.target.value};y(t),v(e)},children:[(0,g.jsx)(Te.A,{value:"active",control:(0,g.jsx)(ye.A,{}),label:"Active"}),(0,g.jsx)(Te.A,{value:"disabled",control:(0,g.jsx)(ye.A,{}),label:"Disable"})]})})})}}];return(0,n.useEffect)((()=>{if(x){var e;const t=(e=>{let t={};return e.forEach((e=>{var a;t[null===e||void 0===e?void 0:e.ALLOWABLE_ORG_TEMPLATE]=null===e||void 0===e||null===(a=e.status)||void 0===a?void 0:a.toLowerCase()})),t})(null===x||void 0===x||null===(e=x.details)||void 0===e?void 0:e.allowableOrgTemplates);y(t)}}),[x]),(0,g.jsxs)(J.A,{open:t,fullWidth:!0,maxWidth:"xl",children:[(0,g.jsxs)(ne.A,{children:[" ",r?"Edit MVO Template Compatibility":"Add MVO Template Compatibility"]}),(0,g.jsx)(Ha.ur,{autoHeight:!0,autoHeightMin:100,autoHeightMax:500,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:300,children:(0,g.jsx)(te.A,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsx)("span",{children:"Design Organization:"})}),(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,g.jsx)(D.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:h,onChange:s,disabled:!0,children:null===m||void 0===m?void 0:m.map((e=>(0,g.jsx)(L.A,{value:e,children:e},e)))}),null!==p&&void 0!==p&&p.RDOError?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.RDOError})}):(0,g.jsx)(g.Fragment,{})]}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsx)("span",{children:"Template MVO:"})}),(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,g.jsx)(D.A,{name:"MVO_TEMPLATE_OPTION",fullWidth:!0,value:l.MVO_TEMPLATE_OPTION,onChange:s,disabled:r,children:null===A||void 0===A?void 0:A.map(((e,t)=>(0,g.jsx)(L.A,{value:e.details.ALLOWABLE_ORG_TEMPLATES,children:e.details.ALLOWABLE_ORG_TEMPLATES},t)))}),null!==p&&void 0!==p&&p.templateError?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.templateError})}):(0,g.jsx)(g.Fragment,{})]}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Org Allowed Templates:"," "]})}),(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:[null!==p&&void 0!==p&&p.AllowableOrgTempError?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.AllowableOrgTempError})}):(0,g.jsx)(g.Fragment,{}),(0,g.jsx)(Oe.Ay,{idProperty:"id",showZebraRows:!1,handle:e=>T.current=e?e.current:null,selected:c,checkboxColumn:!0,onSelectionChange:d,checkboxOnlyRowSelect:!0,style:{...Ya,height:"500px"},columns:E,dataSource:A,pagination:!0})]})]})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:a,children:"Cancel"}),(0,g.jsx)(b.A,{onClick:i,children:r?"Update":"Add"})]})]})},qa=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Ka=()=>{var e,t,a,l,s,i,r,o,d;const{refreshData:c,templatesInfo:m,bussinessUnit:u,mappingTemplatesInfo:p,updateBussinessUnit:h,updateMappingTemplatesInfo:v}=(0,N.A)(),[A,j]=(0,n.useState)(!1),[f,T]=(0,n.useState)(""),[E,S]=(0,n.useState)(!1),[w,O]=(0,n.useState)(!1),C=new Jt.W,P=new ja,M=new Aa,[D,L]=(0,n.useState)([]),[k,B]=(0,n.useState)(),[F,U]=(0,n.useState)(!1),[W,$]=(0,n.useState)({}),[V,G]=(0,n.useState)([]),[z,H]=(0,n.useState)([]),[Y,X]=(0,n.useState)(!0),[q,K]=(0,n.useState)({}),[Q,le]=(0,n.useState)({}),[re,oe]=(0,n.useState)([]),[de,ce]=(0,n.useState)({}),[me,ue]=(0,n.useState)(""),[pe,he]=(0,n.useState)({}),[xe,ge]=(0,n.useState)([]),[Ae,je]=(0,n.useState)(!1),[fe,ye]=(0,n.useState)(null),[be,Te]=(0,n.useState)({}),Ee=(0,n.useRef)(null),Se=Ee&&Ee.current&&Ee.current.dataMap?Ee.current.dataMap:null,we=()=>{S(!1)},Ce=(e,t)=>{je(!0),ye({severity:t,desc:e})},Me=[{name:"MVO_TEMPLATE_OPTION",header:(0,g.jsx)(ie.A,{title:null===ga||void 0===ga||null===(e=ga.adminConstant)||void 0===e||null===(t=e.mvoTemplateList)||void 0===t||null===(a=t.tooltip)||void 0===a?void 0:a.TemplateOptionMVO,children:"Template MVO"}),defaultWidth:250,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.MVO_TEMPLATE_OPTION})}},{name:"name",header:(0,g.jsx)(ie.A,{title:null===ga||void 0===ga||null===(l=ga.adminConstant)||void 0===l||null===(s=l.mvoTemplateList)||void 0===s||null===(i=s.tooltip)||void 0===i?void 0:i.AllowableOrgTemplate,children:"Org Allowed Templates - Status"}),defaultFlex:1,sortable:!1,render:e=>(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,g.jsx)(ie.A,{title:null===ga||void 0===ga||null===(r=ga.adminConstant)||void 0===r||null===(o=r.mvoTemplateList)||void 0===o||null===(d=o.tooltip)||void 0===d?void 0:d.RDO,children:"Design Organization"}),defaultFlex:1,defaultWidth:50}],De=()=>{O(!1),$(""),G([]),K({}),le({}),ce({}),U(!1)},Le=()=>{X(!0),C.getAlltemplateMappings().then((e=>{var t;v(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),X(!1)}))};(0,n.useEffect)((()=>{X(c)}),[c]);const[Ne,_e]=(0,n.useState)([]),[Re,Ie]=(0,n.useState)([]);(0,n.useEffect)((()=>{ke()}),[]);const ke=()=>{X(!0),M.getAlldraftChanges().then((e=>{let t=u||"Micro Motion",a=e.data.filter((e=>e.BUID===t));ge(a),X(!1)}))};(0,n.useEffect)((()=>{if(X(!0),p){let n=p;var e,t;if(n=n.filter((e=>"mvoTemplateCompatibility"===e.MappingType&&"Delete"!==e.actionFlag)),u)n=null===(e=n)||void 0===e?void 0:e.filter((e=>e.BUID===u));if(f&&""!==f)n=null===(t=n)||void 0===t?void 0:t.filter((e=>{var t,a,n;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(f))||(null===(a=JSON.stringify(e))||void 0===a||null===(n=a.toLocaleLowerCase())||void 0===n?void 0:n.includes(f))}));if(L(n),xe.length>0){const e=xe.filter((e=>"mvoTemplateCompatibility"==e.MappingType));e.length>0&&"mvoTemplateCompatibility"===e[0].MappingType&&n.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draft_allowableOrgTemplates=e.details.allowableOrgTemplates;const a=new Set(e.details.allowableOrgTemplates.map((e=>e.ALLOWABLE_ORG_TEMPLATE))),n=t.details.allowableOrgTemplates.filter((e=>!a.has(e.ALLOWABLE_ORG_TEMPLATE)));t.details.deletedTemplateLists=n;let l=t.details.draft_allowableOrgTemplates.filter((e=>!t.details.allowableOrgTemplates.some((t=>e.ALLOWABLE_ORG_TEMPLATE===t.ALLOWABLE_ORG_TEMPLATE&&e.exclusive_use===t.exclusive_use))));t.details.newTemplateLists=l;let s=[...t.details.allowableOrgTemplates,...t.details.newTemplateLists];t.details.allowableOrgTemplates=s}}))}))}console.log("finalTempMapList",n);let l=n.map((e=>{var t,a;return e.MVO_TEMPLATE_OPTION=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.MVO_TEMPLATE_OPTION,e.name=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.allowableOrgTemplates.filter(((e,t,a)=>t===a.findIndex((t=>t.ALLOWABLE_ORG_TEMPLATE===e.ALLOWABLE_ORG_TEMPLATE)))).map((t=>{var a;const n=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.ALLOWABLE_ORG_TEMPLATE===e.ALLOWABLE_ORG_TEMPLATE?`<span style="color:#f00; font-weight:bold;text-decoration: line-through">${e.ALLOWABLE_ORG_TEMPLATE}</span>`:"")).join(" "),l=t.status?t.status.charAt(0).toUpperCase()+t.status.slice(1):"";return`<div>${t.ALLOWABLE_ORG_TEMPLATE} - ${l} &nbsp;&nbsp; ${n}</div>`})).join(""),e}));Ie(n),_e(l);let s=p.filter((e=>"orgallowedvalues"===e.MappingType&&"Delete"!==e.actionFlag));var a;if(u)s=null===(a=s)||void 0===a?void 0:a.filter((e=>e.BUID===u));setTimeout((()=>{H(s),X(!1)}),500)}else{var n;if(!u)h(I.Qy?null===(n=I.Qy[0])||void 0===n?void 0:n.value:"")}}),[p,u,f,xe]);const Be=(0,n.useCallback)((e=>{let{selected:t}=e;K(t)}),[]),Fe=(0,n.useCallback)((e=>{let{selected:t}=e;le(t),ce((e=>{const{AllowableOrgTempError:t,...a}=e;return a}))}),[]);(0,n.useEffect)((()=>{const e=!0===q?Se:q,t=e&&Object.keys(e).map((t=>e[t]));G(t)}),[q,Se]);const[Ue,We]=(0,n.useState)(u);(0,n.useEffect)((()=>{K({}),G([]),h(u),ue(u),T(""),G([])}),[u]);const $e=(0,Pe.t$)(Ne,"MVO_TEMPLATE_OPTION"),Ge=(0,Ve.FX)($e),ze=(0,Ve.FX)(Re);return(0,g.jsxs)(qa,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"MVO Template Compatibility"}]})}),(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,g.jsx)(R.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(se.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;T(t)},value:f,style:{width:"100%"}})}),(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,g.jsxs)(R.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,g.jsxs)(R.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,g.jsx)(R.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,g.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,g.jsx)(R.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,g.jsx)(_,{selectedvalue:u,style:{width:"100%"},optionsValues:I.Qy,onChangeFunc:e=>{K({}),G([]),h(e),ue(e),T(""),G([])}})})]}),(0,g.jsxs)(R.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,onClick:()=>{$(""),O(!0),ue(u)},children:"Add"}),(0,g.jsx)(b.A,{variant:"contained",disabled:1!==(null===V||void 0===V?void 0:V.length),onClick:()=>{var e,t,a,n;const l=null===(e=V[0])||void 0===e?void 0:e.details,s=null===(t=V[0])||void 0===t?void 0:t.BUID,i={...l,BUID:s};$(i),ue(s);let r=(null===(a=V[0])||void 0===a||null===(n=a.details)||void 0===n?void 0:n.allowableOrgTemplates.map((e=>null===z||void 0===z?void 0:z.filter((t=>t.details.ALLOWABLE_ORG_TEMPLATES===e.ALLOWABLE_ORG_TEMPLATE&&t.BUID===V[0].BUID)))).flat()).reduce(((e,t)=>Object.assign(e,{[t.id]:t})),{});le(r),U(!0),O(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,g.jsx)(b.A,{variant:"contained",disabled:0===(null===V||void 0===V?void 0:V.length),onClick:()=>{B(V[0]),S(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{j(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,g.jsx)(Wa,{title:"MVO Template Compatibility",MappingType:"mvoTemplateCompatibility",filterTemplateData:V,sortInfo:be})]})]}),(0,g.jsx)(R.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,g.jsxs)(y.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[Y&&(0,g.jsx)(y.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,g.jsx)(lt.A,{})}),!Y&&(0,g.jsx)(Oe.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:Me,dataSource:null===be?ze:Ge,rowHeight:"auto",checkboxColumn:!0,selected:q,defaultLimit:100,onSelectionChange:Be,handle:e=>Ee.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(q).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===q?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},pagination:!0,renderScroller:()=>{var e,t;return null===Ee||void 0===Ee||null===(e=Ee.current)||void 0===e?void 0:e.setScrollTop(0==(null===V||void 0===V?void 0:V.length)?0:null===Ee||void 0===Ee||null===(t=Ee.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{Te(e)}})]})})]})}),(0,g.jsxs)(J.A,{open:E,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,g.jsx)(te.A,{children:(0,g.jsxs)(ae.A,{children:["Do you want to delete the MVOTemplateCompatibility Mapping(s) for Design Organization"," ",(0,g.jsx)("b",{children:null===k||void 0===k?void 0:k.BUID}),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),(0,g.jsx)("b",{children:"Note:"})," ",ga.adminConstant.common.deleteNote]})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:we,children:"Cancel"}),(0,g.jsx)(b.A,{onClick:async()=>{try{await P.softDeleteTempCompMapping({data:V}).then((e=>{we(),Ce(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status),G([]),B([]),K({})}))}catch(e){console.error("Failed to delete mapping:",e)}Le(),G([])},children:"delete"})]})]}),(0,g.jsx)(Xa,{open:w,handleorgAllowedDialogClose:De,orgAllowedForm:W,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target,n={...W,[t]:a};$(n),"BUID"===t&&(ue(a),ce((e=>{const{RDOError:t,...a}=e;return a}))),"MVO_TEMPLATE_OPTION"===t&&ce((e=>{const{templateError:t,...a}=e;return a}))},handleAddMVOtempComp:()=>{const e=null===m||void 0===m?void 0:m.filter((e=>e.templateName===W.MVO_TEMPLATE_OPTION));if(W){void 0!==me&&""!==me||ce((e=>({...e,RDOError:"Design Organization is required"}))),void 0!==W.MVO_TEMPLATE_OPTION&&""!==W.MVO_TEMPLATE_OPTION||ce((e=>({...e,templateError:"Template Name is required"})));let t=[],a={...de};if(delete a.AllowableOrgTempError,Object.keys(Q).length?(t=Object.values(Q).map((e=>e)),t=t.map((e=>({ALLOWABLE_ORG_TEMPLATE:e.details.ALLOWABLE_ORG_TEMPLATES,status:void 0===pe[e.details.ALLOWABLE_ORG_TEMPLATES]?"active":pe[e.details.ALLOWABLE_ORG_TEMPLATES],id:e.details.ALLOWABLE_ORG_TEMPLATES_ID})))):a.AllowableOrgTempError="Please select at least one template",ce(a),Object.keys(a).length)return;{const a={MappingType:"mvoTemplateCompatibility",BUID:me,details:{MVO_TEMPLATE_OPTION:W.MVO_TEMPLATE_OPTION,MVO_TEMPLATE_OPTION_ID:e[0].id,allowableOrgTemplates:t},id:e[0].id+"_"+me.trim()+"_mvoTemplateCompatibility"};!1===F?P.addnewTempCompMapping(a).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(Le(),setTimeout((()=>{O(!1)}),200),Ce("MVO template compatibility added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&Ce(null===e||void 0===e?void 0:e.msg,"error")})):P.updateTempCompMapping(a).then((e=>{"success"===e.status?(setTimeout((()=>{O(!1),ke(),Le()}),200),U(!1),Ce("MVO template compatibility updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&Ce(null===e||void 0===e?void 0:e.msg,"error")})),De()}}else{let e={};0===Object.keys(Q).length&&(e={AllowableOrgTempError:"Please select at least one template"}),ce({...e,templateError:"Template Name is required"})}},isEdit:F,onSelectionChange:Fe,selected:Q,orgAllowedTempList:z,filteredBUOptions:re,setFilteredBUOptions:oe,formError:de,RDO:me,selectedRow:V[0],handleStatusChange:e=>{const t={...pe,[e.target.name]:e.target.value};he(t)}}),(0,g.jsx)(ba,{title:"Import Template Compatibility Mappings",MappingType:"mvoTemplateCompatibility",selectedBU:u,importTemplate:A,fetchData:Le,setImportTemplate:j}),fe?(0,g.jsx)(ve.A,{openAlert:Ae,openDesc:fe,setOpenAlert:je}):(0,g.jsx)(g.Fragment,{})]})},Qa=()=>(0,g.jsx)(Ka,{}),Za=[{path:"/mvotemplateList",element:(0,g.jsx)(Q,{children:(0,g.jsx)(Qa,{})})}],Ja={minHeight:248},en=e=>{let{open:t,handleorgAllowedDialogClose:a,orgAllowedForm:l,handleorgAllowedFormChange:s,handleAddMVOtempComp:i,isEdit:r,orgAllowedTempList:o,onSelectionChange:d,selected:c,filteredBUOptions:m,setFilteredBUOptions:u,formError:p,RDO:h,selectedRow:x,handleStatusChange:v}=e;const[A,j]=(0,n.useState)([]),[f,y]=(0,n.useState)({});(0,Pe.bV)(A,"ALLOWABLE_ORG_TEMPLATES"),(0,n.useEffect)((()=>{if(null!==l&&void 0!==l&&l.BUID){let e=[null===l||void 0===l?void 0:l.BUID]||0;u(e)}else u([h]);if(o){const e=null===o||void 0===o?void 0:o.filter((e=>(null===e||void 0===e?void 0:e.BUID)===h));x&&e.map((e=>{var t;return null===x||void 0===x||null===(t=x.details)||void 0===t||t.allowableOrgTemplates.forEach((t=>{e.details.ALLOWABLE_ORG_TEMPLATES===t.org_allowed_template&&(e.exclusive_use=t.exclusive_use)})),e})),j(e)}}),[o,l]);const T=(0,n.useRef)(null),E=[{name:"id",header:"Id",defaultVisible:!1,defaultWidth:60,type:"number"},{name:"ALLOWABLE_ORG_TEMPLATES",defaultWidth:280,header:(0,g.jsx)(ie.A,{title:ga.adminConstant.orgAllowedList.tooltip.AllowableOrgTemplate,children:"ALLOWABLE ORG TEMPLATES"}),render:e=>{var t;let{data:a}=e;return(0,g.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES})}},{name:"Exclusive",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.orgAllowedList.tooltip.status,children:"Exclusive Use"}),defaultWidth:280,render:e=>{var t,a,n;let{data:l}=e;return(0,g.jsx)("div",{children:(0,g.jsx)(Ee.A,{children:(0,g.jsxs)(be.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:null===l||void 0===l||null===(t=l.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES,value:f[null===l||void 0===l||null===(a=l.details)||void 0===a?void 0:a.ALLOWABLE_ORG_TEMPLATES]?f[null===l||void 0===l||null===(n=l.details)||void 0===n?void 0:n.ALLOWABLE_ORG_TEMPLATES]:"Yes",onChange:e=>{const t={...f,[e.target.name]:e.target.value};y(t),v(e)},children:[(0,g.jsx)(Te.A,{value:"Yes",control:(0,g.jsx)(ye.A,{}),label:"Yes"}),(0,g.jsx)(Te.A,{value:"No",control:(0,g.jsx)(ye.A,{}),label:"No"})]})})})}}];return(0,n.useEffect)((()=>{if(x){var e;const t=(e=>{let t={};return e.forEach((e=>{t[e.org_allowed_template]=e.exclusive_use})),t})(null===x||void 0===x||null===(e=x.details)||void 0===e?void 0:e.allowableOrgTemplates);y(t)}}),[x]),(0,g.jsxs)(J.A,{open:t,fullWidth:!0,maxWidth:"md",children:[(0,g.jsxs)(ne.A,{children:[" ",r?"Edit Part Type to Template ":"Add Part Type to Template"]}),(0,g.jsx)(Ha.ur,{autoHeight:!0,autoHeightMin:100,autoHeightMax:500,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:300,children:(0,g.jsx)(te.A,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsx)("span",{children:"Design Organization: "})}),(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,g.jsx)(D.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:h,onChange:s,disabled:!0,children:null===m||void 0===m?void 0:m.map((e=>(0,g.jsx)(L.A,{value:e,children:e},e)))}),null!==p&&void 0!==p&&p.RDOError?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.RDOError})}):(0,g.jsx)(g.Fragment,{})]}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsx)("span",{children:"Enovia Part Type:"})}),(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,g.jsx)(se.A,{name:"ENGG_ITEM_TYPE",value:l.ENGG_ITEM_TYPE,onChange:s,fullWidth:!0,disabled:r,margin:"normal"}),null!==p&&void 0!==p&&p.templateError?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.templateError})}):(0,g.jsx)(g.Fragment,{})]}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Org Allowed Templates:"," "]})}),(0,g.jsxs)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:[null!==p&&void 0!==p&&p.AllowableOrgTempError?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.AllowableOrgTempError})}):(0,g.jsx)(g.Fragment,{}),null!==A&&void 0!==A&&A.length?(0,g.jsx)(Oe.Ay,{idProperty:"id",showZebraRows:!1,handle:e=>T.current=e?e.current:null,selected:c,checkboxColumn:!0,onSelectionChange:d,checkboxOnlyRowSelect:!0,style:Ja,columns:E,dataSource:A}):null]})]})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:a,children:"Cancel"}),(0,g.jsx)(b.A,{onClick:i,children:r?"Update":"Add"})]})]})},tn=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),an=()=>{const{refreshData:e}=(0,N.A)(),{templatesInfo:t,bussinessUnit:a,mappingTemplatesInfo:l,updateBussinessUnit:s,updateMappingTemplatesInfo:i}=(0,N.A)(),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(""),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[v,A]=(0,n.useState)({}),[j,f]=(0,n.useState)([]),[T,E]=(0,n.useState)([]),S=new Jt.W,w=new Aa,[O,C]=(0,n.useState)(),P=new ja,[M,D]=(0,n.useState)(!0),[L,k]=(0,n.useState)(!1),[B,F]=(0,n.useState)([]),[U,W]=(0,n.useState)(""),[$,V]=(0,n.useState)(""),[G,z]=(0,n.useState)(""),[H,Y]=(0,n.useState)({}),[X,q]=(0,n.useState)({}),[K,Q]=(0,n.useState)([]),[le,re]=(0,n.useState)([]),[oe,de]=(0,n.useState)({}),[ce,me]=(0,n.useState)(""),[ue,pe]=(0,n.useState)({}),[he,xe]=(0,n.useState)(!1),[ge,Ae]=(0,n.useState)(null),je=(0,n.useRef)(null),[fe,ye]=(0,n.useState)({}),be=je&&je.current&&je.current.dataMap?je.current.dataMap:null,Te=e=>{const t=e.target.value;c(t)},Ee=()=>{u(!1)},Se=(e,t)=>{xe(!0),Ae({severity:t,desc:e})},we=()=>{h(!1),A(""),E([]),ke([]),Y({}),q({}),de({}),k(!1)},Ce=()=>{D(!0),S.getAlltemplateMappings().then((e=>{var t;i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),D(!1)}))};(0,n.useEffect)((()=>{D(e)}),[e]);const[Me,De]=(0,n.useState)([]),[Le,Ne]=(0,n.useState)([]),_e=(0,Pe.t$)(Me,"ENGG_ITEM_TYPE");(0,n.useEffect)((()=>{Re()}),[]);const Re=()=>{D(!0),w.getAlldraftChanges().then((e=>{let t=a||"Micro Motion",n=e.data.filter((e=>e.BUID===t));re(n),D(!1)}))};(0,n.useEffect)((()=>{if(D(!0),l){let s=l;var e,t;if(s=s.filter((e=>"parttypetotemplate"===e.MappingType&&"Delete"!==e.actionFlag)),a)s=null===(e=s)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(d&&""!==d)s=null===(t=s)||void 0===t?void 0:t.filter((e=>{var t,a,n;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(d))||(null===(a=JSON.stringify(e))||void 0===a||null===(n=a.toLocaleLowerCase())||void 0===n?void 0:n.includes(d))}));if(le.length>0){const e=le.filter((e=>"parttypetotemplate"==e.MappingType));e.length>0&&"parttypetotemplate"===e[0].MappingType&&s.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draft_allowableOrgTemplates=e.details.allowableOrgTemplates;const a=new Set(e.details.allowableOrgTemplates.map((e=>e.org_allowed_template))),n=t.details.allowableOrgTemplates.filter((e=>!a.has(e.org_allowed_template)));t.details.deletedTemplateLists=n;let l=t.details.draft_allowableOrgTemplates.filter((e=>!t.details.allowableOrgTemplates.some((t=>e.org_allowed_template===t.org_allowed_template&&e.exclusive_use===t.exclusive_use))));t.details.newTemplateLists=l;let s=[...t.details.allowableOrgTemplates,...t.details.newTemplateLists];t.details.allowableOrgTemplates=s}}))}))}let i=s.map((e=>{var t,a;return e.ENGG_ITEM_TYPE=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.ENGG_ITEM_TYPE,e.org_allowed_template=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.allowableOrgTemplates.filter(((e,t,a)=>t===a.findIndex((t=>t.org_allowed_template===e.org_allowed_template)))).map((t=>{var a;const n=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.org_allowed_template===e.org_allowed_template?`<span style="color:#f00; font-weight:bold;text-decoration: line-through">${e.org_allowed_template}</span>`:"")).join(" ");return`<div>${t.org_allowed_template} - ${t.exclusive_use.charAt(0).toUpperCase()+t.exclusive_use.slice(1)} &nbsp;&nbsp; ${n}</div>`})).join(""),e}));De(i),Ne(s);let r=l.filter((e=>"orgallowedvalues"===e.MappingType&&"Delete"!==e.actionFlag));var n;if(a)r=null===(n=r)||void 0===n?void 0:n.filter((e=>e.BUID===a));setTimeout((()=>{f(r),D(!1)}),500)}else{var i;if(!a)s(I.Qy?null===(i=I.Qy[0])||void 0===i?void 0:i.value:"")}}),[l,a,d,le]);const[Ie,ke]=(0,n.useState)([]),Be=[{name:"ENGG_ITEM_TYPE",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.parttypetemplateList.tooltip.TemplateOptionsMVO,children:"Enovia Part Type"}),defaultFlex:1,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.ENGG_ITEM_TYPE})}},{name:"org_allowed_template",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.parttypetemplateList.tooltip.allowableOrgTemplatesExclusive,children:"Org Allowed Templates - Exclusive use"}),defaultFlex:1,sortable:!1,render:e=>(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.parttypetemplateList.tooltip.RDO,children:"Design Organization"}),defaultFlex:1,defaultWidth:50}],Fe=(0,n.useCallback)((e=>{let{selected:t}=e;Y(t)}),[]);(0,n.useEffect)((()=>{const e=!0===H?be:H,t=e&&Object.keys(e).map((t=>e[t]));ke(t)}),[H,be]);const Ue=(0,n.useCallback)((e=>{let{selected:t}=e;q(t),de((e=>{const{AllowableOrgTempError:t,...a}=e;return a}))}),[]);return(0,g.jsxs)(tn,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Part Type to Template"}]})}),(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,g.jsx)(R.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(se.A,{type:"text",name:"search",size:"small",onChange:Te,value:d,style:{width:"100%"}})}),(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,g.jsxs)(R.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,g.jsxs)(R.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,g.jsx)(R.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,g.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,g.jsx)(R.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,g.jsx)(_,{onChange:Te,selectedvalue:a,style:{width:"100%"},optionsValues:I.Qy,onChangeFunc:e=>{Y({}),ke([]),s(e),c(""),ke([])}})})]}),(0,g.jsxs)(R.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,onClick:()=>{A(""),E([]),W(""),V(""),z(""),F([]),h(!0),me(a)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,disabled:1!==(null===Ie||void 0===Ie?void 0:Ie.length),onClick:()=>{var e,t,a,n,l,s;const i=null===(e=Ie[0])||void 0===e?void 0:e.details,r=null===(t=Ie[0])||void 0===t?void 0:t.BUID;A({...i,BUID:r}),me(r);let o=(null===(a=Ie[0])||void 0===a||null===(n=a.details)||void 0===n?void 0:n.allowableOrgTemplates.map((e=>null===j||void 0===j?void 0:j.filter((t=>t.details.ALLOWABLE_ORG_TEMPLATES===e.org_allowed_template)))).flat()).reduce(((e,t)=>Object.assign(e,{[t.id]:t})),{});q(o),F(null===(l=Ie[0])||void 0===l||null===(s=l.details)||void 0===s?void 0:s.allowableOrgTemplates),k(!0),h(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,disabled:0===(null===Ie||void 0===Ie?void 0:Ie.length),onClick:()=>{C(Ie[0]),u(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{o(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,g.jsx)(Wa,{title:"Part Type To Template",MappingType:"parttypetotemplate",filterTemplateData:Ie,sortInfo:fe})]})]}),(0,g.jsx)(R.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,g.jsxs)(y.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[M&&(0,g.jsx)(y.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,g.jsx)(lt.A,{})}),!M&&(0,g.jsx)(Oe.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},rowStyle:e=>{let{data:t}=e;const a=Object.keys(H).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===H?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},columns:Be,dataSource:null===fe?Le:_e,rowHeight:"auto",defaultLimit:100,checkboxColumn:!0,selected:H,onSelectionChange:Fe,handle:e=>je.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===je||void 0===je||null===(e=je.current)||void 0===e?void 0:e.setScrollTop(0==(null===Ie||void 0===Ie?void 0:Ie.length)?0:null===je||void 0===je||null===(t=je.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{ye(e)}})]})})]})}),ge?(0,g.jsx)(ve.A,{openAlert:he,openDesc:ge,setOpenAlert:xe}):(0,g.jsx)(g.Fragment,{}),(0,g.jsxs)(J.A,{open:m,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,g.jsx)(te.A,{children:(0,g.jsxs)(ae.A,{children:["Do you want to delete the PartTypeToTemplate Mapping(s) for Design Organization"," ",(0,g.jsx)("b",{children:null===O||void 0===O?void 0:O.BUID}),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),(0,g.jsx)("b",{children:"Note:"})," ",ga.adminConstant.common.deleteNote]})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:Ee,children:"Cancel"}),(0,g.jsx)(b.A,{onClick:async()=>{try{await P.softDeleteTempCompMapping({data:Ie}).then((e=>{Ee(),ke([]),C([]),Y({})}))}catch(e){console.error("Failed to delete mapping:",e)}Se("Parttype to Template deleted Successfully","success"),Ce(),ke([])},children:"delete"})]})]}),(0,g.jsx)(en,{open:p,handleorgAllowedDialogAdd:()=>{h(!1)},handleorgAllowedDialogClose:we,orgAllowedForm:v,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target;if("newKey"===t&&W(a),"newValue"===t&&V(a),"BUID"===t&&E([]),"ENGG_ITEM_TYPE"===t&&(A({...v,BUID:""}),de((e=>{const{templateError:t,...a}=e;return a})),E([])),"plants"===t)E(a);else{const e={...v,[t]:a};A(e)}},handleAddMVOtempComp:()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.templateName===v.ENGG_ITEM_TYPE));if(v){void 0!==ce&&""!==ce||de((e=>({...e,RDOError:"Design Organization is required"}))),void 0!==v.ENGG_ITEM_TYPE&&""!==v.ENGG_ITEM_TYPE||de((e=>({...e,templateError:"Template Name is required"})));let t=[],n={...oe};if(delete n.AllowableOrgTempError,Object.keys(X).length?(t=Object.values(X).map((e=>e)),t=t.map((e=>({org_allowed_template:e.details.ALLOWABLE_ORG_TEMPLATES,exclusive_use:void 0===ue[e.details.ALLOWABLE_ORG_TEMPLATES]?"Yes":ue[e.details.ALLOWABLE_ORG_TEMPLATES],id:e.details.ALLOWABLE_ORG_TEMPLATES_ID})))):n.AllowableOrgTempError="Please select at least one template",de(n),Object.keys(n).length||Object.keys(oe).length)return void console.log("Resultant Payload:",v);{var a;const n={MappingType:"parttypetotemplate",BUID:ce,details:{ENGG_ITEM_TYPE:v.ENGG_ITEM_TYPE,ENOVIA_PART_TYPE_ID:null===(a=e[0])||void 0===a?void 0:a.id,allowableOrgTemplates:t},id:v.ENGG_ITEM_TYPE+"_"+ce.trim()+"_parttypetotemplate"};!1===L?P.addnewTempCompMapping(n).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(Ce(),Y({}),setTimeout((()=>{h(!1)}),200),Se("Parttype to Template added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&Se(null===e||void 0===e?void 0:e.msg,"error")})):P.updateTempCompMapping(n).then((e=>{"success"===e.status?(Re(),Ce(),Y({}),setTimeout((()=>{h(!1)}),200),k(!1),Se("MVO template compatibility updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&Se(null===e||void 0===e?void 0:e.msg,"error")})),we()}}else{let e={};0===Object.keys(X).length&&(e={AllowableOrgTempError:"Please select at least one template"}),de({...e,templateError:"Template Name is required"})}},selectedPlants:T,isEdit:L,newKey:U,newValue:$,handleAddRow:()=>{const e=B.some((e=>e.key===U)),a=B.some((e=>e.value===$)),n=null===t||void 0===t?void 0:t.filter((e=>e.templateName===U));e||a?z("The key or value already exists"):U&&$?(F((e=>[...e,{org_allowed_template:U,exclusive_use:$,id:n[0].id}])),W(""),V(""),z("")):z("Template and its status required")},handleDeleteRow:e=>{F((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:G,valuesInputList:B,onSelectionChange:Ue,selected:X,orgAllowedTempList:j,filteredBUOptions:K,setFilteredBUOptions:Q,formError:oe,RDO:ce,selectedRow:Ie[0],handleStatusChange:e=>{const t={...ue,[e.target.name]:e.target.value};pe(t)}}),(0,g.jsx)(ba,{title:"Import Parttype To Template Mappings",MappingType:"parttypetotemplate",selectedBU:a,importTemplate:r,fetchData:Ce,setImportTemplate:o})]})},nn=()=>(0,g.jsx)(an,{}),ln=[{path:"/parttypeToTemplateList",element:(0,g.jsx)(Q,{children:(0,g.jsx)(nn,{})})}],sn=e=>{let{open:t,handleorgAllowedDialogClose:a,mvotemplatesTo:l,orgAllowedForm:s,handleorgAllowedFormChange:i,handleAddMVOtempComp:r,isEdit:o,templatesInfo:d,selectedBU:c}=e;const[m,u]=(0,n.useState)([]),[p,h]=(0,n.useState)([]);return(0,n.useEffect)((()=>{if(c){let e=d.filter((e=>{var t;return null===e||void 0===e||null===(t=e.BU)||void 0===t?void 0:t.includes(c)}));console.log(e,"tempData tempData tempData"),u(e)}h([c])}),[c,d,s.BUID]),(0,g.jsxs)(J.A,{open:t,children:[(0,g.jsxs)(ne.A,{children:[" ",o?"Edit MVO Allowed Changes ":"Add MVO Allowed Changes"]}),(0,g.jsx)(te.A,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Design Organization ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:c,onChange:i,disabled:!0,children:null===p||void 0===p?void 0:p.map((e=>(0,g.jsx)(L.A,{value:e,children:e},e)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["MVO Template - From ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{name:"MVO_TEMPLATE_FROM",fullWidth:!0,value:s.MVO_TEMPLATE_FROM,onChange:i,disabled:o,children:null===m||void 0===m?void 0:m.map((e=>(0,g.jsx)(L.A,{value:e.templateName,children:e.templateName},e.templateName)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["MVO Template - To ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{style:{width:"100%"},multiple:!0,name:"MVO_TEMPLATE_TO",value:l,onChange:i,renderValue:e=>null===e||void 0===e?void 0:e.join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===m||void 0===m?void 0:m.map((e=>(0,g.jsx)(L.A,{value:e.templateName,children:e.templateName},e.templateName)))})})]})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:a,children:"Cancel"}),(0,g.jsx)(b.A,{onClick:r,children:o?"Update":"Add"})]})]})},rn=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),on=()=>{const{refreshData:e}=(0,N.A)(),{templatesInfo:t,bussinessUnit:a,mappingTemplatesInfo:l,updateBussinessUnit:s,updateMappingTemplatesInfo:i}=(0,N.A)(),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(""),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[v,A]=(0,n.useState)({}),[j,f]=(0,n.useState)([]),T=new Jt.W,E=new ja,S=new Aa,[w,O]=(0,n.useState)(),[C,P]=(0,n.useState)(!1),[M,D]=(0,n.useState)([]),[L,k]=(0,n.useState)(""),[B,F]=(0,n.useState)(""),[U,W]=(0,n.useState)(""),[$,V]=(0,n.useState)(!0),[G,z]=(0,n.useState)({}),[H,Y]=(0,n.useState)(!1),[X,q]=(0,n.useState)(null),[K,Q]=(0,n.useState)([]),le=(0,n.useRef)(null),[re,oe]=(0,n.useState)({}),de=le&&le.current&&le.current.dataMap?le.current.dataMap:null,ce=e=>{const t=e.target.value;c(t)},me=()=>{u(!1)},ue=(e,t)=>{Y(!0),q({severity:t,desc:e})},pe=()=>{h(!1),A(""),f([]),Se([]),z({}),P(!1)},he=()=>{V(!0),T.getAlltemplateMappings().then((e=>{var t;i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),V(!1)}))};(0,n.useEffect)((()=>{V(e)}),[e]);const[xe,ge]=(0,n.useState)([]),[Ae,je]=(0,n.useState)([]),fe=(0,Pe.t$)(xe,"MVO_TEMPLATE_FROM"),ye=(0,Ve.FX)(Ae),be=(0,Ve.FX)(fe);(0,n.useEffect)((()=>{Te()}),[]);const Te=()=>{V(!0),S.getAlldraftChanges().then((e=>{let t=a||"Micro Motion",n=e.data.filter((e=>e.BUID===t));Q(n),V(!1)}))};(0,n.useEffect)((()=>{if(V(!0),l){let n=l;var e,t;if(n=n.filter((e=>"mvoallowedchanges"===e.MappingType&&"Delete"!==e.actionFlag)),a)n=null===(e=n)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(d&&""!==d)n=null===(t=n)||void 0===t?void 0:t.filter((e=>{var t,a,n;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(d))||(null===(a=JSON.stringify(e))||void 0===a||null===(n=a.toLocaleLowerCase())||void 0===n?void 0:n.includes(d))}));if(K.length>0){const e=K.filter((e=>"mvoallowedchanges"==e.MappingType));e.length>0&&"mvoallowedchanges"===e[0].MappingType&&n.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draft_MVO_TEMPLATES_TO=e.details.MVO_TEMPLATES_TO;const a=new Set(e.details.MVO_TEMPLATES_TO.map((e=>e.MVO_TEMPLATE_TO))),n=t.details.MVO_TEMPLATES_TO.filter((e=>!a.has(e.MVO_TEMPLATE_TO)));t.details.deletedTemplateLists=n;let l=t.details.draft_MVO_TEMPLATES_TO.filter((e=>!t.details.MVO_TEMPLATES_TO.some((t=>e.MVO_TEMPLATE_TO===t.MVO_TEMPLATE_TO&&e.exclusive_use===t.exclusive_use))));t.details.newTemplateLists=l;let s=[...t.details.MVO_TEMPLATES_TO,...t.details.newTemplateLists];t.details.MVO_TEMPLATES_TO=s}}))}))}let s=[...n].map((e=>{var t,a;return e.MVO_TEMPLATE_FROM=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.MVO_TEMPLATE_FROM,e.MVO_TEMPLATE_TO=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.MVO_TEMPLATES_TO.filter(((e,t,a)=>t===a.findIndex((t=>t.MVO_TEMPLATE_TO===e.MVO_TEMPLATE_TO)))).map((t=>{var a;const n=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.MVO_TEMPLATE_TO===e.MVO_TEMPLATE_TO?`<span class="deleted-text">${e.MVO_TEMPLATE_TO}</span>`:"")).join(" ");return`<div>${t.MVO_TEMPLATE_TO} &nbsp;&nbsp; ${n}</div>`})).join(""),e})),i=n.sort(((e,t)=>e.details.MVO_TEMPLATE_FROM.localeCompare(t.details.MVO_TEMPLATE_FROM))).map((e=>{var t,a;return e.MVO_TEMPLATE_FROM=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.MVO_TEMPLATE_FROM,e.MVO_TEMPLATE_TO=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.MVO_TEMPLATES_TO.filter(((e,t,a)=>t===a.findIndex((t=>t.MVO_TEMPLATE_TO===e.MVO_TEMPLATE_TO)))).map((t=>{var a;const n=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.MVO_TEMPLATE_TO===e.MVO_TEMPLATE_TO?`<span style="color:#f00; font-weight:bold;text-decoration: line-through">${e.MVO_TEMPLATE_TO}</span>`:"")).join(" ");return`<div>${t.MVO_TEMPLATE_TO} &nbsp;&nbsp; ${n}</div>`})).join(""),e}));setTimeout((()=>{je(s),ge(i),V(!1)}),500)}else{var n;if(!a)s(I.Qy?null===(n=I.Qy[0])||void 0===n?void 0:n.value:"")}}),[l,a,d,K]);const[Ee,Se]=(0,n.useState)([]),we=[{name:"MVO_TEMPLATE_FROM",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.mvoallowedchangesList.tooltip.mvoTemplatesFrom,children:"MVO Template - From"}),defaultFlex:1,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.MVO_TEMPLATE_FROM})}},{name:"MVO_TEMPLATE_TO",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.mvoallowedchangesList.tooltip.mvoTemplatesTo,children:"MVO Template - To"}),defaultFlex:1,sortable:!1,render:e=>(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.mvoallowedchangesList.tooltip.RDO,children:"Design Organization"}),defaultFlex:1,defaultWidth:50}],Ce=(0,n.useCallback)((e=>{let{selected:t}=e;z(t)}),[]);(0,n.useEffect)((()=>{const e=!0===G?de:G,t=e&&Object.keys(e).map((t=>e[t]));Se(t)}),[G,de]);return(0,g.jsxs)(rn,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"MVO Allowed Changes "}]})}),(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,g.jsx)(R.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(se.A,{type:"text",name:"search",size:"small",onChange:ce,value:d,style:{width:"100%"}})}),(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,g.jsxs)(R.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,g.jsxs)(R.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,g.jsx)(R.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,g.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,g.jsx)(R.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,g.jsx)(_,{onChange:ce,selectedvalue:a,style:{width:"100%"},optionsValues:I.Qy,onChangeFunc:e=>{z({}),Se([]),s(e),c(""),Se([])}})})]}),(0,g.jsxs)(R.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,onClick:()=>{A({BUID:a}),f([]),k(""),F(""),W(""),D([]),h(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,g.jsx)(b.A,{variant:"contained",disabled:1!==(null===Ee||void 0===Ee?void 0:Ee.length),onClick:()=>{var e,t;const a=null===(e=Ee[0])||void 0===e?void 0:e.details,n=null===(t=Ee[0])||void 0===t?void 0:t.BUID;A({...a,BUID:n});for(const o in null===(l=Ee[0])||void 0===l||null===(s=l.details)||void 0===s?void 0:s.MVO_TEMPLATES_TO){var l,s,i,r;const e=null===(i=Ee[0])||void 0===i||null===(r=i.details)||void 0===r?void 0:r.MVO_TEMPLATES_TO[o];j.push(null===e||void 0===e?void 0:e.MVO_TEMPLATE_TO)}P(!0),h(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,g.jsx)(b.A,{variant:"contained",disabled:0===(null===Ee||void 0===Ee?void 0:Ee.length),onClick:()=>{O(Ee[0]),u(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{o(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,g.jsx)(Wa,{title:"MVO Allowed Changes",MappingType:"mvoallowedchanges",filterTemplateData:Ee,sortInfo:re})]})]}),(0,g.jsx)(R.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,g.jsxs)(y.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[$&&(0,g.jsx)(y.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,g.jsx)(lt.A,{})}),!$&&(0,g.jsx)(Oe.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:we,dataSource:null===re?ye:be,rowHeight:"auto",checkboxColumn:!0,defaultLimit:100,selected:G,onSelectionChange:Ce,handle:e=>le.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(G).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===G?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},pagination:!0,renderScroller:()=>{var e,t;return null===le||void 0===le||null===(e=le.current)||void 0===e?void 0:e.setScrollTop(0==(null===Ee||void 0===Ee?void 0:Ee.length)?0:null===le||void 0===le||null===(t=le.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{oe(e)}})]})})]})}),X?(0,g.jsx)(ve.A,{openAlert:H,openDesc:X,setOpenAlert:Y}):(0,g.jsx)(g.Fragment,{}),(0,g.jsxs)(J.A,{open:m,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,g.jsx)(te.A,{children:(0,g.jsxs)(ae.A,{children:["Do you want to delete the MVOAllowedChanges Mapping(s) for Design Organization"," ",(0,g.jsx)("b",{children:null===w||void 0===w?void 0:w.BUID}),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),(0,g.jsx)("b",{children:"Note:"})," ",ga.adminConstant.common.deleteNote]})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:me,children:"Cancel"}),(0,g.jsx)(b.A,{onClick:async()=>{try{await E.softDeleteTempCompMapping({data:Ee}).then((e=>{me(),Se([]),O([]),z({})}))}catch(e){console.error("Failed to delete mapping:",e)}ue("MVO allowed changes  deleted Successfully","success"),he(),Se([])},children:"delete"})]})]}),(0,g.jsx)(sn,{open:p,handleorgAllowedDialogAdd:()=>{h(!1)},handleorgAllowedDialogClose:pe,orgAllowedForm:v,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target;if("newKey"===t&&k(a),"newValue"===t&&F(a),"BUID"===t&&f([]),"MVO_TEMPLATE_FROM"===t&&(A({...v,BUID:""}),f([])),"MVO_TEMPLATE_TO"===t)f(a);else{const e={...v,[t]:a};A(e)}},handleAddMVOtempComp:()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.templateName===v.MVO_TEMPLATE_FROM));let a=[];if(a=null===j||void 0===j?void 0:j.map((e=>{const a=t.find((t=>t.templateName===e));return{id:a?a.id:null,MVO_TEMPLATE_TO:e}})),!v.MVO_TEMPLATE_FROM||!v.BUID||(null===j||void 0===j?void 0:j.length)<1)ue("Please Enter the required fields","error");else{if(v){var n,l;const t={MappingType:"mvoallowedchanges",BUID:v.BUID,details:{MVO_TEMPLATE_FROM:v.MVO_TEMPLATE_FROM,MVO_TEMPLATE_OPTION_ID:null===(n=e[0])||void 0===n?void 0:n.id,MVO_TEMPLATES_TO:a},id:(null===(l=e[0])||void 0===l?void 0:l.id)+"_"+v.BUID.trim()+"_mvoallowedchanges"};!1===C?E.addnewTempCompMapping(t).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(he(),setTimeout((()=>{h(!1)}),200),ue("MVO allowed changes added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&ue(null===e||void 0===e?void 0:e.msg,"error")})):E.updateTempCompMapping(t).then((e=>{"success"===e.status?(setTimeout((()=>{h(!1),Te(),he()}),200),P(!1),ue("MVO allowed changes updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&ue(null===e||void 0===e?void 0:e.msg,e.status)}))}pe()}},mvotemplatesTo:j,isEdit:C,newKey:L,newValue:B,handleAddRow:()=>{const e=M.some((e=>e.key===L)),a=M.some((e=>e.value===B)),n=null===t||void 0===t?void 0:t.filter((e=>e.templateName===L));e||a?W("The key or value already exists"):L&&B?(D((e=>{var t;return[...e,{ALLOWABLE_ORG_TEMPLATE:L,status:B,id:null===(t=n[0])||void 0===t?void 0:t.id}]})),k(""),F(""),W("")):W("Template and its status required")},handleDeleteRow:e=>{D((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:U,valuesInputList:M,templatesInfo:t,selectedBU:a}),(0,g.jsx)(ba,{title:"Import MVO Allowed Changes Mappings",MappingType:"mvoallowedchanges",selectedBU:a,importTemplate:r,fetchData:he,setImportTemplate:o})]})},dn=()=>(0,g.jsx)(on,{}),cn=[{path:"/mvoallowedchangesList",element:(0,g.jsx)(Q,{children:(0,g.jsx)(dn,{})})}],mn=e=>{let{open:t,handleorgAllowedDialogClose:a,modifytempdata:l,orgAllowedForm:s,handleorgAllowedFormChange:i,handleAddMVOtempComp:r,isEdit:o,templatesInfo:d,selectedBU:c}=e;const[m,u]=(0,n.useState)([]),[p,h]=(0,n.useState)([]);return(0,n.useEffect)((()=>{if(c){let e=d.filter((e=>{var t;return null===e||void 0===e||null===(t=e.BU)||void 0===t?void 0:t.includes(c)}));u(e)}h([c])}),[c,d,s.BUID]),(0,g.jsxs)(J.A,{open:t,children:[(0,g.jsxs)(ne.A,{children:[" ",o?"Edit Set Compatible Templates":"Add Set Compatible Templates"]}),(0,g.jsx)(te.A,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Template For Org Existing ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{name:"TEMPLATE_ORG_EXISTING",fullWidth:!0,value:s.TEMPLATE_ORG_EXISTING,onChange:i,disabled:o,children:null===m||void 0===m?void 0:m.map((e=>(0,g.jsx)(L.A,{value:e.templateName,children:e.templateName},e.templateName)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Design Organization ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:c,onChange:i,disabled:!0,children:null===p||void 0===p?void 0:p.map((e=>(0,g.jsx)(L.A,{value:e,children:e},e)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Template For Org Modifying ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{style:{width:"100%"},multiple:!0,name:"TEMPLATE_ORG_MODIFYING",value:l,onChange:i,renderValue:e=>null===e||void 0===e?void 0:e.join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===m||void 0===m?void 0:m.map((e=>(0,g.jsx)(L.A,{value:e.templateName,children:e.templateName},e.templateName)))})})]})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:a,children:"Cancel"}),(0,g.jsx)(b.A,{onClick:r,children:o?"Update":"Add"})]})]})},un=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),pn=()=>{const{refreshData:e}=(0,N.A)(),{templatesInfo:t,bussinessUnit:a,mappingTemplatesInfo:l,updateBussinessUnit:s,updateMappingTemplatesInfo:i}=(0,N.A)(),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(""),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[v,A]=(0,n.useState)({}),[j,f]=(0,n.useState)([]),[T,E]=(0,n.useState)([]),S=new Jt.W,w=new ja,O=new Aa,[C,P]=(0,n.useState)(),[M,D]=(0,n.useState)(!1),[L,k]=(0,n.useState)([]),[B,F]=(0,n.useState)([]),[U,W]=(0,n.useState)(""),[$,V]=(0,n.useState)(""),[G,z]=(0,n.useState)(""),[H,Y]=(0,n.useState)(!0),[X,q]=(0,n.useState)({}),[K,Q]=(0,n.useState)(!1),[le,re]=(0,n.useState)(null),oe=(0,n.useRef)(null),[de,ce]=(0,n.useState)({}),me=oe&&oe.current&&oe.current.dataMap?oe.current.dataMap:null,ue=e=>{const t=e.target.value;c(t)},pe=()=>{u(!1)},he=(e,t)=>{Q(!0),re({severity:t,desc:e})},xe=()=>{h(!1),A(""),f([]),E([]),Se([]),q({}),D(!1)},ge=()=>{Y(!0),S.getAlltemplateMappings().then((e=>{var t;i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),Y(!1)}))};(0,n.useEffect)((()=>{Y(e)}),[e]);const[Ae,je]=(0,n.useState)([]),[fe,ye]=(0,n.useState)([]),be=(0,Pe.t$)(Ae,"TEMPLATE_ORG_EXISTING");(0,n.useEffect)((()=>{Te()}),[]);const Te=()=>{Y(!0),O.getAlldraftChanges().then((e=>{let t=a||"Micro Motion",n=e.data.filter((e=>e.BUID===t));F(n),Y(!1)}))};(0,n.useEffect)((()=>{if(Y(!0),l){let n=l;var e,t;if(n=n.filter((e=>"setcompatibletemplates"===e.MappingType&&"Delete"!==e.actionFlag)),a)n=null===(e=n)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(d&&""!==d)n=null===(t=n)||void 0===t?void 0:t.filter((e=>{var t,a,n;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(d))||(null===(a=JSON.stringify(e))||void 0===a||null===(n=a.toLocaleLowerCase())||void 0===n?void 0:n.includes(d))}));if(B.length>0){const e=B.filter((e=>"setcompatibletemplates"==e.MappingType));e.length>0&&"setcompatibletemplates"===e[0].MappingType&&n.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draft_TEMPLATE_ORG_MODIFYING=e.details.TEMPLATE_ORG_MODIFYING;const a=new Set(e.details.TEMPLATE_ORG_MODIFYING.map((e=>e.TEMPLATE_ORG_MODIFYING))),n=t.details.TEMPLATE_ORG_MODIFYING.filter((e=>!a.has(e.TEMPLATE_ORG_MODIFYING)));t.details.deletedTemplateLists=n;let l=t.details.draft_TEMPLATE_ORG_MODIFYING.filter((e=>!t.details.TEMPLATE_ORG_MODIFYING.some((t=>e.TEMPLATE_ORG_MODIFYING===t.TEMPLATE_ORG_MODIFYING&&e.exclusive_use===t.exclusive_use))));t.details.newTemplateLists=l;let s=[...t.details.TEMPLATE_ORG_MODIFYING,...t.details.newTemplateLists];t.details.TEMPLATE_ORG_MODIFYING=s}}))}))}let s=n.map((e=>{var t,a;return e.TEMPLATE_ORG_EXISTING=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.TEMPLATE_ORG_EXISTING,e.TEMPLATE_ORG_MODIFYING=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.TEMPLATE_ORG_MODIFYING.filter(((e,t,a)=>t===a.findIndex((t=>t.TEMPLATE_ORG_MODIFYING===e.TEMPLATE_ORG_MODIFYING)))).map((t=>{var a;const n=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.TEMPLATE_ORG_MODIFYING===e.TEMPLATE_ORG_MODIFYING?`<span style="color:#f00; font-weight:bold;text-decoration: line-through">${e.TEMPLATE_ORG_MODIFYING}</span>`:"")).join(" ");return`<div>${t.TEMPLATE_ORG_MODIFYING} &nbsp;&nbsp; ${n}</div>`})).join(""),e}));setTimeout((()=>{ye(n),je(s),Y(!1)}),500)}else{var n;if(!a)s(I.Qy?null===(n=I.Qy[0])||void 0===n?void 0:n.value:"")}}),[l,a,d,B]);const[Ee,Se]=(0,n.useState)([]),we=[{name:"TEMPLATE_ORG_EXISTING",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.setComptempList.tooltip.TemplateForOrgExist,children:"Template for Org(s) Existing"}),defaultFlex:1,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.TEMPLATE_ORG_EXISTING})}},{name:"TEMPLATE_ORG_MODIFYING",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.setComptempList.tooltip.TemplateForOrgModify,children:"Template for Org Modifying"}),defaultFlex:1,sortable:!1,render:e=>(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.setComptempList.tooltip.RDO,children:"Design Organization"}),defaultFlex:1,defaultWidth:50}],Ce=(0,n.useCallback)((e=>{let{selected:t}=e;q(t)}),[]);(0,n.useEffect)((()=>{const e=!0===X?me:X,t=e&&Object.keys(e).map((t=>e[t]));Se(t)}),[X,me]);return(0,g.jsxs)(un,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Set Compatible Templates"}]})}),(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,g.jsx)(R.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(se.A,{type:"text",name:"search",size:"small",onChange:ue,value:d,style:{width:"100%"}})}),(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,g.jsxs)(R.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,g.jsxs)(R.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,g.jsx)(R.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,g.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,g.jsx)(R.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,g.jsx)(_,{onChange:ue,selectedvalue:a,style:{width:"100%"},optionsValues:I.Qy,onChangeFunc:e=>{q({}),Se([]),s(e),c(""),Se([])}})})]}),(0,g.jsxs)(R.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,onClick:()=>{A({BUID:a}),f([]),W(""),V(""),z(""),k([]),h(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,g.jsx)(b.A,{variant:"contained",disabled:1!==(null===Ee||void 0===Ee?void 0:Ee.length),onClick:()=>{var e,t;const a=null===(e=Ee[0])||void 0===e?void 0:e.details,n=null===(t=Ee[0])||void 0===t?void 0:t.BUID;A({...a,BUID:n});for(const o in null===(l=Ee[0])||void 0===l||null===(s=l.details)||void 0===s?void 0:s.TEMPLATE_ORG_MODIFYING){var l,s,i,r;const e=null===(i=Ee[0])||void 0===i||null===(r=i.details)||void 0===r?void 0:r.TEMPLATE_ORG_MODIFYING[o];T.push(null===e||void 0===e?void 0:e.TEMPLATE_ORG_MODIFYING)}D(!0),h(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,g.jsx)(b.A,{variant:"contained",disabled:0===(null===Ee||void 0===Ee?void 0:Ee.length),onClick:()=>{P(Ee[0]),u(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{o(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,g.jsx)(Wa,{title:"Set Compatible Templates",MappingType:"setcompatibletemplates",filterTemplateData:Ee,sortInfo:de})]})]}),(0,g.jsx)(R.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,g.jsxs)(y.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[H&&(0,g.jsx)(y.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,g.jsx)(lt.A,{})}),!H&&(0,g.jsx)(Oe.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:we,dataSource:null===de?fe:be,rowHeight:"auto",checkboxColumn:!0,defaultLimit:100,selected:X,onSelectionChange:Ce,handle:e=>oe.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(X).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===X?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},pagination:!0,renderScroller:()=>{var e,t;return null===oe||void 0===oe||null===(e=oe.current)||void 0===e?void 0:e.setScrollTop(0==(null===Ee||void 0===Ee?void 0:Ee.length)?0:null===oe||void 0===oe||null===(t=oe.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{ce(e)}})]})})]})}),le?(0,g.jsx)(ve.A,{openAlert:K,openDesc:le,setOpenAlert:Q}):(0,g.jsx)(g.Fragment,{}),(0,g.jsxs)(J.A,{open:m,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,g.jsx)(te.A,{children:(0,g.jsxs)(ae.A,{children:["Do you want to delete the SetCompatibleTemplate Mapping(s) for Design Organization"," ",(0,g.jsx)("b",{children:null===C||void 0===C?void 0:C.BUID}),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),(0,g.jsx)("b",{children:"Note:"})," ",ga.adminConstant.common.deleteNote]})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:pe,children:"Cancel"}),(0,g.jsx)(b.A,{onClick:async()=>{try{await w.softDeleteTempCompMapping({data:Ee}).then((e=>{pe(),Se([]),P([]),q({})}))}catch(e){console.error("Failed to delete mapping:",e)}he("Set compatible template mapping  deleted Successfully","success"),ge(),Se([])},children:"delete"})]})]}),(0,g.jsx)(mn,{open:p,handleorgAllowedDialogAdd:()=>{h(!1)},handleorgAllowedDialogClose:xe,orgAllowedForm:v,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target;if("newKey"===t&&W(a),"newValue"===t&&V(a),"BUID"===t&&f([]),"TEMPLATE_ORG_EXISTING"===t&&(A({...v,BUID:""}),f([])),"TEMPLATE_ORG_MODIFYING"===t)E(a);else{const e={...v,[t]:a};A(e)}},handleAddMVOtempComp:()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.templateName===v.TEMPLATE_ORG_EXISTING));let a=[];if(a=null===T||void 0===T?void 0:T.map((e=>{const a=t.find((t=>t.templateName===e));return{id:a?a.id:null,TEMPLATE_ORG_MODIFYING:e}})),!v.TEMPLATE_ORG_EXISTING||!v.BUID||(null===T||void 0===T?void 0:T.length)<1)he("Please Enter the required fields","error");else{if(v){var n,l;const t={MappingType:"setcompatibletemplates",BUID:v.BUID,details:{TEMPLATE_ORG_EXISTING:v.TEMPLATE_ORG_EXISTING,MVO_TEMPLATE_OPTION_ID:null===(n=e[0])||void 0===n?void 0:n.id,TEMPLATE_ORG_MODIFYING:a},id:(null===(l=e[0])||void 0===l?void 0:l.id)+"_"+v.BUID.trim()+"_setcompatibletemplates"};!1===M?w.addnewTempCompMapping(t).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(ge(),q({}),setTimeout((()=>{h(!1)}),200),he("Set compatible template mapping added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&he(null===e||void 0===e?void 0:e.msg,"error")})):w.updateTempCompMapping(t).then((e=>{"success"===e.status?(Te(),ge(),q({}),setTimeout((()=>{h(!1)}),200),D(!1),he("Set compatible template mapping updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&he(null===e||void 0===e?void 0:e.msg,"error")}))}xe()}},comptempData:j,modifytempdata:T,isEdit:M,newKey:U,newValue:$,handleAddRow:()=>{const e=L.some((e=>e.key===U)),a=L.some((e=>e.value===$)),n=null===t||void 0===t?void 0:t.filter((e=>e.templateName===U));e||a?z("The key or value already exists"):U&&$?(k((e=>{var t;return[...e,{ALLOWABLE_ORG_TEMPLATE:U,status:$,id:null===(t=n[0])||void 0===t?void 0:t.id}]})),W(""),V(""),z("")):z("Template and its status required")},handleDeleteRow:e=>{k((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:G,valuesInputList:L,templatesInfo:t,selectedBU:a}),(0,g.jsx)(ba,{title:"Import Set Compatible Templates Mappings",MappingType:"setcompatibletemplates",selectedBU:a,importTemplate:r,fetchData:ge,setImportTemplate:o})]})},hn=()=>(0,g.jsx)(pn,{}),xn=[{path:"/setcomptempList",element:(0,g.jsx)(Q,{children:(0,g.jsx)(hn,{})})}];var gn=a(53536);const vn={minHeight:248},An=[{name:"MASTER ORG",value:"MASTER ORG"},{name:"Boulder OU",value:"Boulder OU"},{name:"Nanjing OU",value:"Nanjing OU"},{name:"EDE OU",value:"EDE OU"},{name:"Cluj OU",value:"Cluj OU"},{name:"Others",value:"Others"}],jn=[{name:"BOM",value:"BOM"},{name:"NO BOM",value:"NO BOM"}],fn=[{name:"YES",value:"YES"},{name:"NO",value:"NO"}],yn=[{name:"PlantGroup",value:"PlantGroup"},{name:"BOM or NO BOM",value:"BOM or NO BOM"},{name:"none or PO Org",value:"none or PO Org"},{name:"RDO OU Org Set",value:"RDO OU Org Set"}],bn=e=>{let{open:t,handleorgAllowedDialogClose:a,orgAllowedForm:l,handleorgAllowedFormChange:s,handleAddBuPlant:i,isEdit:r,bussinessUnitLists:o,bussinessUnit:d,setPlantValueList:c,plantValueList:m,setDisplayOrder:u}=e;const[p,h]=(0,n.useState)([]),[x,v]=(0,n.useState)([]),[A,j]=(0,n.useState)([]),[f,y]=(0,n.useState)([]);(0,n.useEffect)((()=>{var e,t;let a=((null===o||void 0===o||null===(e=o.find((e=>e.buName===d)))||void 0===e?void 0:e.plants)||[]).concat({plantName:"None",id:"None"}).map((e=>({name:e.plantName,value:e.plantName})));h(a);let n=(null===o||void 0===o||null===(t=o.find((e=>e.buName===d)))||void 0===t?void 0:t.plants)||[];if(n.map(((e,t)=>(e.value="",e.id=t,Object.assign({},e)))),n=(0,gn.unionBy)(m,n,"plantName"),y(n),c(n),console.log(m,"plantValueList plantValueList"),j(yn),r)switch(console.log(l.Entity,"orgAllowedForm.Entity"),l.Entity){case"PlantGroup":v(An),u(1);break;case"BOM or NO BOM":v(jn),u(2);break;case"none or PO Org":v(p),u(3);break;case"RDO OU Org Set":v(fn),u(4);break;default:v([])}}),[d,o,l.Entity,r]);const T={name:"value",header:"Value",defaultFlex:1,minWidth:100,rendersInlineEditor:!0,editable:!0,sortable:!1,render:(e,t)=>{let{value:a}=e,{cellProps:n}=t,l=n.editProps.inEdit?n.editProps.value:a;return(0,g.jsx)(D.A,{style:{width:"100%"},size:"small",autoFocus:n.inEdit,name:n.data.plantName,value:l,onBlur:e=>{n.editProps.onComplete(e)},onChange:w,onFocus:()=>n.editProps.startEdit(),children:null===x||void 0===x?void 0:x.map((e=>(0,g.jsx)(L.A,{value:e.name,children:e.name},e.name)))})}},E=(0,n.useRef)(null),S=[{name:"id",header:"Id",defaultVisible:!1,defaultWidth:60,type:"string"},{name:"plantName",defaultWidth:180,header:(0,g.jsx)(ie.A,{title:ga.adminConstant.expensemapList.tooltip.PlantName,children:"Plant Name"}),render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.plantName})}},T],w=e=>{let t=[...f].map((t=>(t.plantName===e.target.name&&(t.value=e.target.value),Object.assign({},t))));y(t),c(t)};return(0,g.jsxs)(J.A,{open:t,children:[(0,g.jsxs)(ne.A,{children:[" ",r?"Edit RDO Plant Mapping ":"Add RDO Plant Mapping"]}),(0,g.jsx)(Ha.ur,{autoHeight:!0,autoHeightMin:100,autoHeightMax:500,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:300,children:(0,g.jsx)(te.A,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Design Organization ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:d,onChange:s,disabled:!0,children:null===o||void 0===o?void 0:o.map((e=>(0,g.jsx)(L.A,{value:e.businessUnit,children:e.businessUnit},e.businessUnit)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Entity ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{style:{width:"100%"},name:"Entity",value:l.Entity,onChange:e=>{switch(s(e),e.target.value){case"PlantGroup":v(An),u(1);break;case"BOM or NO BOM":v(jn),u(2);break;case"none or PO Org":v(p),u(3);break;case"RDO OU Org Set":v(fn),u(4);break;default:v([])}},disabled:r,children:null===A||void 0===A?void 0:A.map((e=>(0,g.jsx)(L.A,{value:e.value,children:e.name},e.name)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Plant Values ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(Oe.Ay,{idProperty:"id",showZebraRows:!1,handle:e=>E.current=e?e.current:null,style:vn,columns:S,dataSource:f})})]})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:a,children:"Cancel"}),(0,g.jsx)(b.A,{onClick:i,children:r?"Update":"Add"})]})]})},Tn=n.forwardRef((function(e,t){return(0,g.jsx)(Fe.A,{elevation:6,ref:t,variant:"filled",...e})})),En=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Sn=()=>{const{refreshData:e,bussinessUnit:t,bussinessUnitLists:a,mappingTemplatesInfo:l,updateBussinessUnit:s,updateMappingTemplatesInfo:i}=(0,N.A)(),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(""),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(),[v,A]=(0,n.useState)(),[j,f]=(0,n.useState)(!1),[T,E]=(0,n.useState)(!1),[S,w]=(0,n.useState)(!0),[O,C]=(0,n.useState)({}),P=new Jt.W,M=new ja,D=new Aa,[L,k]=(0,n.useState)(),[B,F]=(0,n.useState)(!1),[U,W]=(0,n.useState)({}),[$,V]=(0,n.useState)(!1),[G,z]=(0,n.useState)(null),[H,Y]=(0,n.useState)([]),[X,q]=(0,n.useState)([]),[K,Q]=(0,n.useState)(0),le=(0,n.useRef)(null),ie=le&&le.current&&le.current.dataMap?le.current.dataMap:null,re=e=>{const t=e.target.value;c(t)},oe=()=>{f(!1)},de=(e,t)=>{V(!0),z({severity:t,desc:e})},ce=(e,t)=>{"clickaway"!==t&&u(!1)},me=()=>{E(!1),C(""),Y([]),F(!1),fe([]),W({})},ue=()=>{w(!0),P.getAlltemplateMappings().then((e=>{var t;i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),w(!1)}))};(0,n.useEffect)((()=>{w(e)}),[e]);const[pe,he]=(0,n.useState)([]),[xe,ge]=(0,n.useState)([]);console.log("plantMappingList===",xe),(0,n.useEffect)((()=>{Ae()}),[]),(0,n.useEffect)((()=>{if(w(!0),l){let s=l;var e,n;if(s=s.filter((e=>"buplantmapping"===e.MappingType&&"Delete"!==e.actionFlag)),t)s=null===(e=s)||void 0===e?void 0:e.filter((e=>e.BUID===t));if(d&&""!==d)s=null===(n=s)||void 0===n?void 0:n.filter((e=>{var t,a,n;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(d))||(null===(a=JSON.stringify(e))||void 0===a||null===(n=a.toLocaleLowerCase())||void 0===n?void 0:n.includes(d))}));if(s=s.sort(((e,t)=>e.details.displayOrder-t.details.displayOrder)),a){var i,r,o;let e=!!(m=null===(i=s[0])||void 0===i||null===(r=i.details)||void 0===r?void 0:r.PLANT)&&Object.entries(m).sort(((e,t)=>e[1].localeCompare(t[1]))).reduce(((e,t)=>{let[a,n]=t;return e[a]=n,e}),{}),n=(null===(o=a.find((e=>e.buName===t)))||void 0===o?void 0:o.plants)||[];const l=Object.keys(e).map((t=>{const a=n.find((e=>(null===e||void 0===e?void 0:e.plantName)===t));return{plantName:t,id:null===a||void 0===a?void 0:a.id,value:e[t]}})),d={};l.forEach((e=>{s.forEach((a=>{var n;if("PlantGroup"===(null===a||void 0===a||null===(n=a.details)||void 0===n?void 0:n.Entity)&&a.BUID===t){var l;const t=null===a||void 0===a||null===(l=a.details)||void 0===l?void 0:l.PLANT[e.plantName];console.log("plantvalue===",t),d[t]=(d[t]||0)+1}}))}));const c=l.map((e=>({name:e.plantName,header:e.plantName,defaultWidth:150,render:e=>(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})})));he(c)}if(X.length>0){const e=X.filter((e=>"buplantmapping"==e.MappingType));e.length>0&&"buplantmapping"===e[0].MappingType&&s.forEach((t=>{e[0].changes.forEach((e=>{if(t.id==e.id){t.details.draft_Plants={};for(let a in t.details.PLANT)console.log("obj2.details.PLANT[key]",e.details.PLANT[a]),console.log("obj1.details.PLANT[key]",t.details.PLANT[a]),t.details.draft_Plants[a]=e.details.PLANT[a].toLocaleLowerCase()!==t.details.PLANT[a].toLocaleLowerCase()?e.details.PLANT[a]:null}}))}))}setTimeout((()=>{let e=s.map((e=>{var t;return Object.keys(null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.PLANT).map((t=>{var a,n,l,s,i,r;null!==e&&void 0!==e&&null!==(a=e.details)&&void 0!==a&&a.draft_Plants?e[t]=null!==e&&void 0!==e&&null!==(n=e.details)&&void 0!==n&&n.draft_Plants[t]?`${null===e||void 0===e||null===(l=e.details)||void 0===l?void 0:l.draft_Plants[t]} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through"> ${null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.PLANT[t]} <span>`:null===e||void 0===e||null===(i=e.details)||void 0===i?void 0:i.PLANT[t]:e[t]=null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.PLANT[t]})),e}));ge(e),w(!1)}),500)}else{var c;if(!t)s(I.Qy?null===(c=I.Qy[0])||void 0===c?void 0:c.value:"")}var m}),[l,t,d,s,a,X]);const Ae=()=>{w(!0),D.getAlldraftChanges().then((e=>{let a=t||"Micro Motion",n=e.data.filter((e=>e.BUID===a));q(n),w(!1)}))},[je,fe]=(0,n.useState)([]),ye=[{name:"Entity",header:"Entity",render:e=>{var t;let{data:a}=e;return(0,g.jsx)("div",{children:(0,g.jsx)("b",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.Entity})})},defaultWidth:150},...pe],be=(0,n.useCallback)((e=>{let{selected:t}=e;W(t)}),[]);(0,n.useEffect)((()=>{const e=!0===U?ie:U,t=e&&Object.keys(e).map((t=>e[t]));fe(t)}),[U,ie]);return(0,g.jsxs)(En,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"RDO Plant Mapping "}]})}),(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,g.jsx)(R.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(se.A,{type:"text",name:"search",size:"small",onChange:re,value:d,style:{width:"100%"}})}),(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,g.jsxs)(R.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,g.jsxs)(R.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,g.jsx)(R.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,g.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,g.jsx)(R.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,g.jsx)(_,{onChange:re,selectedvalue:t,style:{width:"100%"},optionsValues:I.Qy,onChangeFunc:e=>{W({}),fe([]),s(e),c(""),fe([]),Y([])}})})]}),(0,g.jsxs)(R.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,onClick:()=>{C({BUID:t}),E(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,g.jsx)(b.A,{variant:"contained",disabled:1!==(null===je||void 0===je?void 0:je.length),onClick:()=>{var e,a,n,l,s,i;const r={Entity:null===(e=je[0])||void 0===e||null===(a=e.details)||void 0===a?void 0:a.Entity};C({...{BUID:t},...r});const o=Object.entries(null===(n=je[0])||void 0===n||null===(l=n.details)||void 0===l?void 0:l.PLANT).map(((e,t)=>{let[a,n]=e;return{plantName:a,value:n,id:t}}));Q(null===(s=je[0])||void 0===s||null===(i=s.details)||void 0===i?void 0:i.displayOrder),Y(o),F(!0),E(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,g.jsx)(b.A,{variant:"contained",disabled:0===(null===je||void 0===je?void 0:je.length),onClick:()=>{k(je[0]),f(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{o(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,g.jsx)(Wa,{title:"RDO Plant Mapping",MappingType:"buplantmapping",filterTemplateData:je})]})]}),(0,g.jsx)(R.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,g.jsxs)(y.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[S&&(0,g.jsx)(y.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,g.jsx)(lt.A,{})}),!S&&(0,g.jsx)(Oe.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},rowStyle:e=>{let{data:t}=e;const a=Object.keys(U).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===U?"#dee1f2":"initial",width:"auto"}},columns:ye,dataSource:xe,defaultLimit:100,checkboxColumn:!0,selected:U,sortable:!1,onSelectionChange:be,enableColumnAutosize:!0,handle:e=>le.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===le||void 0===le||null===(e=le.current)||void 0===e?void 0:e.setScrollTop(0==(null===je||void 0===je?void 0:je.length)?0:null===le||void 0===le||null===(t=le.current)||void 0===t?void 0:t.getScrollTop())}})]})})]})}),(0,g.jsx)(Be.A,{open:m,autoHideDuration:3e3,onClose:ce,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,g.jsx)(Tn,{onClose:ce,severity:v,sx:{width:"100%"},children:p})}),G?(0,g.jsx)(ve.A,{openAlert:$,openDesc:G,setOpenAlert:V}):(0,g.jsx)(g.Fragment,{}),(0,g.jsxs)(J.A,{open:j,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,g.jsx)(te.A,{children:(0,g.jsxs)(ae.A,{children:["Do you want to delete the RDO Plant Mapping(s) for Design Organization ",(0,g.jsx)("b",{children:null===L||void 0===L?void 0:L.BUID}),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),(0,g.jsx)("b",{children:"Note:"})," ",ga.adminConstant.common.deleteNote]})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:oe,children:"Cancel"}),(0,g.jsx)(b.A,{onClick:async()=>{try{await M.softDeleteTempCompMapping({data:je}).then((e=>{oe(),fe([]),k([]),W({}),V(!0),z({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))}catch(e){console.error("Failed to delete mapping:",e)}Ae(),ue(),fe([])},children:"delete"})]})]}),(0,g.jsx)(bn,{open:T,handleorgAllowedDialogAdd:()=>{E(!1)},handleorgAllowedDialogClose:me,orgAllowedForm:O,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target,n={...O,[t]:a};C(n)},handleAddBuPlant:()=>{if(!O.Entity||!O.BUID||H.length<1)return void de("Please Enter the required fields","error");const e=H.reduce(((e,t)=>(e[t.plantName]=t.value,e)),{});if(O){const t={MappingType:"buplantmapping",BUID:O.BUID,details:{Entity:O.Entity,displayOrder:K,PLANT:e},id:`${O.Entity}_${O.BUID}_buplantmapping`};!1===B?M.addnewTempCompMapping(t).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(ue(),setTimeout((()=>{E(!1)}),200),W({}),de("RDO Plant Mapping added successfully","success")):de(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status)})):M.updateTempCompMapping(t).then((e=>{"success"===e.status?(setTimeout((()=>{E(!1),Ae(),ue()}),200),F(!1),W({}),de("RDO Plant Mapping updated successfully","success")):de(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status)}))}me()},isEdit:B,bussinessUnitLists:a,bussinessUnit:t,setPlantValueList:Y,plantValueList:H,setDisplayOrder:Q}),(0,g.jsx)(ba,{title:"Import RDO Plant Mappings",MappingType:"buplantmapping",selectedBU:t,importTemplate:r,fetchData:ue,setImportTemplate:o})]})},wn=()=>(0,g.jsx)(Sn,{}),On=[{path:"/buplantList",element:(0,g.jsx)(Q,{children:(0,g.jsx)(wn,{})})}],Cn={minHeight:248},Pn=e=>{let{open:t,handleorgAllowedDialogClose:a,orgAllowedForm:l,handleorgAllowedFormChange:s,handleAddOrgAllowedValues:i,isEdit:r,templatesInfo:o,bussinessUnitLists:d,selectedBU:c,setPlantValueList:m,plantValueList:u}=e;const[p,h]=(0,n.useState)([]),[x,v]=(0,n.useState)([]);(0,n.useEffect)((()=>{h([c])}),[l.EXPENSE_TEMPLATE,c]),(0,n.useEffect)((()=>{var e;let t=(null===d||void 0===d||null===(e=d.find((e=>e.buName===l.BUID)))||void 0===e?void 0:e.plants)||[];t.map(((e,t)=>(e.expense="",e.id=t,Object.assign({},e)))),t=(0,gn.unionBy)(u,t,"plantName"),v(t),m(t)}),[l.BUID,c,d,m]);const[A,j]=(0,n.useState)([]);(0,n.useEffect)((()=>{if(c){let e=o.filter((e=>{var t;return null===e||void 0===e||null===(t=e.BU)||void 0===t?void 0:t.includes(c)}));j(e)}h([c])}),[c,o]);const f=e=>{const t=(0,n.useRef)(null);return(0,n.useEffect)((()=>{t&&t.current&&e.autoFocus&&t.current.focus()}),[e.autoFocus]),(0,g.jsx)("input",{...e,inputRef:t})},y={name:"expense",header:"Expense",defaultFlex:1,minWidth:100,rendersInlineEditor:!0,editable:!0,render:(e,t)=>{let{value:a}=e,{cellProps:n}=t,l=n.editProps.inEdit?n.editProps.value:a;return(0,g.jsx)(f,{type:"number",autoFocus:n.inEdit,value:l,onBlur:e=>{n.editProps.onComplete(e)},onChange:n.editProps.onChange,onFocus:()=>n.editProps.startEdit(),onKeyDown:e=>{"Escape"===e.key&&n.editProps.onCancel(e),"Enter"===e.key&&n.editProps.onComplete(e)}})}},T=(0,n.useRef)(null),E=[{name:"id",header:"Id",defaultVisible:!1,defaultWidth:60,type:"string"},{name:"plantName",defaultWidth:180,header:(0,g.jsx)(ie.A,{title:ga.adminConstant.expensemapList.tooltip.PlantName,children:"Plant Name"}),render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.plantName})}},y],S=(0,n.useCallback)((e=>{let{value:t,columnId:a,rowId:n}=e;const l=[...x];l[n]=Object.assign({},l[n],{[a]:t}),v(l),m(l)}),[x,m]);return(0,g.jsxs)(J.A,{open:t,children:[(0,g.jsxs)(ne.A,{children:[" ",r?"Edit Expense Mapping ":"Add Expense Mapping"]}),(0,g.jsx)(Ha.ur,{autoHeight:!0,autoHeightMin:100,autoHeightMax:500,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:300,children:(0,g.jsx)(te.A,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Design Organization ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:c,onChange:s,disabled:!0,children:null===p||void 0===p?void 0:p.map((e=>(0,g.jsx)(L.A,{value:e,children:e},e)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Template ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(D.A,{name:"EXPENSE_TEMPLATE",fullWidth:!0,value:l.EXPENSE_TEMPLATE,onChange:s,disabled:r,children:null===A||void 0===A?void 0:A.map((e=>(0,g.jsx)(L.A,{value:e.templateName,children:e.templateName},e.templateName)))})}),(0,g.jsx)(R.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,g.jsxs)("span",{children:["Plant Expenses ",(0,g.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,g.jsx)(R.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,g.jsx)(Oe.Ay,{idProperty:"id",showZebraRows:!1,handle:e=>T.current=e?e.current:null,style:Cn,onEditComplete:S,columns:E,dataSource:x})})]})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:a,children:"Cancel"}),(0,g.jsx)(b.A,{onClick:i,children:r?"Update":"Add"})]})]})},Mn=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Dn=()=>{const{refreshData:e,templatesInfo:t,bussinessUnit:a,bussinessUnitLists:l,mappingTemplatesInfo:s,updateBussinessUnit:i,updateMappingTemplatesInfo:r}=(0,N.A)(),[o,d]=(0,n.useState)(!1),[c,m]=(0,n.useState)(""),[u,p]=(0,n.useState)(!1),[h,v]=(0,n.useState)(!1),[A,j]=(0,n.useState)({}),f=new ja,T=new Jt.W,E=new Aa,[S,w]=(0,n.useState)(),[O,C]=(0,n.useState)(!1),[P,M]=(0,n.useState)([]),[D,L]=(0,n.useState)([]),[k,B]=(0,n.useState)(!0),[F,U]=(0,n.useState)({}),[W,$]=(0,n.useState)(!1),[V,G]=(0,n.useState)(null),[z,H]=(0,n.useState)([]),[Y,X]=(0,n.useState)([]),[q,K]=(0,n.useState)({}),Q=(0,n.useRef)(null),le=Q&&Q.current&&Q.current.dataMap?Q.current.dataMap:null,re=e=>{const t=e.target.value;m(t)},oe=()=>{p(!1)},de=(e,t)=>{$(!0),G({severity:t,desc:e})};let ce=new Set;P&&P.length>0&&P.forEach((e=>{var t;const a=null===(t=e.details)||void 0===t?void 0:t.EXPENSE_PLANTS;if(a){Object.keys(a).forEach((e=>{ce.add(e)}))}}));const me=Array.from(ce).map((e=>({name:e,header:e,sortable:!1,defaultWidth:90,render:e=>(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})}))),ue=()=>{v(!1),j(""),H([]),C(!1),L([]),U({})},pe=[{name:"EXPENSE_TEMPLATE",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.expensemapList.tooltip.EXPENSE_TEMPLATE,children:"Template"}),defaultWidth:250,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.EXPENSE_TEMPLATE})}},{name:"BUID",header:(0,g.jsx)(ie.A,{title:ga.adminConstant.expensemapList.tooltip.RDO,children:"Design Organization"}),defaultWidth:150},...me],he=()=>{B(!0),T.getAlltemplateMappings().then((e=>{var t;r(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),B(!1)}))};(0,n.useEffect)((()=>{B(e)}),[e]);const[xe,ge]=(0,n.useState)([]),Ae=(0,Pe.t$)(xe,"EXPENSE_TEMPLATE");(0,n.useEffect)((()=>{je()}),[]),(0,n.useEffect)((()=>{if(B(!0),s){let n=s;var e,t;if(n=n.filter((e=>"expensemapping"===e.MappingType&&"Delete"!==e.actionFlag)),a)n=null===(e=n)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(c&&""!==c)n=null===(t=n)||void 0===t?void 0:t.filter((e=>{var t,a,n;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(c))||(null===(a=JSON.stringify(e))||void 0===a||null===(n=a.toLocaleLowerCase())||void 0===n?void 0:n.includes(c))}));if(Y.length>0){const e=Y.filter((e=>"expensemapping"==e.MappingType));e.length>0&&"expensemapping"===e[0].MappingType&&n.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draftValue_EXPENSE_TEMPLATE=e.details.EXPENSE_TEMPLATE!==t.details.EXPENSE_TEMPLATE?e.details.EXPENSE_TEMPLATE:null,t.details.draft_Plants={};for(let a in t.details.EXPENSE_PLANTS)t.details.draft_Plants[a]=e.details.EXPENSE_PLANTS[a]!==t.details.EXPENSE_PLANTS[a]?e.details.EXPENSE_PLANTS[a]:null}}))}))}M(n);let l=n.map((e=>{var t,a;return e.EXPENSE_TEMPLATE=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.EXPENSE_TEMPLATE,Object.keys(null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.EXPENSE_PLANTS).map((t=>{var a,n,l,s,i,r;null!==e&&void 0!==e&&null!==(a=e.details)&&void 0!==a&&a.draft_Plants?e[t]=null!==e&&void 0!==e&&null!==(n=e.details)&&void 0!==n&&n.draft_Plants[t]?`${null===e||void 0===e||null===(l=e.details)||void 0===l?void 0:l.draft_Plants[t]} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through"> ${null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.EXPENSE_PLANTS[t]} <span>`:null===e||void 0===e||null===(i=e.details)||void 0===i?void 0:i.EXPENSE_PLANTS[t]:e[t]=null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.EXPENSE_PLANTS[t]})),e}));setTimeout((()=>{ge(l),B(!1)}),500)}else{var n;if(!a)i(I.Qy?null===(n=I.Qy[0])||void 0===n?void 0:n.value:"")}}),[s,a,c,i,Y]);const je=()=>{B(!0),E.getAlldraftChanges().then((e=>{let t=a||"Micro Motion",n=[];e.data&&(n=e.data.filter((e=>e.BUID===t))),X(n),B(!1)}))},fe=(0,n.useCallback)((e=>{let{selected:t}=e;U(t)}),[]);(0,n.useEffect)((()=>{const e=!0===F?le:F,t=e&&Object.keys(e).map((t=>e[t]));L(t)}),[F,le]);return(0,g.jsxs)(Mn,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Expense Mapping"}]})}),(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,g.jsx)(R.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(se.A,{type:"text",name:"search",size:"small",onChange:re,value:c,style:{width:"100%"}})}),(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,g.jsxs)(R.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,g.jsxs)(R.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,g.jsx)(R.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,g.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,g.jsx)(R.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,g.jsx)(_,{onChange:re,selectedvalue:a,style:{width:"100%"},optionsValues:I.Qy,onChangeFunc:e=>{U({}),L([]),i(e),m(""),L([])}})})]}),(0,g.jsxs)(R.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,onClick:()=>{j({BUID:a}),v(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,disabled:1!==(null===D||void 0===D?void 0:D.length),onClick:()=>{var e,t,a,n;const l=null===(e=D[0])||void 0===e?void 0:e.details,s={BUID:null===(t=D[0])||void 0===t?void 0:t.BUID};j({...l,...s});const i=Object.entries(null===(a=D[0])||void 0===a||null===(n=a.details)||void 0===n?void 0:n.EXPENSE_PLANTS).map(((e,t)=>{let[a,n]=e;return{plantName:a,expense:n,id:t}}));(0,Pe.t$)(i,"plantName"),H(i),C(!0),v(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,disabled:0===(null===D||void 0===D?void 0:D.length),onClick:()=>{w(D[0]),p(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{d(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,g.jsx)(Wa,{title:"Expense Mapping",MappingType:"expensemapping",filterTemplateData:D,sortInfo:q})]})]}),(0,g.jsx)(R.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,g.jsxs)(y.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[k&&(0,g.jsx)(y.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,g.jsx)(lt.A,{})}),!k&&(0,g.jsx)(Oe.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:pe,dataSource:null===q?P:Ae,rowHeight:null,checkboxColumn:!0,defaultLimit:100,selected:F,onSelectionChange:fe,handle:e=>Q.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(F).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===F?"#dee1f2":"initial"}},pagination:!0,renderScroller:()=>{var e,t;return null===Q||void 0===Q||null===(e=Q.current)||void 0===e?void 0:e.setScrollTop(0==(null===D||void 0===D?void 0:D.length)?0:null===Q||void 0===Q||null===(t=Q.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{K(e)}})]})})]})}),V?(0,g.jsx)(ve.A,{openAlert:W,openDesc:V,setOpenAlert:$}):(0,g.jsx)(g.Fragment,{}),(0,g.jsxs)(J.A,{open:u,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,g.jsx)(te.A,{children:(0,g.jsxs)(ae.A,{children:["Do you want to delete the ExpenseAcctByTemplateAndPlant Mapping(s) for Design Organization"," ",(0,g.jsx)("b",{children:null===S||void 0===S?void 0:S.BUID}),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),(0,g.jsx)("b",{children:"Note:"})," ",ga.adminConstant.common.deleteNote]})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:oe,children:"Cancel"}),(0,g.jsx)(b.A,{onClick:async()=>{try{await f.softDeleteTempCompMapping({data:D}).then((e=>{oe(),L([]),w([]),U({})}))}catch(e){console.error("Failed to delete mapping:",e)}de("Expense Mapping deleted Successfully","success"),he(),L([])},children:"delete"})]})]}),(0,g.jsx)(Pn,{open:h,handleorgAllowedDialogAdd:()=>{v(!1)},handleorgAllowedDialogClose:ue,orgAllowedForm:A,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target,n={...A,[t]:a};j(n)},handleAddOrgAllowedValues:()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.templateName===A.EXPENSE_TEMPLATE)),a=z.reduce(((e,t)=>(e[t.plantName]=0===Number(t.expense)||isNaN(Number(t.expense))?"":Number(t.expense),e)),{});if(!A.EXPENSE_TEMPLATE||!A.BUID||z.length<1)de("Please Enter the required fields","error");else{if(A){const t={BUID:A.BUID,MappingType:"expensemapping",id:e[0].id+"_"+A.BUID.trim()+"_expensemapping",details:{EXPENSE_TEMPLATE:A.EXPENSE_TEMPLATE,EXPENSE_TEMPLATE_ID:e[0].id,EXPENSE_PLANTS:a}};!1===O?f.addnewTempCompMapping(t).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(he(),setTimeout((()=>{v(!1)}),200),U({}),de("Expense Mapping added successfully","success")):de(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status)})):f.updateTempCompMapping(t).then((e=>{"success"===e.status?(setTimeout((()=>{v(!1),he()}),200),C(!1),U({}),de("Expense Mapping updated successfully","success")):de(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status)}))}ue()}},isEdit:O,templatesInfo:t,bussinessUnitLists:l,selectedBU:a,setPlantValueList:H,plantValueList:z}),(0,g.jsx)(ba,{title:"Import Expense Mappings",MappingType:"expensemapping",selectedBU:a,importTemplate:o,fetchData:he,setImportTemplate:d})]})},Ln=()=>(0,g.jsx)(Dn,{}),Nn=[{path:"/expensemapList",element:(0,g.jsx)(Q,{children:(0,g.jsx)(Ln,{})})}];var _n=a(46060),Rn=a(80899);const In=Rn.Ik().shape({description:Rn.Yj().required("This field is required").max(500,"Input should not exceed 500 characters")}),kn=e=>(0,g.jsx)(dt.l1,{initialValues:{description:null},validationSchema:In,enableReinitialize:!0,validateOnChange:!1,validateOnBlur:!1,onSubmit:(t,a)=>{let{resetForm:n}=a;e.saveApplyChanges(t),n()},children:t=>{let{errors:a,touched:n,submitForm:l,setFieldValue:s,setErrors:i,setTouched:r}=t;return(0,g.jsx)(dt.lV,{children:(0,g.jsxs)(J.A,{open:null===e||void 0===e?void 0:e.applyChangesDialog,maxWidth:"sm",fullWidth:!0,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Do you want to apply your changes?"}),(0,g.jsx)(te.A,{children:(0,g.jsx)(ae.A,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsxs)(R.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:["Comments",(0,g.jsx)("span",{style:{color:"#FF3D57"},children:"*"}),":"]}),(0,g.jsxs)(R.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:[(0,g.jsx)(dt.D0,{as:"textarea",id:"description",name:"description",rows:"10",style:{width:"100%",borderRadius:"10px"}}),(0,g.jsx)(dt.Kw,{name:"description",component:"div",style:{color:"red"}})]})]})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:()=>{null===e||void 0===e||e.setApplyChangesDialog(!1),i({}),r({},!1)},children:"Cancel"}),(0,g.jsx)(b.A,{onClick:l,children:"Apply"})]})]})})}}),Bn=(0,_n.A)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Fn=()=>{const{bussinessUnit:e,updateBussinessUnit:t,updateMappingTemplatesInfo:a}=(0,N.A)(),[l,s]=(0,n.useState)([]),[i,r]=(0,n.useState)([]),[o,d]=(0,n.useState)(""),[c,m]=(0,n.useState)(!1),[u,p]=(0,n.useState)(!1),[h,v]=(0,n.useState)([]),A=(0,n.useRef)(null),[j,f]=(0,n.useState)(!1),[T,E]=(0,n.useState)(null),S=new Aa,w=new Jt.W,O=[{name:"userName",header:"User Name",defaultFlex:1,defaultWidth:50},{name:"MappingType",header:"Mapping Type",defaultFlex:1,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.MappingType})}},{name:"BUID",header:"Design Organization",defaultFlex:1,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.BUID})}},{name:"modifiedDateTime",header:"Modified Date & Time ",defaultFlex:1,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null!==t&&void 0!==t&&t.modifiedDateTime?null===t||void 0===t?void 0:t.modifiedDateTime:"-"})}},{name:"Action",header:"Action",defaultFlex:1,render:e=>{let{data:t}=e;return(0,g.jsxs)("div",{children:[(0,g.jsx)(b.A,{variant:"contained",style:{margin:"0px 10px 0px 0px"},onClick:()=>{v([t]),m(!0)},children:"Apply"}),(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{M(t.id)},children:"Discard"})]})}}],C=()=>{var t;let a=[];a=""===o?l:null===l||void 0===l?void 0:l.filter((e=>Object.values(e).join().toLowerCase().includes(o.toLowerCase()))),a=null===(t=a)||void 0===t?void 0:t.filter((t=>Object.values(t).join().toLowerCase().includes(e.toLowerCase()))),r(a)},P=()=>{w.getAlltemplateMappings().then((e=>{var t;a(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList)}))},M=e=>{try{p(!0),S.discardDraftChanges(e).then((e=>{m(!1),v([]),P(),D(),p(!1),"success"===(null===e||void 0===e?void 0:e.status)?(f(!0),E({severity:"success",desc:null===e||void 0===e?void 0:e.msg})):"failed"===(null===e||void 0===e?void 0:e.status)&&(f(!0),E({severity:"error",desc:null===e||void 0===e?void 0:e.msg}))}))}catch(t){}},D=()=>{p(!0),S.getAlldraftChanges().then((t=>{s(null===t||void 0===t?void 0:t.data);let a=e||"Micro Motion",n=t.data.filter((e=>e.BUID===a));r(n),p(!1)}))};return(0,n.useEffect)((()=>{D()}),[]),(0,n.useEffect)((()=>{C()}),[o,e]),(0,g.jsxs)(Bn,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Draft Changes"}]})}),(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(se.A,{type:"text",name:"search",size:"small",onChange:e=>{d(e.target.value)},value:o,style:{width:"100%"}})}),(0,g.jsx)(R.Ay,{item:!0,md:5,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(b.A,{variant:"contained",onClick:C,children:"Search"})})]})}),(0,g.jsx)(R.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(R.Ay,{container:!0,alignItems:"center",style:{textAlign:"right"},children:(0,g.jsxs)(R.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{paddingRight:"10px"},children:[(0,g.jsx)("label",{style:{textWrap:"nowrap",paddingTop:"10px"},children:"Design Organization:"}),(0,g.jsx)(_,{selectedvalue:e,style:{width:"25%"},onChangeFunc:e=>{t(e),d("")}})]})})}),(0,g.jsxs)(y.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[u&&(0,g.jsx)(y.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,g.jsx)(lt.A,{})}),!u&&(0,g.jsx)(Oe.Ay,{showZebraRows:!1,defaultLimit:100,style:{minHeight:550},columns:O,dataSource:i,onRowClick:e=>(e=>{const t=h.some((t=>t.id===e.id));v(t?t=>t.filter((t=>t.id!==e.id)):[e])})(e.data),pagination:!0,renderScroller:()=>{var e,t;return null===A||void 0===A||null===(e=A.current)||void 0===e?void 0:e.setScrollTop(0==(null===h||void 0===h?void 0:h.length)?0:null===A||void 0===A||null===(t=A.current)||void 0===t?void 0:t.getScrollTop())}})]})]})}),(0,g.jsx)(kn,{applyChangesDialog:c,setApplyChangesDialog:m,saveApplyChanges:e=>{try{var t,a,n;if(p(!0),!h.length)return f(!0),void E({severity:"error",desc:"Please select row."});const l={id:null===(t=h[0])||void 0===t?void 0:t.id,reason:e.description,BUID:null===(a=h[0])||void 0===a?void 0:a.BUID,MappingType:null===(n=h[0])||void 0===n?void 0:n.MappingType};S.applyDraftChanges(l).then((e=>{m(!1),v([]),P(),D(),p(!1),"success"===(null===e||void 0===e?void 0:e.status)?(f(!0),E({severity:"success",desc:null===e||void 0===e?void 0:e.msg})):"failed"===(null===e||void 0===e?void 0:e.status)&&(f(!0),E({severity:"error",desc:null===e||void 0===e?void 0:e.msg}))}))}catch(l){}}}),T?(0,g.jsx)(ve.A,{openAlert:j,openDesc:T,setOpenAlert:f}):(0,g.jsx)(g.Fragment,{})]})},Un=()=>(0,g.jsx)(Fn,{}),Wn=[{path:"/draftChanges",element:(0,g.jsx)(Q,{children:(0,g.jsx)(Un,{})})}],$n=JSON.parse('[{"userId":"123456","userName":"joe","dateTime":"28/11/2023","reason":"Update template for BU Micro Motion","BU":"Micro Motion","mappingType":"orgAllowedTemplate","version":"1"},{"userId":"123456","userName":"adams","dateTime":"29/11/2023","reason":"Update template for BU Micro Motion","BU":"Micro Motion","mappingType":"orgAllowedTemplate","version":"2"},{"userId":"123456","userName":"adams","dateTime":"29/11/2023","reason":"Add template for BU Micro Motion","BU":"Micro Motion","mappingType":"orgAllowedTemplate","version":"3"},{"userId":"123456","userName":"joe","dateTime":"30/11/2023","reason":"Add new template for BU Micro Motion","BU":"Micro Motion","mappingType":"orgAllowedTemplate","version":"4"}]'),Vn=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Gn=()=>{const{bussinessUnit:e,updateBussinessUnit:t}=(0,N.A)(),[a,l]=(0,n.useState)($n),[s,i]=(0,n.useState)([]),[r,o]=(0,n.useState)(""),[d,c]=(0,n.useState)(!0),[m,u]=(0,n.useState)([]),[p,h]=(0,n.useState)([]),v=new Aa,[A,j]=(0,n.useState)("orgallowedvalues"),f=(0,n.useRef)(null),T=[{name:"version",header:"Version",defaultFlex:.6,defaultWidth:20,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.version})}},{name:"dateTime",header:"Change Date",defaultFlex:2,render:e=>{let{data:t}=e,a=new Date(parseInt(null===t||void 0===t?void 0:t.dateTime));console.log(a,"date");const n=a.getFullYear(),l=String(a.getMonth()+1).padStart(2,"0"),s=String(a.getDate()).padStart(2,"0"),i=String(a.getHours()).padStart(2,"0"),r=`${n}-${l}-${s} ${i%12||12}:${String(a.getMinutes()).padStart(2,"0")}:${String(a.getSeconds()).padStart(2,"0")} ${i>=12?"PM":"AM"}`;return(0,g.jsx)("div",{children:r})}},{name:"userName",header:"Requested By",defaultFlex:1,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.userName})}},{name:"MappingType ",header:"Mapping Type",defaultFlex:1,defaultWidth:200,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.MappingType})}},{name:"reason",header:"Change Details",defaultFlex:3,defaultWidth:200,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.reason})}}],E=()=>{let e=[];e=""===r?a:null===a||void 0===a?void 0:a.filter((e=>{var t;return(null===(t=Object.values(e).join())||void 0===t?void 0:t.toLowerCase()).includes(null===r||void 0===r?void 0:r.toLowerCase())})),i(e)};return(0,n.useEffect)((()=>{c(!0),v.getAllmappingHistory().then((e=>{var t;l(null===e||void 0===e?void 0:e.data),i(null===e||void 0===e?void 0:e.data),c(!1);const a=new Set;null===e||void 0===e||null===(t=e.data)||void 0===t||t.forEach((e=>{Array.isArray(e.MappingType)?e.MappingType.forEach((e=>{a.add(e.MappingType)})):a.add(e.MappingType)})),console.log(Array.from(a),"array of mapping"),h(Array.from(a))}))}),[]),(0,n.useEffect)((()=>{E()}),[r,e]),(0,n.useEffect)((()=>{var t;let n=a;n=null===(t=n)||void 0===t?void 0:t.filter((t=>{var a;const n=null===(a=Object.values(t).join())||void 0===a?void 0:a.toLowerCase();return n.includes(null===e||void 0===e?void 0:e.toLowerCase())&&n.includes(null===A||void 0===A?void 0:A.toLowerCase())})),i(n)}),[A,e,a]),(0,g.jsxs)(Vn,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"Changes History "}]})}),(0,g.jsx)(x.Tn,{children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(se.A,{type:"text",name:"search",size:"small",onChange:e=>{o(e.target.value)},value:r,style:{width:"100%"}})}),(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(b.A,{variant:"contained",onClick:E,children:"Search"})})]})}),(0,g.jsx)(R.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(R.Ay,{container:!0,alignItems:"center",style:{textAlign:"right"},children:(0,g.jsxs)(R.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{paddingRight:"10px"},children:[(0,g.jsx)("label",{style:{textWrap:"nowrap",paddingTop:"10px"},children:"Mapping Type:"}),(0,g.jsx)(D.A,{className:"form-control",defaultValue:p[0],value:A,onChange:e=>j(e.target.value),style:{width:"50%"},size:"medium",displayEmpty:!0,renderValue:e=>{let t=[];return t=null===p||void 0===p?void 0:p.find((t=>t===e)),t||""},children:null===p||void 0===p?void 0:p.map(((e,t)=>{const a="dpKey"+t;return(0,g.jsx)(L.A,{value:e,children:e},a)}))})]})})}),(0,g.jsx)(R.Ay,{item:!0,md:12,sm:6,xs:12,className:"font-medium",style:{display:"none"},children:(0,g.jsx)(R.Ay,{container:!0,alignItems:"center",style:{textAlign:"right"},children:(0,g.jsxs)(R.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{paddingRight:"10px"},children:[(0,g.jsx)("label",{style:{textWrap:"nowrap",paddingTop:"10px"},children:"Design Organization:"}),(0,g.jsx)(_,{selectedvalue:e,style:{width:"50%"},optionsValues:I.Qy,onChangeFunc:e=>{t(e),o("")}})]})})}),(0,g.jsxs)(y.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[d&&(0,g.jsx)(y.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,g.jsx)(lt.A,{})}),!d&&(0,g.jsx)(Oe.Ay,{showZebraRows:!1,style:{minHeight:550},columns:T,dataSource:s,defaultLimit:100,onRowClick:e=>(e=>{const t=m.some((t=>t.id===e.id));u(t?t=>t.filter((t=>t.id!==e.id)):[e])})(e.data),pagination:!0,renderScroller:()=>{var e,t;return null===f||void 0===f||null===(e=f.current)||void 0===e?void 0:e.setScrollTop(0==(null===m||void 0===m?void 0:m.length)?0:null===f||void 0===f||null===(t=f.current)||void 0===t?void 0:t.getScrollTop())}})]})]})})]})},zn=()=>(0,g.jsx)(Gn,{}),Hn=[{path:"/history",element:(0,g.jsx)(Q,{children:(0,g.jsx)(zn,{})})}];var Yn=a(67986);const Xn=e=>{const t=new re.Q,[a,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)((null===e||void 0===e?void 0:e.systemData)||[]),[r,o]=(0,n.useState)("allData"),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[v,A]=(0,n.useState)(null);console.log("props",e);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b.A,{variant:"contained",onClick:()=>{l(!0)},children:"Export"}),(0,g.jsxs)(J.A,{open:a,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,g.jsx)(te.A,{children:(0,g.jsx)(ae.A,{children:(0,g.jsx)(y.A,{width:"100%",overflow:"auto",children:(0,g.jsx)(x.Tn,{children:(0,g.jsx)(R.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,g.jsx)(R.Ay,{container:!0,alignItems:"center",children:(0,g.jsxs)(Ee.A,{children:[(0,g.jsx)(Se.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,g.jsxs)(be.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:r,onChange:t=>{o(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.vsystemData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,g.jsx)(Te.A,{value:"allData",control:(0,g.jsx)(ye.A,{}),label:"All Data"}),(0,g.jsx)(Te.A,{value:"selectedData",control:(0,g.jsx)(ye.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{autoFocus:!0,onClick:()=>{l(!1)},children:"Cancel"}),(0,g.jsx)(b.A,{onClick:()=>{l(!1);let a=("allData"!==r?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.systemData)||[],n=null===a||void 0===a?void 0:a.map((e=>({"ERP Type":e.ERPType,Instance:e.instance,"Validation Key 1":e.file1,"Validation Key 2":e.file2})));t.exportTemplate({data:n,sheet_name:"System Setup"}).then((e=>{u(e),c(!0),h(!0),A({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),v?(0,g.jsx)(ve.A,{openAlert:p,openDesc:v,setOpenAlert:h}):(0,g.jsx)(g.Fragment,{})]})},qn=[{name:"ERP Type",mandatory:"Y",dataType:"string",inputType:"select",defaultValues:"",values:[{sap:"SAP",oracle:"Oracle"}]},{name:"instance",mandatory:"Y",dataType:"string",inputType:"select",defaultValues:"",values:[{onPrem:"OnPrem",SaaS:"SaaS"}]},{name:"Validation Key 1",mandatory:"Y",dataType:"string",inputType:"text",defaultValues:"",values:""},{name:"Validation Key 2",mandatory:"Y",dataType:"string",inputType:"text",defaultValues:"",values:""}],Kn=(0,n.forwardRef)(((e,t)=>{const[a,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)(null),[r,o]=(0,n.useState)([]),d={"ERP Type":null,instance:null,"Validation Key 1":null,"Validation Key 2":null},c=e=>{console.log(e,"validate");const t={};return e["ERP Type"]||(t["ERP Type"]="Required"),e.instance||(t.instance="Required"),e["Validation Key 1"]||(t["Validation Key 1"]="Required"),e["Validation Key 2"]||(t["Validation Key 2"]="Required"),t};return(0,n.useEffect)((()=>{o(qn)}),[]),(0,g.jsxs)("div",{children:[(0,g.jsx)(dt.l1,{initialValues:d,validate:c,onSubmit:(t,a)=>{let{setSubmitting:n}=a;((t,a,n)=>{let{resetForm:s}=n;if(console.log(t,"values 111"),a){const n={...t,ERPType:t["ERP Type"],file1:t["Validation Key 1"],file2:t["Validation Key 2"]};delete n["ERP Type"],delete n["Validation Key 1"],delete n["Validation Key 2"],s(),Object.keys(t).some((e=>t[e]!==d[e]))?e.saveForm({formisValid:a,formData:n}):(l(!0),i({severity:"error",desc:"No changes made!"}))}else l(!0),i({severity:"error",desc:"Form submitted with invalid data"})})(t,!Object.keys(c(t)).length,{resetForm:()=>n(!1)})},innerRef:t,children:function(a){let{isValid:l,values:s,errors:i,setFieldValue:o,resetForm:d,handleSubmit:c,submitForm:m}=a;return(0,n.useEffect)((()=>{var t,a;"Edit"===(null===e||void 0===e?void 0:e.editForm)&&null!==e&&void 0!==e&&null!==(t=e.selectedRows)&&void 0!==t&&t.length&&(null===e||void 0===e||null===(a=e.selectedRows)||void 0===a||a.forEach((e=>{o("ERP Type",null===e||void 0===e?void 0:e.ERPType),o("instance",null===e||void 0===e?void 0:e.instance),o("Validation Key 1",null===e||void 0===e?void 0:e.file1),o("Validation Key 2",null===e||void 0===e?void 0:e.file2)})))}),[o]),(0,n.useImperativeHandle)(t,(()=>({submitForm(){console.log("triggering here"),c()}}))),(0,g.jsx)(dt.lV,{children:r.length?null===r||void 0===r?void 0:r.map(((t,a)=>{var n;const l=null===t||void 0===t?void 0:t.name,d=s[l]||(null===t||void 0===t?void 0:t.defaultValues);let c=null===t||void 0===t?void 0:t.inputType;s[null===(n=r[0])||void 0===n?void 0:n.name];return(0,g.jsx)("div",{className:"attribute-section",children:(0,g.jsxs)(R.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)("label",{htmlFor:"firstName",children:(0,g.jsxs)("span",{children:[null===t||void 0===t?void 0:t.name,"Y"===(null===t||void 0===t?void 0:t.mandatory)?(0,g.jsx)("span",{style:{color:"red"},children:"*"}):""]})})}),(0,g.jsxs)(R.Ay,{item:!0,md:8,sm:6,xs:12,children:["text"===c&&(0,g.jsx)(se.A,{className:"mb-4 w-full ",color:null!==i&&void 0!==i&&i[l]?"warning":"",fullWidth:!0,size:"small",variant:"outlined",id:l,name:l,value:d,onChange:e=>{o(l,e.target.value)},type:"text",style:{marginBottom:"10px"}}),"select"===c&&(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(D.A,{disabled:"Edit"===(null===e||void 0===e?void 0:e.editForm)&&["ERP Type","instance"].includes(l),value:d,onChange:e=>{o(l,e.target.value)},displayEmpty:!0,renderValue:e=>e?(null===t||void 0===t?void 0:t.values.length)&&(null===t||void 0===t?void 0:t.values[0][e]):(0,g.jsx)("em",{children:"--Select--"}),style:{height:"37.13px",marginBottom:"1rem",width:"100%"},children:[(0,g.jsx)(L.A,{children:"Select"}),(null===t||void 0===t?void 0:t.values.length)&&Object.keys(null===t||void 0===t?void 0:t.values[0]).map((e=>(0,g.jsx)(L.A,{value:e,children:null===t||void 0===t?void 0:t.values[0][e]},ze().generate())))]})}),(0,g.jsx)(dt.Kw,{name:l,component:"div"})]},a)]})},a)})):(0,g.jsx)(g.Fragment,{})})}}),s&&(0,g.jsx)(ve.A,{openAlert:a,openDesc:s,setOpenAlert:l})]})})),Qn=(0,f.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Zn=()=>{const e=(0,n.useRef)(null),[t,a]=(0,n.useState)(!1),[l,s]=(0,n.useState)("Create"),[i,r]=(0,n.useState)(null),[o,d]=(0,n.useState)([]),[c,m]=(0,n.useState)([]),[u,p]=(0,n.useState)(""),[h,v]=(0,n.useState)(!1),[A,j]=(0,n.useState)(!1),f=new Yn.c,[T,E]=(0,n.useState)(!1),[S,w]=(0,n.useState)(null),[O,C]=(0,n.useState)({}),[P,M]=(0,n.useState)([]),[D,L]=(0,n.useState)([]),[N,_]=(0,n.useState)([]),I=(0,n.useRef)(null),k=I&&I.current&&I.current.dataMap?I.current.dataMap:null,B=(0,n.useCallback)((e=>{let{selected:t}=e;C(t)}),[]),F=o.sort(((e,t)=>e.ERPType<t.ERPType?-1:e.ERPType>t.ERPType?1:0)),U=[{name:"ERPType",header:"ERP Type",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.ERPType})}},{name:"instance",header:"Instance",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.instance})}},{name:"file1",header:"Validation Key 1",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.file1})}},{name:"file2",header:"Validation Key 2",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,g.jsx)("div",{children:null===t||void 0===t?void 0:t.file2})}}],W=async()=>{var e;const t=await f.getAllsystemSetupList();return console.log(t,"listValue"),null!==t&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.length?(d(null===t||void 0===t?void 0:t.data),L(null===t||void 0===t?void 0:t.data),m(null===t||void 0===t?void 0:t.data),null===t||void 0===t?void 0:t.data):[]};(0,n.useEffect)((()=>{W()}),[]),(0,n.useEffect)((()=>{var e;const t=!0===O?k:O,a=t&&((null===(e=Object.keys(t))||void 0===e?void 0:e.map((e=>t[e])))||[]);null!==a&&void 0!==a&&a.length&&M(a)}),[O]),(0,n.useEffect)((()=>{console.log(u,"parent comp 2"),(async e=>{let t=[];if(v(!0),t=0===c.length?await W():c,t){const a=t.filter((t=>!e||JSON.stringify(t).toLowerCase().includes(e.toLowerCase())))||[];a.length?(d(a),L(a)):d([])}v(!1)})(u)}),[u]),console.log("parent comp");const $=e=>{_(e);const t=Ce(Zn)({data:o,sortInfo:e,onSortInfoChange:$,initialData:D});d(t.props.data)};return(0,g.jsxs)(Qn,{children:[(0,g.jsx)(y.A,{className:"breadcrumb",children:(0,g.jsx)(x.Qp,{routeSegments:[{name:"System Setup"}]})}),(0,g.jsxs)("div",{children:[(0,g.jsxs)(R.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,g.jsx)(R.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,g.jsx)(se.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;p(t)},value:u,style:{width:"100%"}})}),(0,g.jsxs)(R.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,g.jsx)(b.A,{variant:"contained",children:"Search"}),(0,g.jsx)("div",{style:{flex:1}}),(0,g.jsx)(b.A,{variant:"contained",component:Z.Link,onClick:()=>{a(!0),s("Create")},children:"Create"}),(0,g.jsx)(b.A,{variant:"contained",disabled:1!==(null===P||void 0===P?void 0:P.length),onClick:()=>{a(!0),s("Edit")},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,g.jsx)(b.A,{variant:"contained",disabled:null===P||void 0===P||!P.length,onClick:()=>{j(!0)},style:{margin:"0 10px 0 10px"},children:"Delete"}),(0,g.jsx)(Xn,{systemData:o,filterTemplateData:P})]})]}),(0,g.jsx)("br",{}),h?(0,g.jsx)("div",{style:{textAlign:"center"},children:(0,g.jsx)(le.A,{show:h})}):(0,g.jsx)(Oe.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:U,defaultLimit:100,dataSource:null===N?o:F,checkboxColumn:!0,selected:O,onSelectionChange:B,handle:e=>I.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===I||void 0===I||null===(e=I.current)||void 0===e?void 0:e.setScrollTop(0==(null===P||void 0===P?void 0:P.length)?0:null===I||void 0===I||null===(t=I.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:$})]}),S&&(0,g.jsx)(ve.A,{openAlert:T,openDesc:S,setOpenAlert:E}),(0,g.jsxs)(J.A,{open:A,children:[(0,g.jsx)(ne.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Setting"}),(0,g.jsx)(te.A,{children:(0,g.jsx)(ae.A,{children:"Do you want to delete the selected Setting(s)?"})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{autoFocus:!0,onClick:()=>{j(!1)},children:"Cancel"}),(0,g.jsx)(b.A,{onClick:async()=>{j(!1);try{v(!0);const e=null===P||void 0===P?void 0:P.map((e=>null===e||void 0===e?void 0:e.id));await f.deleteSystemSettings(e).then((e=>{v(!1),E(!0),w({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),C({}),M([])}))}catch(e){console.error("Failed to delete Setting:",e)}f.getAllsystemSetupList().then((e=>{console.log(e.data,"result.data"),d(e.data),L(e.data),m(e.data)}))},children:"Delete"})]})]}),(0,g.jsxs)(J.A,{open:t,onClose:()=>{a(!1)},scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",maxWidth:"md",fullWidth:!0,onClick:e=>{e.stopPropagation()},children:[(0,g.jsx)(ne.A,{id:"scroll-dialog-title",children:`${l} system setup`}),(0,g.jsx)(te.A,{dividers:!0,children:(0,g.jsx)(ae.A,{id:"scroll-dialog-description",tabIndex:-1,children:(0,g.jsx)(Kn,{ref:e,saveForm:async e=>{if(console.log(e,"submittedValues 222"),e&&null!==e&&void 0!==e&&e.formisValid){var t;a(!1),v(!0),r(e);let i=null;var n,s;if(i="Edit"===l&&null!==P&&void 0!==P&&P.length?await f.updateSystemSettings(null===e||void 0===e?void 0:e.formData):await f.addSystemSettings(null===e||void 0===e?void 0:e.formData),"success"===(null===(t=i)||void 0===t?void 0:t.status))C({}),M([]),await f.getAllsystemSetupList().then((e=>{console.log(e.data,"result.data"),d(e.data),L(e.data),m(e.data)})),E(!0),w({severity:"success",desc:null===(n=i)||void 0===n?void 0:n.msg});else E(!0),w({severity:"error",desc:null===(s=i)||void 0===s?void 0:s.msg})}v(!1)},selectedRows:P,editForm:l})})}),(0,g.jsxs)(ee.A,{children:[(0,g.jsx)(b.A,{onClick:()=>{a(!1)},children:"Cancel"}),(0,g.jsx)(b.A,{onClick:async()=>{e.current&&await e.current.submitForm()},children:"Save"})]})]})]})},Jn=Zn,el=e=>{let{children:t}=e;const a=(0,i.zy)().pathname;return"/"===a||"/Dev"===a?(0,g.jsx)(i.C5,{to:"/calist"}):a.startsWith("/login/callback")?(0,g.jsx)(o.pG,{}):t},tl=()=>{const{oktaAuth:e,authState:t}=(0,o.rg)();(0,i.Zp)();(0,n.useEffect)((()=>{if(console.log("\ud83d\udd04 Current URL after login:",window.location.href),null!==t&&void 0!==t&&t.isAuthenticated){const e=sessionStorage.getItem("original_uwaUrl");console.log("\ud83d\udd19 Redirecting back to:",e),e&&window.location.replace(e)}}),[t]);const a=t=>{e.redirect("/")},l=e=>{console.error("Error during login callback:",e)};return(0,n.useEffect)((()=>{e.handleLoginRedirect().then(a).catch(l)}),[e]),(0,g.jsx)("div",{children:(0,g.jsx)("h4",{children:"Loading..."})})},al=[...q,...at,...vt,...Pt,...Gt,...na,...Za,...ln,...cn,...xn,...za,...On,...Nn,...Wn,...Hn,...xa,...[{path:"/systemSetup",element:(0,g.jsx)(Q,{children:(0,g.jsx)(Jn,{})})}]];function nl(){(0,n.useEffect)((()=>{console.log("\ud83e\udded [Router] Routing loaded.")}),[]);const e=[{element:(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(j,{children:(0,g.jsx)(K.A,{})})}),children:al},{path:"/",element:(0,g.jsx)(el,{})},{path:"/login/callback",element:(0,g.jsx)(tl,{})},{path:"/accessDenied",element:(0,g.jsx)(M,{})},{path:"/homepage",element:(0,g.jsx)(B,{})},{path:"*",element:(0,g.jsx)(O,{})}];return(0,i.Ye)(e)}var ll=a(63632);const sl=e=>{let{componentStack:t,error:a}=e;return null};var il=a(29215),rl=a(47290);const ol=new r.gEC(p.oidc);ol.options.transformAuthState=async(e,t)=>{console.log("\ud83d\udd0d [OKTA] transformAuthState called"),console.log("AuthState:",JSON.stringify(t,null,2))},ol.options.devMode=!0,console.log("\ud83d\udec2 Okta Auth Config:",JSON.stringify(p.oidc,null,2)),console.log("\ud83d\udd10 oktaAuth instance:",ol);const dl=()=>{const e=(0,i.Zp)();return(0,n.useEffect)((()=>{console.log("\ud83d\ude80 App mounted."),console.log("\ud83d\udd17 Current Hash:",window.location.hash),console.log("\ud83c\udf10 Current URL:",window.location.href),console.log("\ud83d\udce6 Process Env:","production");const e=setTimeout((()=>{performance.mark("FirstContentfulPaint")}),1e3);return console.log("production","process.env.NODE_ENV"),()=>clearTimeout(e)}),[]),(0,n.useEffect)((()=>{console.log("\ud83d\ude80 App mounted."),console.log("\ud83d\udd17 window.location.hash:",window.location.hash)}),[]),(0,g.jsx)(ll.tH,{FallbackComponent:sl,onReset:e=>{},children:(0,g.jsx)(s.Kq,{store:h.i,children:(0,g.jsx)(rl.Z,{children:(0,g.jsxs)(x.wF,{children:[(0,g.jsx)(x.N,{}),(0,g.jsx)(x.lZ,{children:(0,g.jsx)(o.Zn,{oktaAuth:ol,restoreOriginalUri:(t,a)=>{console.log("\u2705 [OKTA] restoreOriginalUri fired"),console.log("\u27a1\ufe0f originalUri:",a),console.log("\u27a1\ufe0f window.location.origin:",window.location.origin),e("/calist")},onAuthRequired:function(){console.warn("\u26a0\ufe0f [OKTA] onAuthRequired triggered. User is unauthenticated."),console.log("\ud83d\udd01 Redirecting to /calist (MemoryRouter safe)"),e("/calist")},children:(0,g.jsx)(il.L,{children:(0,g.jsx)(nl,{})})})})]})})})})};var cl=a(55376),ml=a(51431);let ul=null;function pl(){if(window.widget){let e=!1;window.widget.addEvent("onLoad",(()=>{e?console.warn("[index.js] \u23f3 onLoad was already executed. Ignoring duplicate trigger."):(e=!0,function(){var e,t;requirejs(["DS/PlatformAPI/PlatformAPI"],(e=>{window.PlatformAPI=e}));let a=(null===(e=window.widget)||void 0===e||null===(t=e.body)||void 0===t?void 0:t.querySelector("#root"))||document.getElementById("root");a||(a=document.createElement("div"),a.id="root",window.widget&&window.widget.body?window.widget.body.appendChild(a):document.body.appendChild(a)),ul||(ul=l.createRoot(a)),ul.render((0,g.jsx)(ml.A,{injectFirst:!0,children:(0,g.jsxs)(i.fS,{initialEntries:["/"],children:[(0,g.jsx)(cl.Ay,{}),(0,g.jsx)(dl,{})]})}))}())}))}else console.error("[index.js] \u274c Widget not detected! onLoad cannot be registered.")}},93291:(e,t,a)=>{"use strict";a.d(t,{f:()=>p});var n=a(83271),l=a(81650),s=a(56728),i=a(86213);let r=[];class o{constructor(){this.searchCA=e=>{let t={Operation:"CA-Search",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},queryParams:{searchStr:`${e.searchPattern}`,"&$top":"10",instance:"SaaS"},Requestdata:""};return i.A.post(`${n.ij}/loginLTToken/searchCA`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e}))},this.getCARelatedMco=e=>{let t={queryParams:{id:null===e||void 0===e?void 0:e.ca_id,operation:"flowDown",instance:"SaaS"}};return i.A.post(`${n.ij}/loginLTToken/caDetails`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e}))},this.searchMCO=(e,t)=>{let a={Operation:"CA-Search-flowDown",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},queryParams:{searchStr:`${e.searchPattern}`,"&$top":"10",instance:"SaaS"}};return i.A.post(`${n.ij}/loginLTToken/searchCA`,a,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e}))},this.getMCOdetailById=e=>{let t={queryParams:{ids:[{id:null===e||void 0===e?void 0:e.mco_id}],operation:"CA-Details",instance:"SaaS"}};return i.A.post(`${n.ij}/loginLTToken/caDetails`,t,{client_id:123,client_secret:456}).then((t=>{if(200===t.status)return t.data.map((t=>{t.mcoPropeties.id===(null===e||void 0===e?void 0:e.mco_id)&&r.push(t)})),r[r&&r.length-1];throw r[0]})).catch((e=>{throw e}))},this.updateMCOdetails=e=>i.A.put(`${n.w7}/productHierarchy/classify`,e,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.validationByMcoId=e=>Promise.resolve({pass:!0}),this.getItemDetailsByMcoId=e=>i.A.get(`${n.w7}/erp/item/${e}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBomDetailsByMcoId=e=>i.A.get(`${n.w7}/mco/bom/${e}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.changeStateByMcoId=(e,t,a)=>{let l={id:e,nextState:t,instance:"SaaS"};return i.A.post(`${n.ij}/loginLTToken/caMcoPromoteDemote`,l,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data[0];throw e.data})).catch((e=>e))},this.routeStart=e=>{let t={Operation:"routeStart",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},Requestdata:{data:[{id:e}]},instance:"SaaS"};return i.A.post(`${n.ij}/loginLTToken/routeStart`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw new Error("Route start failed or not initiated")})).catch((e=>{throw console.error("routeStart error:",e),e}))},this.getTaskList=e=>{let t={Operation:"taskList",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},Requestdata:{data:[{id:e}]},instance:"SaaS"};return i.A.post(`${n.ij}/loginLTToken/getTaskList`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status&&Array.isArray(e.data)&&e.data.length>0)return e.data;throw new Error("No task data found")})).catch((e=>{throw console.error("Error fetching task list:",e),e}))},this.taskApproval=e=>{let t={Operation:"taskApproval",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},Requestdata:{data:[{dataelements:{id:e,routeTaskApprovalComments:"Approve",routeTaskDueDate:"",state:"Complete",routeTaskApprovalAction:"Approve"},updateAction:"MODIFY"}]},instance:"SaaS"};return i.A.post(`${n.ij}/loginLTToken/taskApproval`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("\u274c Task Approval Error:",e),e}))},this.updateMCOData=(e,t)=>{let a={uriParams:{identifier:e,startDate:t["Start Date"],description:t.description,data:t,instance:"SaaS"}};return i.A.post(`${n.ij}/loginLTToken/caMcoModify`,a,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))},this.ApproveCAMCO=e=>{let t={uriParams:{id:e.id,type:e.type,currentStatus:e.currentStatus}};return i.A.post(`${n.ij}/loginLTToken/caMcoApprove`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))},this.getDataForClassificationyMCONames=e=>{const t=e.filter((e=>(null===e||void 0===e?void 0:e.name)&&(null===e||void 0===e?void 0:e.id)));if(0===t.length)return console.error("No valid data to send in API request!"),Promise.reject("Invalid data - No valid MCO entries.");let a={queryParams:{ids:t,operation:"CA-Details",instance:"SaaS"}};return i.A.post(`${n.ij}/loginLTToken/caDetails`,a,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data})).then((e=>{const t={};return e.forEach((e=>{var a;null!==e&&void 0!==e&&null!==(a=e.mcoPropeties)&&void 0!==a&&a.name&&(t[e.mcoPropeties.name]=e)})),t})).catch((e=>{throw e}))},this.updateMCOObjects=e=>i.A.post(`${n.w7}/mco/updateMCOObjects/mcoList`,e,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getRSMEList=()=>i.A.get(`${n.w7}/mco/getRSMEs`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getRMEList=()=>i.A.get(`${n.w7}/mco/getRMEs`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMRpartList=e=>i.A.post(`${n.w7}/mco/updateMR/partList`,e,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSpecDetailsByMcoId=e=>i.A.get(`${n.w7}/mco/getSpecDetails/${e}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMcoPropertyDetails=e=>{let t={mco_id:e,isBasics:!0};this.getMCOdetailById(t).then((e=>{if(e)return null===e||void 0===e?void 0:e.mcoPropeties})).catch((e=>{}))},this.getMRbyPartAndPlant=e=>l.A.post(`${n.Sb}/mrRelatedDetails/getMRbyPartAndPlant`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSourcePlantTemplate=e=>l.A.post(`${n.Sb}/sourceList/getSourcePlantTemplate`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBusinessUnitbyid=e=>l.A.post(`${n.Sb}/bu/getBusinessUnitbyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRRelatedDetailsbyid=e=>l.A.post(`${n.Sb}/mrRelatedDetails/getMRRelatedDetailsbyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getLifeCycleStatusByMCOName=e=>{const t=e.filter((e=>null!==e&&void 0!==e));return 0===t.length?(console.error("No valid MCO names to send in API request!"),Promise.reject("Invalid data - No valid MCO names.")):l.A.post(`${n.Sb}/status/getLifeCycleStatusByMCOName`,t,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("API Error:",e),e)))},this.getMcoDetailsByName=e=>l.A.post(`${n.Sb}/mco/getMcoDetailsByName`,e,n.YX).then((e=>{if(200===e.status)return e.data})).catch((e=>e)),this.getattributesbyid=e=>new Promise((async(t,a)=>{await l.A.post(`${n.Sb}/mco/getattributesbyid`,e,n.YX).then((e=>{200===e.status&&a(e.data),t(e.data)}))})),this.updateattributesbyid=e=>l.A.put(`${n.Sb}/mco/updateattributes`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.sendMCO=e=>l.A.post(`${n.Sb}/muleSoftServices/sendMCO`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))}}class d{constructor(){this.searchCA=e=>i.A.post(`${(()=>{var e;const t=s.i.getState();return"Cloud"===(null===t||void 0===t||null===(e=t.globalData)||void 0===e?void 0:e.instanceType)?n.yf:n.w7})()}/erp/findObjects`,e,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e})),this.getCARelatedMco=e=>i.A.get(`${n.w7}/mco/CAid/${null===e||void 0===e?void 0:e.ca_id}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e})),this.searchMCO=(e,t)=>i.A.post(`${n.w7}/erp/findMCOObjects`,e,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e})),this.searchMCO_old=e=>i.A.post(`${n.w7}/erp/findObjects`,e,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e})),this.getMCOdetailById=e=>i.A.get(`${n.w7}/productHierarchy/classes/${null===e||void 0===e?void 0:e.mco_id}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMCOdetails=e=>i.A.put(`${n.w7}/productHierarchy/classify`,e,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.validationByMcoId=e=>i.A.get(`${n.w7}/mco/validate/${e}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getItemDetailsByMcoId=e=>i.A.get(`${n.w7}/erp/item/${e}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBomDetailsByMcoId=e=>i.A.get(`${n.w7}/mco/bom/${e}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.changeStateByMcoId=(e,t,a)=>i.A.post(`${n.w7}/mco/changeState/${e}/${t}`,a,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMCOData=(e,t)=>i.A.post(`${n.w7}/mco/updateMCOData/${e}`,t,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getDataForClassificationyMCONames=e=>{let t=null===e||void 0===e?void 0:e.names;return i.A.post(`${n.w7}/mco/getDataForClassificationyMCONames/mcoList`,t,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))},this.updateMCOObjects=e=>i.A.post(`${n.w7}/mco/updateMCOObjects/mcoList`,e,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getRSMEList=()=>i.A.get(`${n.w7}/mco/getRSMEs`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getRMEList=()=>i.A.get(`${n.w7}/mco/getRMEs`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMRpartList=e=>i.A.post(`${n.w7}/mco/updateMR/partList`,e,n.W7).then((e=>{if(console.log("hey vara here===========================================",e),200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSpecDetailsByMcoId=e=>i.A.get(`${n.w7}/mco/getSpecDetails/${e}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMcoPropertyDetails=e=>i.A.get(`${n.w7}/mco/name/${e}`,n.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRbyPartAndPlant=e=>l.A.post(`${n.Sb}/mrRelatedDetails/getMRbyPartAndPlant`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSourcePlantTemplate=e=>l.A.post(`${n.Sb}/sourceList/getSourcePlantTemplate`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRRelatedDetailsbyid=e=>l.A.post(`${n.Sb}/mrRelatedDetails/getMRRelatedDetailsbyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBusinessUnitbyid=e=>l.A.post(`${n.Sb}/bu/getBusinessUnitbyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getLifeCycleStatusByMCOName=e=>l.A.post(`${n.Sb}/status/getLifeCycleStatusByMCOName`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMcoDetailsByName=e=>l.A.post(`${n.Sb}/mco/getMcoDetailsByName`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getattributesbyid=e=>l.A.post(`${n.Sb}/mco/getattributesbyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateattributesbyid=e=>l.A.put(`${n.Sb}/mco/updateattributes`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.sendMCO=e=>l.A.post(`${n.Sb}/muleSoftServices/sendMCO`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))}}var c=a(38740);let m,u;class p{constructor(){this.getInstanceDetail=()=>{switch(u=localStorage.getItem("instance"),u){case"onPrem":m=new d;break;case"SaaS":m=new o}},this.searchCA=e=>(this.getInstanceDetail(),m.searchCA(e)),this.getCARelatedMco=e=>(this.getInstanceDetail(),m.getCARelatedMco(e)),this.searchMCO=e=>(this.getInstanceDetail(),m.searchMCO(e,u)),this.getMCOdetailById=e=>(this.getInstanceDetail(),m.getMCOdetailById(e)),this.updateMCOdetails=e=>(this.getInstanceDetail(),m.updateMCOdetails(e)),this.validationByMcoId=e=>(this.getInstanceDetail(),m.validationByMcoId(e)),this.getItemDetailsByMcoId=e=>(this.getInstanceDetail(),m.getItemDetailsByMcoId(e)),this.getBomDetailsByMcoId=e=>(this.getInstanceDetail(),m.getBomDetailsByMcoId(e)),this.changeStateByMcoId=(e,t,a,n)=>(this.getInstanceDetail(),m.changeStateByMcoId(e,t,a)),this.updateMCOData=(e,t)=>(this.getInstanceDetail(),m.updateMCOData(e,t)),this.getDataForClassificationyMCONames=e=>(this.getInstanceDetail(),m.getDataForClassificationyMCONames(e)),this.updateMCOObjects=e=>(this.getInstanceDetail(),m.updateMCOObjects(e)),this.getRSMEList=()=>(this.getInstanceDetail(),m.getRSMEList()),this.getRMEList=()=>(this.getInstanceDetail(),m.getRMEList()),this.updateMRpartList=e=>(this.getInstanceDetail(),m.updateMRpartList(e)),this.getSpecDetailsByMcoId=e=>(this.getInstanceDetail(),m.getSpecDetailsByMcoId(e)),this.getMcoPropertyDetails=e=>(this.getInstanceDetail(),m.getMcoPropertyDetails(e)),this.ApproveCAMCO=e=>(this.getInstanceDetail(),m.ApproveCAMCO(e)),this.routeStart=e=>(this.getInstanceDetail(),m.routeStart(e)),this.getTaskList=e=>(this.getInstanceDetail(),m.getTaskList(e)),this.taskApproval=e=>(this.getInstanceDetail(),m.taskApproval(e)),this.getMuleToken=()=>l.A.get(`${n.Sb}/muleSoftServices/getMuleToken`,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.sendMCO=e=>(this.getInstanceDetail(),m.sendMCO(e)),this.sendAutoReleaseMCOs=e=>l.A.post(`${n.Sb}/muleSoftServices/sendAutoReleaseMCOs`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getattributesbyid=e=>l.A.post(`${n.Sb}/mco/getattributesbyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMcoDetailsByName=e=>l.A.post(`${n.Sb}/mco/getMcoDetailsByName`,e,n.YX).then((e=>{if(200===e.status)return e.data})).catch((e=>e)),this.addattributes=e=>l.A.post(`${n.Sb}/mco/addattributes`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.mcoStatusValidation=e=>l.A.post(`${n.Sb}/mco/mcoStatusValidation`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateattributesbyid=e=>(this.getInstanceDetail(),m.updateattributesbyid(e)),this.updatePartListAndAttributes=e=>l.A.put(`${n.Sb}/mco/updatePartListAndAttributes`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updatePartListAndAddAttributes=e=>l.A.put(`${n.Sb}/mco/updatePartListAndAddAttributes`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getTemplateDetails=()=>l.A.get(`${n.Sb}/template/gettemplate`,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getPlantData=e=>l.A.get(`${n.Sb}/plant/getplants`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSourceData=e=>l.A.get(`${n.Sb}/sourceList/getSource`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMappingsData=e=>l.A.get(`${n.Sb}/api/mappings`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.itemvalidationbymcoid=e=>l.A.post(`${n.Sb}/acknowledgement/itemvalidation`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.BOMvalidationbymcoid=e=>l.A.post(`${n.Sb}/acknowledgement/bomValidation`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateFinalAcksDetails=e=>l.A.put(`${n.Sb}/mco/updateFinalAcksDetails`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.callLoggingInfo=e=>l.A.post(`${n.Sb}/log/addLogInfo`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getERPStatus=e=>l.A.post(`${n.Sb}/acknowledgement/getacknowledgementByItemId`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSourcePlantTemplate=e=>(this.getInstanceDetail(),m.getSourcePlantTemplate(e)),this.mcoRuleValidation=e=>l.A.post(`${n.Sb}/item/validation`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRRelatedDetailsbyid=e=>(this.getInstanceDetail(),m.getMRRelatedDetailsbyid(e)),this.addMRRelatedDetails=e=>l.A.post(`${n.Sb}/mrRelatedDetails/addMRRelatedDetails`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMRRelatedDetails=e=>l.A.put(`${n.Sb}/mrRelatedDetails/updateMRRelatedDetails`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRbyPartAndPlant=e=>(this.getInstanceDetail(),m.getMRbyPartAndPlant(e)),this.getMRForCAbyPartAndPlant=e=>l.A.post(`${n.Sb}/mrRelatedDetails/getMRForCAbyPartAndPlant`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getChildPartDetails=e=>l.A.post(`${n.Sb}/mrRelatedDetails/getChildPartDetails`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBusinessUnitbyid=e=>(this.getInstanceDetail(),m.getBusinessUnitbyid(e)),this.getMRDetailsByPartName=e=>l.A.post(`${n.Sb}/mrRelatedDetails/getMRDetailsByPartName`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getLifeCycleStatusByMCOName=e=>(this.getInstanceDetail(),m.getLifeCycleStatusByMCOName(e)),this.updateLifeCycleStatus=e=>l.A.post(`${n.Sb}/status/updateLifeCycleStatus`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.massUpdatePartDescription=e=>l.A.post(`${n.Sb}/massUpdate/massUpdatePartDescription`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.searchSpecCreationbyKey=e=>l.A.post(`${n.Sb}/specCreation/searchSpecCreationbykeyword`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.resendSpecCreation=e=>l.A.post(`${n.Sb}/specCreation/resendSpecCreation`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.searchObsoletePartbyKey=e=>l.A.post(`${n.Sb}/obsoletePart/searchObsoletePartbykeyword`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.resendObsoletePart=e=>l.A.post(`${n.Sb}/obsoletePart/resendObsoletePart`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.bulkUploadPartAndTemplate=e=>l.A.post(`${n.Sb}/mco/bulkUploadPartAndOracleTemp`,e,n.hh).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddTemplate",e),[]))),this.downloadSampleFile=e=>{window.open(`${n.Sb}/${e}`)},this.exportMCOData=e=>l.A.post(`${n.Sb}/mco/exportMCOData`,e,n.YX).then((async e=>{if(200===e.status){const a=`${n.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,c.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const n=await t.blob(),l=URL.createObjectURL(n),s=document.createElement("a");s.href=l,s.download=e.data.filePath,s.click(),URL.revokeObjectURL(l)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportTemplate:",e),e})),this.exportTableData=e=>l.A.post(`${n.Sb}/exportData/exportTableData`,e,n.YX).then((async e=>{if(200===e.status){const a=`${n.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,c.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const n=await t.blob(),l=URL.createObjectURL(n),s=document.createElement("a");s.href=l,s.download=e.data.filePath,s.click(),URL.revokeObjectURL(l)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportTemplate:",e),e})),this.getMcoHistorybyid=e=>l.A.post(`${n.Sb}/mcoHistory/getMcoHistorybyid`,e,n.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))}}},97753:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(81637),l=a(46060),s=a(12604),i=a(92960);const r=(0,l.A)("div")((()=>({width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center","& img":{width:"auto",height:"25px"},"& .circleProgress":{position:"absolute",left:-7,right:0,top:"calc(50% - 25px)"}}))),o=()=>(0,i.jsx)(r,{children:(0,i.jsxs)(s.A,{position:"relative",children:[(0,i.jsx)("img",{src:"/assets/images/logo-circle.svg",alt:""}),(0,i.jsx)(n.A,{className:"circleProgress"})]})})},98500:(e,t,a)=>{"use strict";a.d(t,{FM:()=>l,YN:()=>s,kW:()=>n});const n=64,l=260,s=80}}]);
//# sourceMappingURL=847.a5b9e58b.chunk.js.map