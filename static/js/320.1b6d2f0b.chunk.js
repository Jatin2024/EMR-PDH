(self.webpackChunkerp_product_hub=self.webpackChunkerp_product_hub||[]).push([[320],{319:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(65043),n=a(29215);const s=()=>(0,l.useContext)(n.A)},1009:(e,t,a)=>{"use strict";a.d(t,{Qp:()=>g,SN:()=>f,T5:()=>G,Cm:()=>U,N:()=>gt,Tr:()=>H.A,_I:()=>ee,lZ:()=>ae,wF:()=>ne,Gd:()=>ot,Tn:()=>mt});var l=a(65043),n=a(34535),s=a(44208),i=a(26240),r=a(22698),o=a(35475),d=a(21803),c=a.n(d),u=a(70579);const m=(0,n.Ay)("div")((()=>({display:"flex",flexWrap:"wrap",alignItems:"center"}))),p=(0,n.Ay)("h4")((()=>({margin:0,fontSize:"16px",paddingBottom:"1px",verticalAlign:"middle",textTransform:"capitalize"}))),h=(0,n.Ay)("span")((e=>{let{theme:t}=e;return{textTransform:"capitalize",color:t.palette.text.secondary}})),x=((0,n.Ay)("h4")((e=>{let{theme:t}=e;return{margin:0,marginLeft:8,paddingBottom:"3px",color:t.palette.text.hint}})),(0,n.Ay)(s.A)((()=>({marginLeft:8,marginBottom:"4px",verticalAlign:"middle"})))),g=e=>{let{routeSegments:t}=e;const a=(0,i.A)().palette.text.hint;return(0,u.jsx)(m,{children:(0,u.jsxs)(r.A,{separator:(0,u.jsx)(s.A,{sx:{color:a},children:"navigate_next"}),sx:{display:"flex",alignItems:"center",position:"relative"},children:[(0,u.jsx)(o.NavLink,{to:"/calist",children:(0,u.jsx)(x,{color:"primary",children:"home"})}),t?t.map(((e,a)=>a!==t.length-1?(0,u.jsx)(o.NavLink,{to:e.path,children:(0,u.jsx)(h,{children:e.name},c().generate())},c().generate()):(0,u.jsx)(p,{children:e.name},c().generate()))):null]})})};var v=a(81045),A=a(81e3);const j=(0,n.Ay)(v.A)((()=>({height:"40px",width:"40px"}))),y=(0,n.Ay)("div")((e=>{let{theme:t,status:a}=e;return{height:"14px",width:"14px",bottom:"0px",right:"-3px",borderRadius:"7px",position:"absolute",border:"2px solid white",background:"online"===a?t.palette.primary.main:t.palette.error.main,color:"online"!==a&&"white !important"}})),f=e=>{let{src:t,status:a}=e;return(0,u.jsxs)(A.A,{position:"relative",children:[(0,u.jsx)(j,{src:t}),(0,u.jsx)(y,{status:a})]})};var b=a(17392),T=a(39336),E=a(15795),S=a(39787),w=a(90864),O=a.n(w),C=a(11472);const M=(0,n.Ay)("div")((()=>({height:"100%",display:"flex",flexDirection:"column",background:"#fff"}))),P=(0,n.Ay)(O())((()=>({flexGrow:1}))),D=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 12px 12px 20px",color:t.palette.primary.main,background:"#fafafa"}})),L=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{marginLeft:"12px",color:t.palette.primary.main,"& h5":{marginTop:0,fontSize:"14px",marginBottom:"3px"},"& span":{fontWeight:"500"}}})),N=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{padding:"8px",maxWidth:240,fontSize:"14px",borderRadius:"4px",marginBottom:"8px",whiteSpace:"pre-wrap",wordBreak:"break-word",color:t.palette.primary.main,background:"#fafafa"}})),I=(0,n.Ay)("span")((e=>{let{theme:t}=e;return{fontSize:"13px",fontWeight:"500",color:t.palette.primary.main}})),R=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{padding:"20px",display:"flex",justifyContent:"flex-end"}})),_=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{padding:"8px",fontSize:"14px",maxWidth:240,borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"flex-end",color:t.palette.primary.main,background:"#fafafa"}})),k=(0,n.Ay)("img")((()=>({width:"40px"}))),B=(0,n.Ay)(I)((()=>({}))),F=[],U=e=>{let{togglePopup:t}=e;const[a,n]=(0,l.useState)(!0),[r,o]=(0,l.useState)(""),[d,m]=(0,l.useState)([]),p="7863a6802ez0e277a0f98534",h=document.querySelector("#chat-scroll"),x=async()=>{setTimeout((()=>{let e={text:"Good to hear from you. enjoy!!!",contactId:"opponents contact id",avatar:"/assets/images/faces/13.jpg",name:"Frank Powell"};[...d].push(e),F.push(e),a&&m(F)}),2e3)},g=(0,l.useCallback)((()=>{h&&h.scrollTo({top:h.scrollHeight,behavior:"smooth"})}),[h]);(0,l.useEffect)((()=>{a&&m([{contactId:"323sa680b3249760ea21rt47",text:"Do you ever find yourself falling into the \u201cdiscount trap?\u201d",time:"2018-02-10T08:45:28.291Z",id:"323sa680b3249760ea21rt47",name:"Frank Powell",avatar:"/assets/images/faces/13.jpg",status:"online",mood:""},{contactId:"7863a6802ez0e277a0f98534",text:"Giving away your knowledge or product just to gain clients?",time:"2018-02-10T08:45:28.291Z",id:"7863a6802ez0e277a0f98534",name:"John Doe",avatar:"/assets/images/face-1.jpg",status:"online",mood:""},{contactId:"323sa680b3249760ea21rt47",text:"Yes",time:"2018-02-10T08:45:28.291Z",id:"323sa680b3249760ea21rt47",name:"Frank Powell",avatar:"/assets/images/faces/13.jpg",status:"online",mood:""},{contactId:"7863a6802ez0e277a0f98534",text:"Don\u2019t feel bad. It happens to a lot of us",time:"2018-02-10T08:45:28.291Z",id:"7863a6802ez0e277a0f98534",name:"John Doe",avatar:"/assets/images/face-1.jpg",status:"online",mood:""},{contactId:"323sa680b3249760ea21rt47",text:"Do you ever find yourself falling into the \u201cdiscount trap?\u201d",time:"2018-02-10T08:45:28.291Z",id:"323sa680b3249760ea21rt47",name:"Frank Powell",avatar:"/assets/images/faces/13.jpg",status:"online",mood:""},{contactId:"7863a6802ez0e277a0f98534",text:"Giving away your knowledge or product just to gain clients?",time:"2018-02-10T08:45:28.291Z",id:"7863a6802ez0e277a0f98534",name:"John Doe",avatar:"/assets/images/face-1.jpg",status:"online",mood:""},{contactId:"323sa680b3249760ea21rt47",text:"Yes",time:"2018-02-10T08:45:28.291Z",id:"323sa680b3249760ea21rt47",name:"Frank Powell",avatar:"/assets/images/faces/13.jpg",status:"online",mood:""},{contactId:"7863a6802ez0e277a0f98534",text:"Don\u2019t feel bad. It happens to a lot of us",time:"2018-02-10T08:45:28.291Z",id:"7863a6802ez0e277a0f98534",name:"John Doe",avatar:"/assets/images/face-1.jpg",status:"online",mood:""}])}),[a]),(0,l.useEffect)((()=>(g(),()=>n(!1))),[d,g]);const{palette:j}=(0,i.A)(),y=j.primary.main,w=j.text.primary;return(0,u.jsxs)(M,{children:[(0,u.jsxs)(D,{children:[(0,u.jsxs)(A.A,{display:"flex",alignItems:"center",children:[(0,u.jsx)(f,{src:"/assets/images/face-2.jpg",status:"online"}),(0,u.jsxs)(L,{children:[(0,u.jsx)(C.H5,{children:"Ryan Todd"}),(0,u.jsx)(C.L9,{children:"Active"})]})]}),(0,u.jsx)(b.A,{onClick:t,children:(0,u.jsx)(s.A,{fontSize:"small",children:"clear"})})]}),(0,u.jsxs)(P,{id:"chat-scroll",children:[d.map(((e,t)=>(0,u.jsxs)(A.A,{p:"20px",display:"flex",sx:{justifyContent:p===e.contactId&&"flex-end"},children:[p!==e.contactId&&(0,u.jsx)(v.A,{src:e.avatar}),(0,u.jsxs)(A.A,{ml:"12px",children:[p!==e.contactId&&(0,u.jsx)(C.H5,{sx:{mb:"4px",fontSize:"14px",color:y},children:e.name}),(0,u.jsx)(N,{children:e.text}),(0,u.jsx)(I,{children:"1 minute ago"})]})]},c().generate()))),(0,u.jsx)(R,{children:(0,u.jsxs)(A.A,{ml:"12px",children:[(0,u.jsxs)(_,{children:[(0,u.jsx)(k,{alt:"laptop",src:"/assets/images/laptop-1.png"}),(0,u.jsxs)(A.A,{ml:"12px",children:[(0,u.jsx)(C.H6,{sx:{mt:0,mb:"4px"},children:"Asus K555LA.png"}),(0,u.jsx)(B,{children:"21.5KB"})]})]}),(0,u.jsx)(I,{children:"1 minute ago"})]})})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(T.A,{sx:{background:`rgba(${(0,S.zs)(w)}, 0.15)`}}),(0,u.jsx)(E.A,{placeholder:"Type here ...",multiline:!0,rowsMax:4,fullWidth:!0,sx:{"& textarea":{color:y}},InputProps:{endAdornment:(0,u.jsxs)(A.A,{display:"flex",children:[(0,u.jsx)(b.A,{size:"small",children:(0,u.jsx)(s.A,{children:"tag_faces"})}),(0,u.jsx)(b.A,{size:"small",children:(0,u.jsx)(s.A,{children:"attachment"})})]}),classes:{root:"pl-5 pr-3 py-3 text-body"}},value:r,onChange:e=>o(e.target.value),onKeyUp:e=>{if("Enter"===e.key&&!e.shiftKey){let e=r.trim();if(""!==e){let t=[...d],l={text:e,contactId:p};t.push(l),F.push(l),a&&m(t),x()}o("")}}})]})]})};var W=a(98500),$=a(58387);const V=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{"& .popupOpen":{top:W.kW+16,[t.breakpoints.down("sm")]:{bottom:0}},"& .closeIcon":{position:"absolute",top:6,right:6}}})),z=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{position:"fixed",right:t.spacing(2),bottom:t.spacing(2),top:"100vh",transition:"top 250ms ease-in-out",boxShadow:t.shadows[6],borderRadius:6,zIndex:99999,width:360,overflow:"hidden","@media only screen and (max-width: 450px)":{width:"calc(100% - 32px)",left:t.spacing(2)}}})),G=e=>{let{icon:t,children:a}=e;const[n,s]=(0,l.useState)(!1),i=async()=>{s((e=>!e))};return(0,u.jsxs)(V,{children:[(0,l.cloneElement)(t,{onClick:i}),(0,u.jsx)(z,{className:(0,$.A)({popupOpen:n}),children:n?(0,l.cloneElement)(a,{togglePopup:i}):null})]})};var Y=a(11906);(0,n.Ay)("div")((()=>({width:360,padding:"32px",textAlign:"center",marginLeft:"auto",marginRight:"auto"}))),(0,n.Ay)("h4")((()=>({margin:0,marginBottom:"8px",textTransform:"capitalize"}))),(0,n.Ay)("div")((()=>({margin:"8px",paddingTop:"8px",display:"flex",justifyContent:"center"}))),(0,n.Ay)(Y.A)((e=>{let{theme:t}=e;return{margin:"8px",paddingLeft:"24px",paddingRight:"24px",overflow:"hidden",borderRadius:"300px",transition:"all 250ms","&.yesBtn":{"&:hover":{color:"#ffffff",background:`${t.palette.primary.main} !important`,backgroundColor:`${t.palette.primary.main} !important`,fallbacks:[{color:"white !important"}]}},"&.noBtn":{"&:hover":{color:"#ffffff",background:`${t.palette.secondary.main} !important`,backgroundColor:`${t.palette.secondary.main} !important`,fallbacks:[{color:"white !important"}]}}}}));a(62050),a(33004);var H=a(97753),X=a(31949);var q=a(45969),Q=a(72437),Z=a(46060),K=a(12604);const J=(0,Z.A)(K.A)((e=>{let{theme:t}=e;return{display:"inline-block",color:t.palette.text.primary,"& div:hover":{backgroundColor:t.palette.action.hover}}})),ee=e=>{const[t,a]=l.useState(null),n=l.Children.toArray(e.children);let{shouldCloseOnItemClick:s=!0,horizontalPosition:i="left"}=e;const{settings:r}=(0,X.A)(),o=()=>{a(null)};return(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(J,{onClick:e=>{a(e.currentTarget)},children:e.menuButton}),(0,u.jsx)(q.A,{theme:r.themes[r.activeTheme],children:(0,u.jsx)(Q.A,{elevation:8,getContentAnchorEl:null,anchorEl:t,open:!!t,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:i},transformOrigin:{vertical:"top",horizontal:i},children:n.map(((e,t)=>(0,u.jsx)("div",{onClick:s&&o,children:e},c().generate())))})})]})};var te=a(10611);(0,Z.A)(te.A)((()=>({borderRadius:2,background:"rgba(0, 0, 0, 0.1)"}))),(0,Z.A)("div")((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:9,width:"100%",display:"flex",alignItems:"center",height:W.kW,background:t.palette.primary.main,color:t.palette.text.primary,"&::placeholder":{color:t.palette.text.primary}}})),(0,Z.A)("input")((e=>{let{theme:t}=e;return{width:"100%",border:"none",outline:"none",fontSize:"1rem",paddingLeft:"20px",height:"calc(100% - 5px)",background:t.palette.primary.main,color:t.palette.text.primary,"&::placeholder":{color:t.palette.text.primary}}})),(0,n.Ay)("div")((e=>{let{theme:t,width:a}=e;return{zIndex:91,width:a,overflow:"hidden",position:"relative",transition:"width 250ms ease",background:t.palette.background.default,[t.breakpoints.down("sm")]:{top:0,left:0,bottom:0,position:"absolute"}}})),(0,n.Ay)("div")((()=>({zIndex:90,width:"100%",height:"100%",position:"absolute",background:"rgba(0, 0, 0, 0.74)"}))),(0,n.Ay)("div")((()=>({height:"100%",display:"flex",position:"relative"}))),(0,n.Ay)("div")((()=>({flexGrow:1,height:"100%",position:"relative"})));const ae=e=>{let{children:t}=e;return(0,u.jsx)(l.Suspense,{fallback:(0,u.jsx)(H.A,{}),children:t})};a(39451);var le=a(55376);const ne=e=>{let{children:t}=e;const{settings:a}=(0,X.A)();let l={...a.themes[a.activeTheme]};return(0,u.jsxs)(q.A,{theme:l,children:[(0,u.jsx)(le.Ay,{}),t]})};var se=a(30344),ie=a(75429),re=a(45527),oe=a(73216);const de=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{"& .expandIcon":{transition:"transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms",transform:"rotate(90deg)",color:t.palette.common.white},"& .collapseIcon":{transition:"transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms",transform:"rotate(0deg)",color:t.palette.common.white},"& .expansion-panel":{overflow:"hidden",transition:"max-height 0.3s cubic-bezier(0, 0, 0.2, 1)"},"& .highlight":{background:t.palette.primary.main},"&.compactNavItem":{width:44,overflow:"hidden",justifyContent:"center !important","& .itemText":{display:"none"},"& .itemIcon":{display:"none"}}}})),ce=(0,n.Ay)(ie.A)((e=>{let{theme:t}=e;return{height:44,width:"100%",whiteSpace:"pre",overflow:"hidden",paddingRight:"16px",borderRadius:"4px",marginBottom:"8px",display:"flex",justifyContent:"space-between !important",color:t.palette.text.primary,"&:hover":{background:"rgba(255, 255, 255, 0.08)"},"& .icon":{width:36,fontSize:"18px",paddingLeft:"16px",paddingRight:"16px",verticalAlign:"middle",color:"white"}}})),ue=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{width:4,height:4,color:"inherit",overflow:"hidden",marginLeft:"20px",marginRight:"8px",borderRadius:"300px !important",background:t.palette.primary.contrastText}})),me=(0,n.Ay)("span")((e=>{let{theme:t}=e;return{fontSize:"0.875rem",paddingLeft:"0.8rem",verticalAlign:"middle",color:t.palette.common.white}})),pe=(0,n.Ay)("div")((()=>({padding:"1px 4px",overflow:"hidden",borderRadius:"300px"}))),he=e=>{let{item:t,children:a,mode:n}=e;const[i,r]=(0,l.useState)(!0),o=(0,l.useRef)(null),d=(0,l.useRef)(0),{pathname:c}=(0,oe.zy)(),{name:m,icon:p,iconText:h,badge:x}=t,g=(0,l.useCallback)((e=>{if("child"!==e.name)for(let t of e.children)g(t);"child"===e.name?d.current+=e.scrollHeight:d.current+=44}),[]);return(0,l.useEffect)((()=>{if(o){g(o.current);for(let e of o.current.children)e.getAttribute("href")!==c&&"Search"!==m||r(!1)}}),[c,g,m]),(0,u.jsxs)(de,{children:[(0,u.jsxs)(ce,{className:(0,$.A)({"has-submenu compactNavItem":!0,compactNavItem:"compact"===n,open:!i}),onClick:e=>(e=>{var t;(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.closest(".submenu"))||(d.current=0,g(o.current),r(!i))})(e),children:[(0,u.jsxs)(K.A,{display:"flex",alignItems:"center",children:[p&&(0,u.jsx)(s.A,{className:"icon",children:p}),h&&(0,u.jsx)(ue,{}),(0,u.jsx)(me,{className:"sidenavHoverShow",children:m})]}),x&&(0,u.jsx)(pe,{className:"sidenavHoverShow itemIcon",children:x.value}),(0,u.jsx)("div",{className:(0,$.A)({sidenavHoverShow:!0,collapseIcon:i,expandIcon:!i}),children:(0,u.jsx)(s.A,{fontSize:"small",sx:{verticalAlign:"middle"},children:"chevron_right"})})]}),(0,u.jsx)("div",{ref:o,className:"expansion-panel submenu",style:i?{maxHeight:"0px"}:{maxHeight:d.current+"px"},children:a})]})},xe=l.memo(he);var ge=a(83462),ve=a(29347),Ae=a(35316),je=a(98533),ye=a(26600),fe=a(42895),be=a(83051),Te=a(62954),Ee=a(71806),Se=a(73460),we=a(28076),Oe=a(10039),Ce=a(53193),Me=a(18356),Pe=a(72221),De=a(37970),Le=a(40794),Ne=a(67254),Ie=a(40490),Re=a(319);const _e=l.forwardRef((function(e,t){return(0,u.jsx)(Ne.A,{elevation:6,ref:t,variant:"filled",...e})})),ke=(0,n.Ay)(Ee.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Be=(0,n.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),Fe=((0,n.Ay)(ge.A)((e=>{let{theme:t}=e;return{"& .MuiDialog-paper-root":{backgroundColor:"#ffffff"},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),e=>{var t,a,n,s,i,r,o,d;new fe.D;const m=new be.i,{importMassupdateFile:p,setImportMassupdateFile:h,setOpenAlert:x,setOpenDesc:g,setIsLoading:v}=e,[j,y]=(0,l.useState)(!1),[f,b]=(0,l.useState)(!1),[T,E]=(0,l.useState)(!1),[S,w]=(0,l.useState)(null),[O,C]=(0,l.useState)(null),[M,P]=(0,l.useState)(null),D=localStorage.getItem("instance"),{bussinessUnitLists:L}=(0,Re.A)(),[N,I]=(0,l.useState)(!1),[R,_]=(0,l.useState)({BU:""}),k=(e,t)=>{"clickaway"!==t&&E(!1)};(0,l.useEffect)((()=>{null===L||void 0===L||L.length}),[L]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(ge.A,{open:p,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,u.jsx)(ye.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Mass Update Part Description in Enovia and ERP"}),(0,u.jsx)(Ae.A,{children:(0,u.jsx)(je.A,{children:(0,u.jsx)(A.A,{width:"100%",overflow:"auto",children:(0,u.jsx)(ke,{children:(0,u.jsxs)(Se.A,{children:[(0,u.jsxs)(we.A,{children:[(0,u.jsx)(Oe.A,{align:"left",children:"Design Organization"}),(0,u.jsxs)(Oe.A,{align:"left",children:[(0,u.jsxs)(Ce.A,{fullWidth:!0,children:[(0,u.jsx)(Me.A,{id:"bussinessUnit",children:"Select RDO"}),(0,u.jsx)(Pe.A,{labelId:"bussinessUnit",id:"bussinessUnit",name:"BU",size:"medium",label:"Select RDO",fullWidth:!0,style:{width:"70%",maxHeight:"200px"},value:R.BU?R.BU:"",onChange:e=>{_((t=>({...t,[e.target.name]:e.target.value}))),"BU"===e.target.name&&I(!1)},children:null===L||void 0===L?void 0:L.map((e=>(0,u.jsx)(De.A,{value:e.buName,style:{backgroundColor:"#fff"},children:e.buName},e.buName)))})]}),N&&(0,u.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,u.jsxs)(we.A,{children:[(0,u.jsx)(Oe.A,{align:"left",children:"Instance"}),(0,u.jsx)(Oe.A,{align:"left",children:(0,u.jsx)(Me.A,{id:"bussinessUnit",children:D})})]}),(0,u.jsxs)(we.A,{children:[(0,u.jsx)(Oe.A,{align:"left",children:"Upload File (Excel File)"}),(0,u.jsxs)(Oe.A,{align:"left",children:[(0,u.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,u.jsxs)(Y.A,{component:"label",variant:"contained",startIcon:(0,u.jsx)(Te.A,{}),children:["Upload file",(0,u.jsx)(Be,{type:"file",name:"file",accept:".xls, .xlsx",onChange:e=>{console.log("file selected");const t=e.target.files[0];if(t){const a=t.name.split(".").pop();"xlsx"===a||"xls"===a?(w(e.target.files[0]),C(e.target.files[0].name),y(!1)):(y(!0),C(null),w(null))}else y(!0),C(null),w(null)}})]}),j&&(0,u.jsx)("p",{children:"Please Select xlsx file to Upload "})]}),O&&(0,u.jsx)("p",{children:O})]})]}),(0,u.jsx)(we.A,{children:(0,u.jsxs)(Oe.A,{colSpan:2,children:[(0,u.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,u.jsx)("a",{onClick:()=>{m.downloadSampleFile("massUpdate/sample-massUpdatepartDescription.xlsx")},download:"Example-XLSX-document",rel:"noreferrer",style:{color:"blue",cursor:"pointer"},children:"Click Here"})," to download the sample Excel template for the Part Description Update."]}),(0,u.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,u.jsx)("b",{children:"Note:"})," Use only the Excel template, downloaded from this page. Other Excel templates will not be accepted. The Excel file has four columns with Header labels in the following order. Fields mark with * are the mandatory fields in the input excel."]}),(0,u.jsxs)("div",{style:{paddingTop:"10px"},children:["Part Type*",(0,u.jsx)("br",{}),"Part Name*",(0,u.jsx)("br",{}),"Part Revision*",(0,u.jsx)("br",{}),"Part Description*",(0,u.jsx)("br",{})]})]})})]})})})})}),(0,u.jsxs)(ve.A,{children:[(0,u.jsx)(Y.A,{onClick:()=>{let e=!1;if((null===R.BU||R.BU.length<1)&&(I(!0),e=!0),(null===S||S.length<1)&&(y(!0),e=!0),!e&&null!==S){if(window.confirm("You have requested a report that will take some time to complete. This report will continue to run if you close this browser window. To access this report later, use 'Mass Update Part Description' > My Report.")){h(!1),v(!0),console.log("ok for mass update");let e={file:S,data:{BU:R.BU,Instance:D}};console.log(e,"postData"),m.massUpdatePartDescription(e).then((e=>{console.log(e,"response 11111"),b(e),E(!0),w(null),C(null),h(!1),v(!1),x(!1),"success"===(null===e||void 0===e?void 0:e.status)?(x(!0),g({severity:"success",desc:null===e||void 0===e?void 0:e.msg})):"failed"===(null===e||void 0===e?void 0:e.status)&&(x(!0),g({severity:"error",desc:null===e||void 0===e?void 0:e.msg}))}))}console.log("cancle for mass update")}},children:"Done"}),(0,u.jsx)(Y.A,{autoFocus:!0,onClick:()=>{w(null),h(!1)},children:"Cancel"})]})]}),(0,u.jsx)(Le.A,{open:T,autoHideDuration:6e3,onClose:k,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,u.jsxs)(_e,{onClose:k,severity:!f||null!==f&&void 0!==f&&null!==(t=f.errorInTemplate)&&void 0!==t&&t.length||null!==f&&void 0!==f&&null!==(a=f.errorInPlants)&&void 0!==a&&a.length?"error":"success",sx:{width:"100%"},children:[(0,u.jsx)(Ie.A,{children:!f||null!==f&&void 0!==f&&null!==(n=f.errorInTemplate)&&void 0!==n&&n.length||null!==f&&void 0!==f&&null!==(s=f.errorInPlants)&&void 0!==s&&s.length?"Error":"Success"}),f&&(null!==f&&void 0!==f&&null!==(i=f.errorInTemplate)&&void 0!==i&&i.length||null!==f&&void 0!==f&&null!==(r=f.errorInPlants)&&void 0!==r&&r.length)?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{children:[null===f||void 0===f?void 0:f.msg," ",(0,u.jsx)("br",{}),null!==f&&void 0!==f&&f.errorInTemplateCount?(0,u.jsxs)(u.Fragment,{children:["Total Template Count: ",null===f||void 0===f?void 0:f.errorInTemplateCount," ",(0,u.jsx)("br",{}),"Templates are: ",(0,u.jsx)("br",{}),(0,u.jsx)("ul",{children:null===f||void 0===f||null===(o=f.errorInTemplate)||void 0===o?void 0:o.map((e=>(0,u.jsx)("li",{children:e},c().generate())))})]}):(0,u.jsx)(u.Fragment,{}),null!==f&&void 0!==f&&f.errorInPlantCount?(0,u.jsxs)(u.Fragment,{children:["Total Plant Count: ",null===f||void 0===f?void 0:f.errorInPlantCount," ",(0,u.jsx)("br",{}),"Plants are: ",(0,u.jsx)("br",{}),(0,u.jsx)("ul",{children:null===f||void 0===f||null===(d=f.errorInPlants)||void 0===d?void 0:d.map((e=>(0,u.jsx)("li",{children:e},c().generate())))})]}):(0,u.jsx)(u.Fragment,{})]})}):(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{children:[f.msg," ",(0,u.jsx)("br",{}),"Parts Description Updated: ",f.updateTemplates," ",(0,u.jsx)("br",{})]})})]})})]})});var Ue=a(88270),We=a(57972),$e=a(74605),Ve=a(14256),ze=a(81807);const Ge=(0,n.Ay)(Ee.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Ye=e=>{new fe.D;const t=new Ue.W,{exportAllTempMapping:a,setExportAllTempMapping:n}=e,[s,i]=(0,l.useState)(null),[r,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),{bussinessUnitLists:m}=(0,Re.A)(),[p,h]=(0,l.useState)(!1),[x,g]=(0,l.useState)({BU:"",dataToExport:"masterData"}),v=e=>{g((t=>({...t,[e.target.name]:e.target.value}))),"BU"===e.target.name&&h(!1),console.info(e.target,"importSelectionValues")};return(0,l.useEffect)((()=>{null===m||void 0===m||m.length}),[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(ge.A,{open:a,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,u.jsx)(ye.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export All Template Mappings"}),(0,u.jsx)(Ae.A,{children:(0,u.jsx)(je.A,{children:(0,u.jsx)(A.A,{width:"100%",overflow:"auto",children:(0,u.jsx)(Ge,{children:(0,u.jsxs)(Se.A,{children:[(0,u.jsxs)(we.A,{children:[(0,u.jsx)(Oe.A,{align:"left",children:"Design Organization"}),(0,u.jsxs)(Oe.A,{align:"left",children:[(0,u.jsxs)(Ce.A,{fullWidth:!0,children:[(0,u.jsx)(Me.A,{id:"bussinessUnit",children:"Select RDO"}),(0,u.jsx)(Pe.A,{labelId:"bussinessUnit",id:"bussinessUnit",name:"BU",size:"medium",label:"Select RDO",fullWidth:!0,style:{width:"70%",maxHeight:"200px"},value:x.BU?x.BU:"",onChange:v,children:null===m||void 0===m?void 0:m.map((e=>(0,u.jsx)(De.A,{value:e.buName,style:{backgroundColor:"#fff"},children:e.buName},e.buName)))})]}),p&&(0,u.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,u.jsxs)(we.A,{children:[(0,u.jsx)(Oe.A,{align:"left",children:"Data to Export"}),(0,u.jsxs)(Oe.A,{align:"left",children:[(0,u.jsx)("div",{style:{paddingTop:"10px"},children:(0,u.jsx)(Ce.A,{children:(0,u.jsxs)(We.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"dataToExport",defaultValue:"masterData",onChange:v,children:[(0,u.jsx)($e.A,{value:"masterData",control:(0,u.jsx)(Ve.A,{}),label:"Master Data"}),(0,u.jsx)($e.A,{value:"draftData",control:(0,u.jsx)(Ve.A,{}),label:"Proposed Changes"})]})})}),s&&(0,u.jsx)("p",{children:s})]})]})]})})})})}),(0,u.jsxs)(ve.A,{children:[(0,u.jsx)(Y.A,{onClick:()=>{let e=!1;if((null===x.BU||x.BU.length<1)&&(h(!0),e=!0),e)return;let a={rdo:x.BU,dataToExport:x.dataToExport};console.log(a,"postData"),t.exportAllTemplateMapping(a).then((e=>{console.log(e,"response 11111"),i(null),o(!0),c({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),n(!1)}))},children:"Done"}),(0,u.jsx)(Y.A,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"})]})]}),d?(0,u.jsx)(ze.A,{openAlert:r,openDesc:d,setOpenAlert:o}):(0,u.jsx)(u.Fragment,{})]})},He=(0,n.Ay)(Ee.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Xe=e=>{new fe.D;const t=new Ue.W,{exportAllAdminGeneralPropertiesDialog:a,setExportAllAdminGeneralPropertiesDialog:n}=e,[s,i]=(0,l.useState)(null),[r,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),{bussinessUnitLists:m}=(0,Re.A)(),[p,h]=(0,l.useState)(!1),[x,g]=(0,l.useState)({BU:"",dataToExport:"masterData"}),v=e=>{g((t=>({...t,[e.target.name]:e.target.value}))),"BU"===e.target.name&&h(!1)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(ge.A,{open:a,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,u.jsx)(ye.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export All Admin General Properties"}),(0,u.jsx)(Ae.A,{children:(0,u.jsx)(je.A,{children:(0,u.jsx)(A.A,{width:"100%",overflow:"auto",children:(0,u.jsx)(He,{children:(0,u.jsxs)(Se.A,{children:[(0,u.jsxs)(we.A,{children:[(0,u.jsx)(Oe.A,{align:"left",children:"Design Organization"}),(0,u.jsxs)(Oe.A,{align:"left",children:[(0,u.jsxs)(Ce.A,{fullWidth:!0,children:[(0,u.jsx)(Me.A,{id:"bussinessUnit",children:"Select RDO"}),(0,u.jsx)(Pe.A,{labelId:"bussinessUnit",id:"bussinessUnit",name:"BU",size:"medium",label:"Select RDO",fullWidth:!0,style:{width:"70%",maxHeight:"200px"},value:x.BU?x.BU:"",onChange:v,children:null===m||void 0===m?void 0:m.map((e=>(0,u.jsx)(De.A,{value:e.buName,style:{backgroundColor:"#fff"},children:e.buName},e.buName)))})]}),p&&(0,u.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,u.jsxs)(we.A,{children:[(0,u.jsx)(Oe.A,{align:"left",children:"Data to Export"}),(0,u.jsxs)(Oe.A,{align:"left",children:[(0,u.jsx)("div",{style:{paddingTop:"10px"},children:(0,u.jsx)(Ce.A,{children:(0,u.jsxs)(We.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"dataToExport",defaultValue:"masterData",onChange:v,children:[(0,u.jsx)($e.A,{value:"masterData",control:(0,u.jsx)(Ve.A,{}),label:"Master Data"}),(0,u.jsx)($e.A,{value:"draftData",control:(0,u.jsx)(Ve.A,{}),label:"Proposed Changes"})]})})}),s&&(0,u.jsx)("p",{children:s})]})]})]})})})})}),(0,u.jsxs)(ve.A,{children:[(0,u.jsx)(Y.A,{onClick:()=>{let e=!1;if((null===x.BU||x.BU.length<1)&&(h(!0),e=!0),e)return;let a={rdo:x.BU,dataToExport:x.dataToExport};t.exportAllAdminGeneralProperties(a).then((e=>{console.log(e,"response 11111"),i(null),o(!0),c({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),n(!1)}))},children:"Done"}),(0,u.jsx)(Y.A,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"})]})]}),d?(0,u.jsx)(ze.A,{openAlert:r,openDesc:d,setOpenAlert:o}):(0,u.jsx)(u.Fragment,{})]})};var qe=a(76987),Qe=a(66578);const Ze=(0,n.Ay)(Ee.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Ke=e=>{new fe.D;const t=new Ue.W,{exportAllAdminSystemSetupsDialog:a,setExportAllAdminSystemSetupsDialog:n}=e,[s,i]=(0,l.useState)(null),[r,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),{bussinessUnitLists:m}=(0,Re.A)(),[p,h]=(0,l.useState)(!1),[x,g]=(0,l.useState)({BU:"",dataToExport:"masterData"}),v=e=>{g((t=>({...t,[e.target.name]:e.target.value}))),"BU"===e.target.name&&h(!1)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(ge.A,{open:a,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,u.jsx)(ye.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export All Admin System System"}),(0,u.jsx)(Ae.A,{children:(0,u.jsx)(je.A,{children:(0,u.jsx)(A.A,{width:"100%",overflow:"auto",children:(0,u.jsx)(Ze,{children:(0,u.jsxs)(Se.A,{children:[(0,u.jsxs)(we.A,{children:[(0,u.jsx)(Oe.A,{align:"left",children:"Design Organization"}),(0,u.jsxs)(Oe.A,{align:"left",children:[(0,u.jsxs)(Ce.A,{fullWidth:!0,children:[(0,u.jsx)(Me.A,{id:"bussinessUnit",children:"Select RDO"}),(0,u.jsx)(Pe.A,{labelId:"bussinessUnit",id:"bussinessUnit",name:"BU",size:"medium",label:"Select RDO",fullWidth:!0,style:{width:"70%",maxHeight:"200px"},value:x.BU?x.BU:"",onChange:v,children:null===m||void 0===m?void 0:m.map((e=>(0,u.jsx)(De.A,{value:e.buName,style:{backgroundColor:"#fff"},children:e.buName},e.buName)))})]}),p&&(0,u.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,u.jsxs)(we.A,{children:[(0,u.jsx)(Oe.A,{align:"left",children:"Data to Export"}),(0,u.jsxs)(Oe.A,{align:"left",children:[(0,u.jsx)("div",{style:{paddingTop:"10px"},children:(0,u.jsx)(Ce.A,{children:(0,u.jsxs)(We.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"dataToExport",defaultValue:"masterData",onChange:v,children:[(0,u.jsx)($e.A,{value:"masterData",control:(0,u.jsx)(Ve.A,{}),label:"Master Data"}),(0,u.jsx)($e.A,{value:"draftData",control:(0,u.jsx)(Ve.A,{}),label:"Proposed Changes"})]})})}),s&&(0,u.jsx)("p",{children:s})]})]})]})})})})}),(0,u.jsxs)(ve.A,{children:[(0,u.jsx)(Y.A,{onClick:()=>{let e=!1;if((null===x.BU||x.BU.length<1)&&(h(!0),e=!0),e)return;let a={rdo:x.BU,dataToExport:x.dataToExport};t.exportAllAdminSystemSetups(a).then((e=>{console.log(e,"response 11111"),i(null),o(!0),c({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),n(!1)}))},children:"Done"}),(0,u.jsx)(Y.A,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"})]})]}),d?(0,u.jsx)(ze.A,{openAlert:r,openDesc:d,setOpenAlert:o}):(0,u.jsx)(u.Fragment,{})]})},Je=(0,n.Ay)(C.fz)((e=>{let{theme:t,mode:a}=e;return{fontSize:"12px",marginTop:"20px",marginLeft:"15px",marginBottom:"10px",textTransform:"uppercase",display:"compact"===a&&"none",color:t.palette.text.secondary}})),et={display:"flex",overflow:"hidden",borderRadius:"4px",height:44,whiteSpace:"pre",marginBottom:"8px",textDecoration:"none",justifyContent:"space-between",transition:"all 150ms ease-in","&:hover":{background:"rgba(255, 255, 255, 0.08)"},"&.compactNavItem":{overflow:"hidden",justifyContent:"center !important"},"& .icon":{fontSize:"18px",paddingLeft:"16px",paddingRight:"16px",verticalAlign:"middle"}},tt=(0,n.Ay)("a")((e=>{let{theme:t}=e;return{...et,color:t.palette.text.primary}})),at=(0,n.Ay)(A.A)((e=>{let{theme:t}=e;return{"& a":{...et,color:t.palette.text.primary},"& .navItemActive":{backgroundColor:"rgba(255, 255, 255, 0.16)"}}})),lt=(0,n.Ay)(C.L9)((e=>{let{mode:t,theme:a}=e;return{fontSize:"0.875rem",paddingLeft:"0.8rem",display:"compact"===t&&"none",color:a.palette.common.white}})),nt=(0,n.Ay)(C.L9)((e=>{let{mode:t,theme:a}=e;return{fontSize:"0.875rem",paddingLeft:"0.8rem",display:"compact"===t&&"none",color:a.palette.common.white}})),st=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{padding:"2px",marginLeft:"24px",marginRight:"8px",overflow:"hidden",borderRadius:"300px",background:t.palette.common.white}})),it=(0,n.Ay)("div")((()=>({padding:"1px 8px",overflow:"hidden",borderRadius:"300px"}))),rt=e=>{let{items:t}=e;const{settings:a,updateSettings:n}=(0,X.A)(),[i,r]=(0,l.useState)(!1),{mode:d}=a.layout1Settings.leftSidebar,m=(0,re.A)(),p=(0,se.A)(m.breakpoints.down("md")),[h,x]=(0,l.useState)(!1),[g,v]=(0,l.useState)(!1),[j,y]=(0,l.useState)(!1),[f,b]=(0,l.useState)(!1),[T,E]=(0,l.useState)(null),[S,w]=(0,l.useState)(!1),O=e=>{"massUpdate"===e?x(!0):"exportAll"===e?v(!0):"exportAllAdminGeneralProperties"===e?y(!0):"exportAllAdminSystemSetups"===e&&w(!0)},C=()=>{p&&M({mode:"close"})},M=e=>{let t=a.activeLayout+"Settings",l=a[t];n({...a,[t]:{...l,leftSidebar:{...l.leftSidebar,...e}}})},P=e=>e.map(((e,t)=>"label"===e.type?(0,u.jsx)(Je,{mode:d,className:"sidenavHoverShow",children:e.label},c().generate()):e.children?(0,u.jsx)(xe,{mode:d,item:e,children:(0,u.jsx)("div",{style:{marginLeft:"20px"},children:P(e.children)})}):"extLink"===e.type?(0,u.jsx)(tt,{href:e.path,className:`${"compact"===d&&"compactNavItem"}`,rel:"noopener noreferrer",target:"_blank",children:(0,u.jsxs)(ie.A,{name:"child",sx:{width:"100%"},children:[e.icon?(0,u.jsx)(s.A,{className:"icon",children:e.icon}):(0,u.jsx)("span",{className:"item-icon icon-text",children:e.iconText}),(0,u.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,u.jsx)(A.A,{mx:"auto"}),e.badge&&(0,u.jsx)(it,{children:e.badge.value})]},e.name)},c().generate()):"popup3"===e.type?(0,u.jsx)(at,{children:void 0===e.type||"popup3"===e.type||"popup"!==e.type?(0,u.jsx)(u.Fragment,{children:"popup3"===e.type?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.NavLink,{children:(0,u.jsxs)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,u.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,u.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,u.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,u.jsx)(A.A,{mx:"auto"}),e.badge&&(0,u.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)}),(0,u.jsx)(Xe,{exportAllAdminGeneralPropertiesDialog:j,setExportAllAdminGeneralPropertiesDialog:y})]}):(0,u.jsx)(o.NavLink,{onClick:C,to:`${e.path}`,className:e=>{let{isActive:t}=e;return t?`navItemActive ${"compact"===d&&"compactNavItem"}`:`${"compact"===d&&"compactNavItem"}`},children:(0,u.jsxs)(ie.A,{name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,u.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,u.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,u.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,u.jsx)(A.A,{mx:"auto"}),e.badge&&(0,u.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(at,{children:(0,u.jsx)(o.NavLink,{children:(0,u.jsx)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,u.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name})]})},e.name)})},c().generate()),(0,u.jsx)(Fe,{importMassupdateFile:h,setImportMassupdateFile:x,setOpenAlert:b,setOpenDesc:E,setIsLoading:r}),T?(0,u.jsx)(qe.A,{openAlert:f,openDesc:T,setOpenAlert:b}):(0,u.jsx)(u.Fragment,{}),i?(0,u.jsx)("div",{className:"textAlignCenter",children:(0,u.jsx)(Qe.A,{show:i})}):(0,u.jsx)(u.Fragment,{})]})},c().generate()):"popup6"===e.type?(0,u.jsx)(at,{children:void 0===e.type||"popup6"===e.type||"popup"!==e.type?(0,u.jsx)(u.Fragment,{children:"popup6"===e.type?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.NavLink,{children:(0,u.jsxs)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,u.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,u.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,u.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,u.jsx)(A.A,{mx:"auto"}),e.badge&&(0,u.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)}),(0,u.jsx)(Ke,{exportAllAdminSystemSetupsDialog:S,setExportAllAdminSystemSetupsDialog:w})]}):(0,u.jsx)(o.NavLink,{onClick:C,to:`${e.path}`,className:e=>{let{isActive:t}=e;return t?`navItemActive ${"compact"===d&&"compactNavItem"}`:`${"compact"===d&&"compactNavItem"}`},children:(0,u.jsxs)(ie.A,{name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,u.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,u.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,u.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,u.jsx)(A.A,{mx:"auto"}),e.badge&&(0,u.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(at,{children:(0,u.jsx)(o.NavLink,{children:(0,u.jsx)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,u.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name})]})},e.name)})},c().generate()),(0,u.jsx)(Fe,{importMassupdateFile:h,setImportMassupdateFile:x,setOpenAlert:b,setOpenDesc:E,setIsLoading:r}),T?(0,u.jsx)(qe.A,{openAlert:f,openDesc:T,setOpenAlert:b}):(0,u.jsx)(u.Fragment,{}),i?(0,u.jsx)("div",{className:"textAlignCenter",children:(0,u.jsx)(Qe.A,{show:i})}):(0,u.jsx)(u.Fragment,{})]})},c().generate()):(0,u.jsx)(at,{children:void 0===e.type||"popup2"===e.type||"popup"!==e.type?(0,u.jsx)(u.Fragment,{children:"popup2"===e.type?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.NavLink,{children:(0,u.jsxs)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,u.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,u.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,u.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,u.jsx)(A.A,{mx:"auto"}),e.badge&&(0,u.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)}),(0,u.jsx)(Ye,{exportAllTempMapping:g,setExportAllTempMapping:v})]}):(0,u.jsx)(o.NavLink,{onClick:C,to:`${e.path}`,className:e=>{let{isActive:t}=e;return t?`navItemActive ${"compact"===d&&"compactNavItem"}`:`${"compact"===d&&"compactNavItem"}`},children:(0,u.jsxs)(ie.A,{name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,u.jsx)(s.A,{className:"icon",sx:{width:36},children:e.icon}):(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,u.jsx)(A.A,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,u.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,u.jsx)(A.A,{mx:"auto"}),e.badge&&(0,u.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(at,{children:(0,u.jsx)(o.NavLink,{children:(0,u.jsx)(ie.A,{onClick:()=>{O(e.path)},name:"child",sx:{width:"100%"},children:(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,u.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name})]})},e.name)})},c().generate()),(0,u.jsx)(Fe,{importMassupdateFile:h,setImportMassupdateFile:x,setOpenAlert:b,setOpenDesc:E,setIsLoading:r}),T?(0,u.jsx)(qe.A,{openAlert:f,openDesc:T,setOpenAlert:b}):(0,u.jsx)(u.Fragment,{}),i?(0,u.jsx)("div",{className:"textAlignCenter",children:(0,u.jsx)(Qe.A,{show:i})}):(0,u.jsx)(u.Fragment,{})]})},c().generate())));return(0,u.jsx)("div",{className:"navigation",children:P(t)})},ot=l.memo(rt);var dt=a(12110);const ct=(0,Z.A)(dt.A)((()=>({height:"100%",padding:"20px 24px"}))),ut=(0,Z.A)("div")((e=>{let{subtitle:t}=e;return{fontSize:"1rem",fontWeight:"500",textTransform:"capitalize",marginBottom:!t&&"16px"}})),mt=e=>{let{children:t,title:a,subtitle:l,icon:n}=e;return(0,u.jsxs)(ct,{elevation:6,children:[(0,u.jsx)(ut,{subtitle:l,children:a}),l&&(0,u.jsx)(K.A,{sx:{mb:2},children:l}),t]})};a(89420);(0,n.Ay)((e=>{let{palette:t,...a}=e;return{"@global":{".px-80":{paddingRight:"80px",paddingLeft:"80px",[a.breakpoints.down("sm")]:{paddingRight:"16px",paddingLeft:"16px"}},".px-sm-30":{padding:"0px 30px",[a.breakpoints.down("sm")]:{padding:"0px 16px"}},".p-sm-24":{padding:"24px !important",[a.breakpoints.down("sm")]:{padding:"16px !important"}},".px-sm-24":{padding:"0px 24px !important",[a.breakpoints.down("sm")]:{padding:"0px 12px !important"}},".pt-sm-24":{paddingTop:"24px !important",[a.breakpoints.down("sm")]:{paddingTop:"16px !important"}},".pl-sm-24":{paddingLeft:"24px !important",[a.breakpoints.down("sm")]:{paddingLeft:"16px !important"}},".m-auto":{margin:"auto !important"},".mx-auto":{marginLeft:"auto !important",marginRight:"auto !important"},".my-auto":{marginTop:"auto !important",marginBottom:"auto !important"},".m-sm-30":{margin:"30px",[a.breakpoints.down("sm")]:{margin:"16px"}},".mb-sm-30":{marginBottom:"30px",[a.breakpoints.down("sm")]:{marginBottom:"16px"}},".w-full":{width:"100%"},".mui-invalid":{color:"#FF3D57"},".max-w-full":{maxWidth:"100% !important"},".min-w-full":{minWidth:"100% !important"},".min-w-full-screen":{minWidth:"100vw !important"},".w-full-screen":{width:"100vw"},".min-w-600":{minWidth:"600px"},".min-w-750":{minWidth:"750px"},".min-w-1050":{minWidth:"1050px"},".max-w-450":{maxWidth:"450px"},".max-w-550":{maxWidth:"550px"},".max-h-500":{maxHeight:"500px"},".max-w-600":{maxWidth:"600px"},".max-w-770":{maxWidth:"770px"},".max-w-800":{maxWidth:"800px"},".max-w-850":{maxWidth:"850px"},".max-w-900":{maxWidth:"900px"},".max-w-1340":{maxWidth:"1340px"},".h-full":{height:"100% !important"},".min-h-full":{minHeight:"100% !important"},".h-auto":{height:"auto"},".h-full-screen":{height:"100vh"},".min-h-full-screen":{minHeight:"100vh !important"},".h-150px":{height:"150px !important"},".size-36":{height:"36px !important",width:"36px !important"},".size-24":{height:"24px !important",width:"24px !important"},...pt(0,25,.25,"rem"),...pt(1,16,1,"px"),...pt(-25,-1,.25,"rem"),...pt(-16,-1,1,"px"),...ht()}}}));const pt=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.25,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rem",l={};for(let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n<=e;n++)l[`.m-${n}${"px"===a?"px":""}`]={margin:`${n*t}${a} !important`},l[`.mt-${n}${"px"===a?"px":""}`]={marginTop:`${n*t}${a} !important`},l[`.mb-${n}${"px"===a?"px":""}`]={marginBottom:`${n*t}${a} !important`},l[`.mr-${n}${"px"===a?"px":""}`]={marginRight:`${n*t}${a} !important`},l[`.ml-${n}${"px"===a?"px":""}`]={marginLeft:`${n*t}${a} !important`},l[`.mx-${n}${"px"===a?"px":""}`]={marginLeft:`${n*t}${a} !important`,marginRight:`${n*t}${a} !important`},l[`.my-${n}${"px"===a?"px":""}`]={marginTop:`${n*t}${a} !important`,marginBottom:`${n*t}${a} !important`},l[`.p-${n}${"px"===a?"px":""}`]={padding:`${n*t}${a} !important`},l[`.pt-${n}${"px"===a?"px":""}`]={paddingTop:`${n*t}${a} !important`},l[`.pb-${n}${"px"===a?"px":""}`]={paddingBottom:`${n*t}${a} !important`},l[`.pr-${n}${"px"===a?"px":""}`]={paddingRight:`${n*t}${a} !important`},l[`.pl-${n}${"px"===a?"px":""}`]={paddingLeft:`${n*t}${a} !important`},l[`.px-${n}${"px"===a?"px":""}`]={paddingLeft:`${n*t}${a} !important`,paddingRight:`${n*t}${a} !important`},l[`.py-${n}${"px"===a?"px":""}`]={paddingTop:`${n*t}${a} !important`,paddingBottom:`${n*t}${a} !important`};return l},ht=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"px",l={};for(let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n<=e;n+=t)l[`.w-${n}`]={width:`${n}${a} !important`},l[`.min-w-${n}`]={minWidth:`${n}${a} !important`},l[`.max-w-${n}`]={maxWidth:`${n}${a} !important`},l[`.h-${n}`]={height:`${n}${a} !important`},l[`.min-h-${n}`]={minHeight:`${n}${a} !important`},l[`.max-h-${n}`]={maxHeight:`${n}${a} !important`};return l},xt=((0,n.Ay)((e=>{let{palette:t,...a}=e;return{"@global":{".circular-image-small":{height:"48px",width:"48px",borderRadius:"50%",overflow:"hidden"},".card":{transition:"all 0.3s ease"},".card:hover":{boxShadow:a.shadows[12]},".card-title":{fontSize:"1rem",textTransform:"capitalize",fontWeight:"500"},".card-subtitle":{fontSize:"0.875rem",color:"var(--text-muted)"},".theme-dark .card-subtitle":{color:"rgba(255, 255, 255, 0.54)"},".hide-on-mobile":{display:"inherit"},"@media screen and (max-width: 767px)":{".hide-on-mobile":{display:"none !important"},".show-on-mobile":{display:"inherit !important"},".invisible-on-pc":{visibility:"visible"}},"@media screen and (min-width: 1200px)":{".hide-on-pc":{display:"none !important"}},"@media screen and (max-width: 1200px)":{".show-on-pc":{display:"none !important"}},".VictoryContainer svg":{height:"100% !important"},".box-shadow-none":{boxShadow:"none !important"},".circle-44":{height:"44px !important",width:"44px !important"},".circle-32":{height:"32px !important",minHeight:"32px !important",width:"32px !important"},".circle-32 .MuiFab-root":{minHeight:"32px !important"},".circle-32 .MuiIcon-root":{fontSize:"13px !important"},".show-on-mobile":{display:"none !important"},".invisible-on-pc":{visibility:"hidden"},".highlight-js pre":{whiteSpace:"pre-line"},".cursor-pointer":{cursor:"pointer"},".cursor-move":{cursor:"move"},".avatar":{height:"32px !important",width:"32px !important"},".face-group .avatar:not(:first-child)":{marginLeft:"-0.875rem !important"},".opacity-1":{opacity:1},".datatimeInputCls":{opacity:1}}}})),e=>{let{children:t}=e;return t||null}),gt=l.memo(xt)},11472:(e,t,a)=>{"use strict";a.d(t,{H5:()=>o,H6:()=>d,L9:()=>u,fz:()=>c});var l=a(34535),n=a(81e3),s=a(58387),i=a(70579);const r=(0,l.Ay)(n.A)((e=>{let{theme:t,texttransformstyle:a,ellipsis:l}=e;return{textTransform:a||"none",whiteSpace:l?"nowrap":"normal",overflow:l?"hidden":"",textOverflow:l?"ellipsis":""}})),o=e=>{let{children:t,className:a,ellipsis:l,textTransform:n,...o}=e;return(0,i.jsx)(r,{texttransformstyle:n,ellipsis:l,className:(0,s.A)({[a||""]:!0}),component:"h5",mb:0,mt:0,fontSize:"14px",fontWeight:"500",lineHeight:"1.5",...o,children:t})},d=e=>{let{children:t,className:a,ellipsis:l,textTransform:n,...o}=e;return(0,i.jsx)(r,{texttransformstyle:n,ellipsis:l,className:(0,s.A)({[a||""]:!0}),component:"h6",mb:0,mt:0,fontSize:"13px",fontWeight:"500",lineHeight:"1.5",...o,children:t})},c=e=>{let{children:t,className:a,ellipsis:l,textTransform:n,...o}=e;return(0,i.jsx)(r,{texttransformstyle:n,ellipsis:l,className:(0,s.A)({[a||""]:!0}),component:"p",mb:0,mt:0,fontSize:"14px",...o,children:t})},u=e=>{let{children:t,className:a,ellipsis:l,textTransform:n,...o}=e;return(0,i.jsx)(r,{texttransformstyle:n,ellipsis:l,className:(0,s.A)({[a||""]:!0}),component:"span",lineHeight:"1.5",...o,children:t})}},15340:()=>{},26814:(e,t,a)=>{"use strict";a.d(t,{DT:()=>n,FY:()=>u,G2:()=>s,H1:()=>p,MV:()=>c,RY:()=>h,T2:()=>m,dH:()=>d,hv:()=>r,iZ:()=>o,sy:()=>x,ud:()=>i,xW:()=>l});new(a(93291).f);const l="GET_MCOLIST",n="GET_MCOINFO",s="GET_UPDATEMCODETAILS",i="GET_UPDATE_MCO_RELATED_VALUES",r="SET_ALL_CA_MCO_DETAILS",o="SET_UPDATED_ROUTES",d="RESET_VALUES",c=e=>({type:o,payload:e}),u=e=>async t=>{try{await t({type:l,payload:e})}catch(a){console.error(a)}},m=e=>async t=>{try{await t({type:n,payload:e})}catch(a){console.error(a)}},p=e=>async t=>{try{await t({type:s,payload:e})}catch(a){console.error(a)}},h=e=>async t=>{try{await t({type:i,payload:e})}catch(a){console.error(a)}},x=()=>async e=>{try{await e({type:d})}catch(t){console.error(t)}}},29215:(e,t,a)=>{"use strict";a.d(t,{L:()=>E,A:()=>S});var l=a(65043),n=a(60895),s=a(73216),i=a(88270),r=a(33302),o=(a(66578),a(81637)),d=a(89454),c=a(11906),u=a(34535),m=a(83462),p=a(26600),h=a(35316),x=a(29347),g=a(17392),v=a(74802),A=a(85865),j=a(70579);const y=(0,u.Ay)(m.A)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}));function f(e){let{isBUModified:t,updateBUModifiedData:a}=e;const[n,s]=l.useState(!1),i=(e,t)=>{"backdropClick"!==t&&"escapeKeyDown"!==t&&(s(!1),a())};return(0,l.useEffect)((()=>{s(t)}),[t]),(0,j.jsx)(l.Fragment,{children:(0,j.jsxs)(y,{onClose:i,"aria-labelledby":"customized-dialog-title",open:n,children:[(0,j.jsx)(p.A,{sx:{m:0,p:2},id:"customized-dialog-title",children:"Organization Credentials Updated"}),(0,j.jsx)(g.A,{"aria-label":"close",onClick:i,sx:e=>({position:"absolute",right:8,top:8,color:e.palette.grey[500]}),children:(0,j.jsx)(v.A,{})}),(0,j.jsx)(h.A,{dividers:!0,children:(0,j.jsxs)(A.A,{gutterBottom:!0,children:["The credentials for the organization have been modified. To ensure you have the latest data,",(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),'please click "Okay" to proceed.']})}),(0,j.jsx)(x.A,{children:(0,j.jsx)(c.A,{autoFocus:!0,onClick:i,children:"Okay"})})]})})}var b=a(5137);const T=(0,l.createContext)({isLoading:!1,userDetails:null,bussinessUnit:null,bussinessUnitLists:null,templatesInfo:[],allTemplatesInfo:[],mappingTemplatesInfo:[],refreshData:!0,updateBussinessUnit:()=>null,updateBussinessUnitLists:()=>null,updateTemplateLists:()=>[],updateAllTemplate:()=>[],updateMappingTemplatesInfo:()=>[],updateRefreshData:()=>null}),E=e=>{let{children:t}=e;const{authState:a,authService:c}=(0,n.rg)(),{globalBussinessUnit:u}=(0,b.d4)((e=>({globalBussinessUnit:e.globalBUandInstance.bu})),b.bN),m=new i.W,p=new r.D,h=(0,s.Zp)(),x=(0,s.zy)(),[g,v]=(0,l.useState)(null),[A,y]=(0,l.useState)(!1),[E,S]=(0,l.useState)(!1),[w,O]=(0,l.useState)(localStorage.getItem("bussinessUnit")||null),[C,M]=(0,l.useState)(!1),[P,D]=(0,l.useState)(null),[L,N]=(0,l.useState)([]),[I,R]=(0,l.useState)([]),[_,k]=(0,l.useState)([]),[B,F]=(0,l.useState)(!0),U=e=>{D(e)},W=e=>{N(e),R(e)},$=e=>{R(e),N(e)},V=e=>{k(e)},z=e=>{F(e)};return(0,l.useEffect)((()=>{g&&(null===_||void 0===_?void 0:_.length)<=1&&a&&a.isAuthenticated&&(z(!0),m.getAlltemplateMappings().then((e=>{var t,a,l,n;V(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),W(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.templateList),U(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.bulist),$(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.templateList),z(!1)}))),a&&a.isAuthenticated&&c&&c.getAccessToken().then((e=>{console.log("Access Token: ",e)}))}),[a,c,g]),(0,l.useEffect)((()=>{null!==a&&void 0!==a&&a.isAuthenticated&&!g&&(S(!0),p.validateUser().then((e=>{var t;"error"===e.status?h("/accessDenied",{state:{userInfo:null===e||void 0===e?void 0:e.data[0],NotAuthorized:!0}}):null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.length&&(v(null===e||void 0===e?void 0:e.data[0]),S(!1))})).catch((e=>{S(!1),y(!0)})))}),[a]),(0,l.useEffect)((()=>{console.log(u,"=====globalBussinessUnit");const e=e=>{var t;if(null!==x&&void 0!==x&&null!==(t=x.pathname)&&void 0!==t&&t.includes("mcodetail"))return!1;const a=localStorage.getItem("bussinessUnit");console.log(w,"===localStorageBusinessUnit"),console.log(a,"===localStorageBusinessUnit 2"),a&&a!==w&&(M(!0),console.log(a,"===localStorageBusinessUnit 3"))};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}})),(0,j.jsxs)(T.Provider,{value:{isLoading:E,userDetails:g,bussinessUnit:w,bussinessUnitLists:P,templatesInfo:L,allTemplatesInfo:I,mappingTemplatesInfo:_,refreshData:B,updateBussinessUnit:e=>{O(e)},updateBussinessUnitLists:U,updateTemplateLists:W,updateAllTemplate:$,updateMappingTemplatesInfo:V,updateRefreshData:z},children:[null!==a&&void 0!==a&&a.isAuthenticated?(0,j.jsx)(j.Fragment,{children:A?(0,j.jsx)(d.A,{}):(0,j.jsx)(j.Fragment,{children:g&&!E?t:(0,j.jsx)("div",{style:{textAlign:"center",position:"absolute",width:"100%",top:"50%"},children:(0,j.jsx)(o.A,{})})})}):t,C?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(f,{isBUModified:C,updateBUModifiedData:()=>{var e;if(null!==x&&void 0!==x&&null!==(e=x.pathname)&&void 0!==e&&e.includes("mcodetail"))window.location.reload();else{const e=localStorage.getItem("bussinessUnit");e&&O(e)}M(!1)}})}):null]})},S=T},31026:(e,t,a)=>{"use strict";a.d(t,{i:()=>g});var l=a(16096),n=a(63708),s=a(26814);const i={isPageHavingIssue:!1,stepData:"Create",RSMEList:{},RMEList:{},responseData:{itemERPStatus:[]},affectedPartsData:[],exportAffectedPartsData:[],currentMcoDetails:null,isPropertyFormEdited:!1,isMaterialFormEdited:!1,selectedRowData:{},selectedRowFormdata:{},selectedRowIndex:null,templates:[],source:[],plants:[],materialData:[],masterData:{},templateMappingsInfo:[],ORGAllowedTemplateMappings:[],previousMcosDetails:[],mrDetails:[],massUpdateChanges:{},lifeCycleData:{},systemSetingsDetail:[],eachTemplateOptions:{},bulkPartTemplates:[],caRelatedEachMCODetails:{},allCaMCODetails:{},mcoSearchLists:{},showMaterialForm:!1,parentMCODetails:{},caLifeCycleData:{}},r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.iZ:return{...e,updatedRoutes:t.payload};case s.xW:return{...t.payload};case s.DT:case s.G2:return{...e,responseData:{...e.responseData,...t.payload}};case s.ud:return{...e,...t.payload};case s.hv:return{...e,allCaMCODetails:t.payload};case s.dH:return{...i,updatedRoutes:e.updatedRoutes};default:return{...e}}};const o=(0,a(39892).h)(),d={segment:(null===o||void 0===o?void 0:o.segment)||{},instanceType:(null===o||void 0===o?void 0:o.instanceType)||{}},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return(arguments.length>1?arguments[1]:void 0).type,{...e}};var u=a(77115);const m={bu:"",instance:"",systemName:""},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;return t.type===u.T?{...e,...t.payload}:{...e}},h=(0,l.HY)({mcoDetails:r,globalData:c,globalBUandInstance:p});a(62285);const x=[n.A];const g=(0,l.y$)(h,{},(0,l.Zz)((0,l.Tw)(...x),(e=>e)))},31949:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(65043),n=a(47290);const s=()=>(0,l.useContext)(n.A)},33004:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var l=a(1009),n=a(31949),s=a(62050),i=a(70579);const r=e=>{const{settings:t}=(0,n.A)(),a=s.c[t.activeLayout];return(0,i.jsx)(l.lZ,{children:(0,i.jsx)(a,{...e})})}},33302:(e,t,a)=>{"use strict";a.d(t,{D:()=>o});var l=a(83271),n=a(81650),s=a(31026),i=a(26814),r=a(38740);class o{constructor(){this.getAllUsersList=()=>n.A.get(`${l.Sb}/users/getUsers`,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getUsers",e),[]))),this.addnewUser=e=>n.A.post(`${l.Sb}/users/addUser`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewUser",e),[]))),this.updateUser=e=>n.A.put(`${l.Sb}/users/updateUser`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateUser",e),[]))),this.deleteUser=e=>n.A.delete(`${l.Sb}/users/deleteUser`,{data:{ids:e}},l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting users:",e),e})),this.validateUser=()=>(console.log("validateUser called with URL:",`${l.Sb}/users/validateUser`),console.log("Headers being sent:",l.YX),n.A.get(`${l.Sb}/users/validateUser`,l.YX).then((e=>{if(console.log("validateUser response:",e),200===e.status)return console.log("validateUser success:",e.data),e.data;throw console.warn("validateUser unexpected status:",e.status),e.data})).catch((e=>{throw console.error("validateUser request failed:",e),s.i.dispatch((0,i.RY)({isPageHavingIssue:!0})),e}))),this.requestForAccess=e=>n.A.post(`${l.Sb}/users/requestForAccessApp`,{data:e},l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error requestForAccessApp users:",e),e})),this.importUser=e=>n.A.post(`${l.Sb}/users/bulkAddUser`,e,l.hh).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddUser",e),[]))),this.exportUser=e=>n.A.post(`${l.Sb}/users/bulkExportUser`,e,l.YX).then((async e=>{if(200===e.status){const a=`${l.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,r.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const l=await t.blob(),n=URL.createObjectURL(l),s=document.createElement("a");s.href=n,s.download=e.data.filePath.replace("downloads/",""),s.click(),URL.revokeObjectURL(n)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportTemplate:",e),e})),this.downloadSampleFile=e=>{window.open(`http://localhost:8086/users/bulkExportUser/${e}`)}}}},37576:(e,t,a)=>{"use strict";a.d(t,{Q:()=>i});var l=a(83271),n=a(81650),s=a(38740);class i{constructor(){this.getAllTemplateList=()=>n.A.get(`${l.Sb}/template/gettemplate`,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTemplateDetails",e),[]))),this.addnewTemplate=e=>n.A.post(`${l.Sb}/template/addTemplate`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.getTemplateById=e=>n.A.post(`${l.Sb}/template/getTemplateById`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTemplateById",e),[]))),this.updateTemplate=e=>n.A.put(`${l.Sb}/template/updateTemplate`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.deleteTemplate=e=>n.A.delete(`${l.Sb}/template/deleteTemplate`,{data:{ids:e}},l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting plant:",e),e})),this.importTemplate=e=>n.A.post(`${l.Sb}/template/bulkAddTemplate`,e,l.hh).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddTemplate",e),[]))),this.exportTemplate=e=>n.A.post(`${l.Sb}/newtemplateMappings/bulkExportTemplate`,e,l.YX).then((async e=>{if(200===e.status){const a=`${l.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,s.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const l=await t.blob(),n=URL.createObjectURL(l),i=document.createElement("a");i.href=n,i.download=e.data.filePath.replace("downloads/",""),i.click(),URL.revokeObjectURL(n)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportTemplate:",e),e})),this.downloadSampleFile=e=>{window.open(`${l.Sb}/${e}`)}}}},38740:(e,t,a)=>{"use strict";a.d(t,{H:()=>i});var l=a(83662),n=a.n(l),s=a(26382);const i=()=>{var e,t,a,l;const i=window.localStorage.getItem("okta-token-storage");if(!i)return console.error("Token storage item not found"),null;const r=JSON.parse(i),o=null===r||void 0===r||null===(e=r.accessToken)||void 0===e?void 0:e.accessToken,d=null===r||void 0===r||null===(t=r.accessToken)||void 0===t||null===(a=t.claims)||void 0===a?void 0:a.uid,c=null===r||void 0===r||null===(l=r.idToken)||void 0===l?void 0:l.claims;if(!o||!c)return console.error("Access token or userinfo not found in token storage item"),null;const u={exp:Math.floor(Date.now()/1e3)+3600,data:{accessToken:o,userinfo:{username:null===c||void 0===c?void 0:c.name,email:null===c||void 0===c?void 0:c.email,uid:d}}};let m=null;try{window.Buffer=s.Buffer,m=n().encode(u,"EMRPRoDucTDaTa","HS512")}catch(p){return console.error("Error encoding JWT:",p),null}return m}},39787:(e,t,a)=>{"use strict";a.d(t,{FX:()=>s,MZ:()=>n,UE:()=>r,fb:()=>i,zs:()=>l});const l=e=>{if(e.match("rgba")){return e.slice(5).split(",").slice(0,-1).join(",")}let t;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return t=e.substring(1).split(""),3===t.length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),[t>>16&255,t>>8&255,255&t].join(",")};function n(){const e=window.crypto||window.msCrypto;let t=new Uint32Array(1);e.getRandomValues(t);return t[0]}const s=e=>{let t=[],a=[];return e.map((e=>{if(e.name){const a=e.name.match(/<div>.*?<\/div>/g)||[];t=a.sort(((e,t)=>{const a=e.replace(/<div>|<\/div>/g,"").toUpperCase(),l=t.replace(/<div>|<\/div>/g,"").toUpperCase();return a.localeCompare(l)}))}if(e.MVO_TEMPLATE_TO){const t=e.MVO_TEMPLATE_TO.match(/<div>.*?<\/div>/g)||[];a=t.sort(((e,t)=>{const a=e.replace(/<div>|<\/div>/g,"").toUpperCase(),l=t.replace(/<div>|<\/div>/g,"").toUpperCase();return a.localeCompare(l)}))}return{...e,name:t.join(""),MVO_TEMPLATE_TO:a.join("")}}))};function i(e){function t(e){return{Entity:e.Entity,...Object.fromEntries(Object.entries(e).filter((e=>{let[t]=e;return"Entity"!==t})).sort(((e,t)=>e[1].localeCompare(t[1]))))}}const a=e.find((e=>"PlantGroup"===e.Entity)),l=a?t(a):null,n=e.filter((e=>"PlantGroup"!==e.Entity)).map(t).sort(((e,t)=>e.Entity.localeCompare(t.Entity)));return l?[l,...n]:n}const r=(e,t)=>e.localeCompare(t,void 0,{sensitivity:"base"})},39892:(e,t,a)=>{"use strict";a.d(t,{h:()=>l});const l=()=>{const e=window.location.pathname;let t="";if("/"===e)return{segment:e,instanceType:t};if(e.includes("login"))return{segment:"/",instanceType:t};let a=e.split("/");a=a.filter((e=>""!==e));let l="/";if(a.length>1)"Cloud"!==a[1]&&"onPrem"!==a[1]||"Dev"===a[0]&&(t=a[1],l=a[0]+"/");else if(1===a.length&&"Dev"===a[0])return{segment:"/",instanceType:t};return{segment:l,instanceType:t}}},42895:(e,t,a)=>{"use strict";a.d(t,{D:()=>s});var l=a(83271),n=a(81650);class s{constructor(){this.getAllBuList=()=>n.A.get(`${l.Sb}/bu/getBusinessUnit`,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getAllBuList",e),[]))),this.getBusinessUnitbyid=e=>n.A.post(`${l.Sb}/bu/getBusinessUnitbyid`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getBusinessUnitbyid",e),[]))),this.addnewBU=e=>n.A.post(`${l.Sb}/bu/addBusinessUnit`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewBU",e),[]))),this.updateBU=e=>n.A.put(`${l.Sb}/bu/updateBusinessUnit`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateBU",e),[]))),this.deleteBU=e=>n.A.delete(`${l.Sb}/bu/deleteBusinessUnit`,{data:{ids:e}},l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting bu:",e),e}))}}},45212:(e,t,a)=>{"use strict";a.d(t,{k:()=>s,p:()=>i});const l={primary:"rgba(52, 49, 76, 1)",secondary:"rgba(52, 49, 76, 0.54)",disabled:"rgba(52, 49, 76, 0.38)",hint:"rgba(52, 49, 76, 0.38)"},n={main:"#FF3D57"},s={whitePurple:{palette:{type:"light",primary:{main:"#ffffff",contrastText:l.primary},secondary:{main:"#7467ef",contrastText:"#ffffff"},error:n,text:l}},whiteBlue:{palette:{type:"light",primary:{main:"#ffffff",contrastText:l.primary},secondary:{main:"#1976d2",contrastText:"#ffffff"},text:l}},slateDark1:{palette:{type:"dark",primary:{main:"#005686",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:l.primary},error:n,background:{paper:"#222A45",default:"#1a2038"}}},slateDark2:{palette:{type:"dark",primary:{main:"#1a2038",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:l.primary},error:n,background:{paper:"#222A45",default:"#1a2038"}}},purple1:{palette:{type:"light",primary:{main:"#7467ef",contrastText:"#ffffff"},secondary:{light:"#f9a352",main:"#ff9e43",dark:"#ff932e",contrastText:l.primary},error:n,text:l}},purple2:{palette:{type:"light",primary:{main:"#6a75c9",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:l.primary},error:n,text:l}},purpleDark1:{palette:{type:"dark",primary:{main:"#7467ef",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:l.primary},error:n,background:{paper:"#222A45",default:"#1a2038"}}},purpleDark2:{palette:{type:"dark",primary:{main:"#6a75c9",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:l.primary},error:n,background:{paper:"#222A45",default:"#1a2038"}}},blue:{palette:{type:"light",primary:{main:"#1976d2",contrastText:"#ffffff"},secondary:{main:"#FFAF38",contrastText:l.primary},error:n,text:l}},blueDark:{palette:{type:"dark",primary:{main:"#1976d2",contrastText:"#ffffff"},secondary:{main:"#FF4F30",contrastText:l.primary},error:n,background:{paper:"#222A45",default:"#1a2038"}}},red:{palette:{type:"dark",primary:{main:"#e53935",contrastText:"#ffffff"},secondary:{main:"#FFAF38",contrastText:l.primary},error:n}}},i=["none","0px 2px 1px -1px rgba(0, 0, 0, 0.06),0px 1px 1px 0px rgba(0, 0, 0, 0.042),0px 1px 3px 0px rgba(0, 0, 0, 0.036)","0px 3px 1px -2px rgba(0, 0, 0, 0.06),0px 2px 2px 0px rgba(0, 0, 0, 0.042),0px 1px 5px 0px rgba(0, 0, 0, 0.036)","0px 3px 3px -2px rgba(0, 0, 0, 0.06),0px 3px 4px 0px rgba(0, 0, 0, 0.042),0px 1px 8px 0px rgba(0, 0, 0, 0.036)","0px 2px 4px -1px rgba(0, 0, 0, 0.06),0px 4px 5px 0px rgba(0, 0, 0, 0.042),0px 1px 10px 0px rgba(0, 0, 0, 0.036)","0px 3px 5px -1px rgba(0, 0, 0, 0.06),0px 5px 8px 0px rgba(0, 0, 0, 0.042),0px 1px 14px 0px rgba(0, 0, 0, 0.036)","0px 3px 5px -1px rgba(0, 0, 0, 0.06),0px 6px 10px 0px rgba(0, 0, 0, 0.042),0px 1px 18px 0px rgba(0, 0, 0, 0.036)","0px 4px 5px -2px rgba(0, 0, 0, 0.06),0px 7px 10px 1px rgba(0, 0, 0, 0.042),0px 2px 16px 1px rgba(0, 0, 0, 0.036)","0px 5px 5px -3px rgba(0, 0, 0, 0.06),0px 8px 10px 1px rgba(0, 0, 0, 0.042),0px 3px 14px 2px rgba(0, 0, 0, 0.036)","0px 5px 6px -3px rgba(0, 0, 0, 0.06),0px 9px 12px 1px rgba(0, 0, 0, 0.042),0px 3px 16px 2px rgba(0, 0, 0, 0.036)","0px 6px 6px -3px rgba(0, 0, 0, 0.06),0px 10px 14px 1px rgba(0, 0, 0, 0.042),0px 4px 18px 3px rgba(0, 0, 0, 0.036)","0px 6px 7px -4px rgba(0, 0, 0, 0.06),0px 11px 15px 1px rgba(0, 0, 0, 0.042),0px 4px 20px 3px rgba(0, 0, 0, 0.036)","0px 7px 8px -4px rgba(0, 0, 0, 0.06),0px 12px 17px 2px rgba(0, 0, 0, 0.042),0px 5px 22px 4px rgba(0, 0, 0, 0.036)","0px 7px 8px -4px rgba(0, 0, 0, 0.06),0px 13px 19px 2px rgba(0, 0, 0, 0.042),0px 5px 24px 4px rgba(0, 0, 0, 0.036)","0px 7px 9px -4px rgba(0, 0, 0, 0.06),0px 14px 21px 2px rgba(0, 0, 0, 0.042),0px 5px 26px 4px rgba(0, 0, 0, 0.036)","0px 8px 9px -5px rgba(0, 0, 0, 0.06),0px 15px 22px 2px rgba(0, 0, 0, 0.042),0px 6px 28px 5px rgba(0, 0, 0, 0.036)","0px 8px 10px -5px rgba(0, 0, 0, 0.06),0px 16px 24px 2px rgba(0, 0, 0, 0.042),0px 6px 30px 5px rgba(0, 0, 0, 0.036)","0px 8px 11px -5px rgba(0, 0, 0, 0.06),0px 17px 26px 2px rgba(0, 0, 0, 0.042),0px 6px 32px 5px rgba(0, 0, 0, 0.036)","0px 9px 11px -5px rgba(0, 0, 0, 0.06),0px 18px 28px 2px rgba(0, 0, 0, 0.042),0px 7px 34px 6px rgba(0, 0, 0, 0.036)","0px 9px 12px -6px rgba(0, 0, 0, 0.06),0px 19px 29px 2px rgba(0, 0, 0, 0.042),0px 7px 36px 6px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)"]},47290:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p,A:()=>h});var l=a(65043),n=a(53536),s=a(73188),i=a(45212),r=a(64851);const o={MuiTable:{styleOverrides:{root:{tableLayout:"fixed"}}},MuiTableCell:{styleOverrides:{head:{fontSize:"13px",padding:"12px 0px"},root:{fontSize:"14px",whiteSpace:"pre-wrap",wordBreak:"break-all",padding:"12px 8px 12px 0px"}}},MUIDataTableSelectCell:{styleOverrides:{root:{paddingLeft:12}}},MUIDataTableHeadCell:{styleOverrides:{root:{paddingLeft:16}}},MUIDataTableBodyCell:{styleOverrides:{root:{paddingLeft:8}}},MuiButton:{styleOverrides:{root:{fontSize:"12px",textTransform:"none",fontWeight:"400"},contained:{boxShadow:i.p[8]}}},MuiCssBaseline:{styleOverrides:{"*":{boxSizing:"border-box"},html:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",height:"100%",width:"100%"},body:{height:"100%"},a:{textDecoration:"none",color:"inherit"},"#root":{height:"100%"},"#nprogress .bar":{zIndex:"2000 !important"}}},MuiFab:{styleOverrides:{root:{boxShadow:i.p[12]}}},MuiAccordion:{styleOverrides:{root:{"&:before":{display:"none"}}}},MuiTooltip:{styleOverrides:{tooltip:{fontSize:"11px"}}},MuiMenuItem:{styleOverrides:{root:{fontSize:"0.875rem"}}},MuiExpansionPanel:{styleOverrides:{root:{"&:before":{display:"none"}}}},MuiCard:{styleOverrides:{root:{borderRadius:"8px",boxShadow:"0px 3px 3px -2px rgb(0 0 0 / 6%), 0px 3px 4px 0px rgb(0 0 0 / 4%), 0px 1px 8px 0px rgb(0 0 0 / 4%) !important"}}}},d={typography:{fontSize:14,body1:{fontSize:"14px"}},status:{danger:r.A[500]},components:{...o}};const c={activeLayout:"layout1",activeTheme:"blue",perfectScrollbar:!0,themes:function(){let e={};return(0,n.forEach)(i.k,((t,a)=>{e[a]=(0,s.A)((0,n.merge)({},d,t))})),e}(),layout1Settings:{leftSidebar:{show:!0,mode:"full",theme:"slateDark1",bgimgurl:"/assets/images/sidebar/sidebar-bg-dark.jpg"},topbar:{show:!0,fixed:!0,theme:"whiteBlue"}},secondarySidebar:{show:!0,open:!1,theme:"slateDark1"},footer:{show:!0,fixed:!1,theme:"slateDark1"}};var u=a(70579);const m=(0,l.createContext)({settings:c,updateSettings:()=>{}}),p=e=>{let{settings:t,children:a}=e;const[s,i]=(0,l.useState)(t||c),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,n.merge)({},s,e);i(t)},o=(0,l.useMemo)((()=>({settings:s,updateSettings:r})),[s]);return(0,u.jsx)(m.Provider,{value:o,children:a})},h=m},47790:()=>{},48217:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>sn});var l=a(65043),n=a(5137),s=a(31026),i=a(73216),r=(a(87070),a(1009)),o=a(70579);const d={isAuthenticated:!1,isInitialised:!1,user:null};var c=a(60895),u=a(73927);const m=()=>{const{authState:e,oktaAuth:t}=(0,c.rg)();return(0,l.useEffect)((()=>{if(e&&(null===e||void 0===e||!e.isAuthenticated)){const e=(0,u.Bcr)(window.location.href,window.location.origin);t.setOriginalUri(e),(async()=>{try{await t.signInWithRedirect()}catch(e){"AuthApiError"===e.name?console.error("Authentication failed:",e.message):console.error("An unexpected error occurred:",e)}})()}}),[t,!!e,null===e||void 0===e?void 0:e.isAuthenticated]),e&&null!==e&&void 0!==e&&e.isAuthenticated?(0,o.jsx)(i.sv,{}):null},p=e=>{let{children:t}=e;const{authState:a}=(0,c.rg)();let l=a&&a.isAuthenticated;return(0,o.jsx)(o.Fragment,{children:l?t:(0,o.jsx)(m,{})})};var h=a(34535),x=a(81e3),g=a(11906);const v=(0,h.Ay)(x.A)((()=>({display:"flex",alignItems:"center"}))),A=(0,h.Ay)(v)((()=>({maxWidth:320,flexDirection:"column",justifyContent:"center"}))),j=(0,h.Ay)("img")((()=>({width:"100%",marginBottom:"32px"}))),y=(0,h.Ay)(v)((()=>({width:"100%",alignItems:"center",justifyContent:"center",height:"100vh !important"}))),f=()=>{const e=(0,i.Zp)();return(0,o.jsx)(y,{children:(0,o.jsxs)(A,{children:[(0,o.jsx)(j,{src:"/assets/images/illustrations/404.svg",alt:""}),(0,o.jsx)(g.A,{color:"primary",variant:"contained",sx:{textTransform:"capitalize"},onClick:()=>e(-1),children:"Go Back"})]})})};var b=a(39892);const T=()=>{const e=(0,b.h)();return null!==e&&void 0!==e&&e.segment.startsWith("/")?null===e||void 0===e?void 0:e.segment:"/"+(null===e||void 0===e?void 0:e.segment)};var E=a(33302);const S={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#f8f9fa"},title:{fontSize:"2rem",color:"#333"},message:{fontSize:"1rem",color:"#666",textAlign:"center",marginTop:"10px"},button:{marginTop:"20px",padding:"10px 20px",fontSize:"1rem",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",transition:"background-color 0.3s ease",textDecoration:"none",outline:"none",":hover":{backgroundColor:"#0056b3"}}},w=()=>{var e,t,a,n,s;const r=new E.D,{authState:d,oktaAuth:u}=(0,c.rg)(),m=(0,i.Zp)(),p=(0,i.zy)(),h=void 0!==(null===(e=p.state)||void 0===e?void 0:e.userInfo)&&(null===(t=p.state)||void 0===t?void 0:t.userInfo),x=void 0!==(null===(a=p.state)||void 0===a?void 0:a.NotAuthorized)&&(null===(n=p.state)||void 0===n?void 0:n.NotAuthorized);console.log(null===(s=p.state)||void 0===s?void 0:s.NotAuthorized,"location.state?.NotAuthorized"),console.log(x,"NotAuthorized");const[v,A]=(0,l.useState)(!1),j=async()=>{try{d.isAuthenticated&&await u.signOut({postLogoutRedirectUri:window.location.origin})}catch(e){}};return(0,o.jsxs)("div",{style:S.container,children:[(0,o.jsx)("h1",{style:S.title,children:"Access Denied"}),x?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{style:S.message,children:"Sorry, you don't have permission to access the application."}),(0,o.jsx)("p",{style:S.message,children:"To access the application Please request by click on the button below."}),(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{v||r.requestForAccess({userData:h}).then((e=>{A(!0),setTimeout((()=>{j()}),2e3)}))},children:"Request Access"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{style:S.message,children:"Sorry, you don't have permission to access the page."}),(0,o.jsx)(g.A,{variant:"contained",onClick:()=>m(T()+"/calist"),children:"Go to Home"})]})]})};var O=a(72221),C=a(37970),M=a(319);function P(e){let{isdisabled:t=!1,selectedvalue:a,defaultValue:n,onChangeFunc:s,style:i={},size:r}=e;const{bussinessUnitLists:d}=(0,M.A)();return(0,l.useEffect)((()=>{n&&s(n)}),[n]),(0,o.jsx)(O.A,{disabled:t,className:"form-control",defaultValue:n,value:a,onChange:e=>s(e.target.value),style:i,size:r||"medium",displayEmpty:!0,renderValue:e=>{var t;let a=[];return a=null===d||void 0===d?void 0:d.find((t=>t.businessUnit===e)),null!==(t=a)&&void 0!==t&&t.businessUnit?a.buName:""},children:null===d||void 0===d?void 0:d.map(((e,t)=>{const a="dpKey"+t;return(0,o.jsx)(C.A,{value:e.businessUnit,children:e.buName},a)}))})}var D=a(68903),L=a(88722);const N={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#f8f9fa"},title:{fontSize:"2rem",color:"#333"},message:{fontSize:"1rem",color:"#666",textAlign:"center",marginTop:"10px"},button:{marginTop:"20px",padding:"10px 20px",fontSize:"1rem",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",transition:"background-color 0.3s ease",textDecoration:"none",outline:"none",":hover":{backgroundColor:"#0056b3"}}},I=()=>{const e=(0,n.d4)((e=>e.globalBUandInstance)),[t,a]=(0,l.useState)(""),[s,i]=(0,l.useState)("");return(0,l.useEffect)((()=>{""!==e.bu&&a(e.bu),""!==e.instanse&&i(e.instanse)}),[]),(0,o.jsxs)("div",{style:N.container,children:[(0,o.jsx)("h1",{style:N.title,children:"Select RDO and Instance"}),(0,o.jsxs)(D.Ay,{container:!0,item:!0,md:6,sm:6,xs:12,className:"font-medium",style:{backgroundColor:"lightblue",padding:"20px"},children:[(0,o.jsxs)(D.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:[(0,o.jsx)("span",{children:"Design Organization:"}),(0,o.jsx)(P,{selectedvalue:t,style:{width:"50%"},defaultValue:t||"",onChangeFunc:e=>{a(e),console.log(e,"selectedOptionValue")}})]}),(0,o.jsxs)(D.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:[(0,o.jsx)("span",{children:"Select Instance:"}),(0,o.jsx)(O.A,{labelId:"Instance",id:"Instance",name:"Instance",fullWidth:!0,style:{width:"50%"},value:s||"",onChange:e=>{const{name:t,value:a}=e.target;"Instance"===t&&i(a)},children:L.EP.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})]})]})]})};var R=a(97753);const _=e=>t=>(0,o.jsx)(l.Suspense,{fallback:(0,o.jsx)(R.A,{}),children:(0,o.jsx)(e,{...t})}),k=_((0,l.lazy)((()=>a.e(977).then(a.bind(a,7977))))),B=_((0,l.lazy)((()=>Promise.all([a.e(446),a.e(720),a.e(677),a.e(339)]).then(a.bind(a,73334))))),F=_((0,l.lazy)((()=>Promise.all([a.e(720),a.e(677),a.e(205)]).then(a.bind(a,4871))))),U=_((0,l.lazy)((()=>Promise.all([a.e(446),a.e(138),a.e(612),a.e(720),a.e(6)]).then(a.bind(a,78351))))),W=_((0,l.lazy)((()=>Promise.all([a.e(138),a.e(720),a.e(479)]).then(a.bind(a,97709))))),$=_((0,l.lazy)((()=>a.e(767).then(a.bind(a,46767))))),V=_((0,l.lazy)((()=>a.e(632).then(a.bind(a,4632))))),z=_((0,l.lazy)((()=>a.e(422).then(a.bind(a,88422))))),G=[{path:"/calist",element:(0,o.jsx)(k,{})},{path:"/caDetails/:ca_id",element:(0,o.jsx)(B,{})},{path:"/mcolist",element:(0,o.jsx)(F,{})},{path:"/mcodetail/:mco_id?",element:(0,o.jsx)(U,{})},{path:"/:mcoName/tracker",element:(0,o.jsx)(W,{})},{path:"/specCreationList",element:(0,o.jsx)($,{})},{path:"/obsoletePartList",element:(0,o.jsx)(V,{})},{path:"/myreport",element:(0,o.jsx)(z,{})}];var Y=a(33004);const H=e=>{var t;let{children:a}=e;const{userDetails:l}=(0,M.A)(),{authState:n}=(0,c.rg)();return null!==n&&void 0!==n&&n.isAuthenticated&&null!==l&&void 0!==l&&null!==(t=l.userinfo)&&void 0!==t&&t.includes("admin")?a:(0,o.jsx)(i.C5,{to:"/accessDenied"})};var X=a(35475),q=a(83462),Q=a(29347),Z=a(35316),K=a(98533),J=a(26600),ee=a(66578),te=a(15795),ae=a(77739),le=a(37576),ne=a(62954),se=a(36631),ie=a(71806),re=a(84882),oe=a(28076),de=a(10039),ce=a(18356),ue=a(82357),me=a(73460),pe=a(81807);a(83423);const he=(0,h.Ay)(ie.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),xe=(0,h.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),ge=e=>{const{allTemplatesInfo:t,updateAllTemplate:a,bussinessUnitLists:n}=(0,M.A)(),s=new le.Q,{importTemplate:i,setImportTemplate:r,setTemplateData:d,setIsLoading:c}=e,[u,m]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[v,A]=(0,l.useState)(!1),[j,y]=(0,l.useState)(!1),[f,b]=(0,l.useState)(!1),[T,E]=(0,l.useState)(!1),[S,w]=(0,l.useState)(null),[O,C]=(0,l.useState)(null),[P,D]=(0,l.useState)({ERPType:[],instance:[],BU:[]}),[N,I]=(0,l.useState)(!1),[R,_]=(0,l.useState)(null),k=(e,t)=>{console.log(e,"==values ==",t),D((a=>({...a,[e]:"BU"===e?t:t.value}))),"ERPType"===e&&m(!1),"instance"===e&&h(!1),"BU"===e&&A(!1),console.info(P,"importSelectionValues")};return(0,l.useEffect)((()=>{}),[t]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(q.A,{open:i,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Import Template"}),(0,o.jsx)(Z.A,{children:(0,o.jsx)(K.A,{children:(0,o.jsx)(x.A,{width:"100%",overflow:"auto",children:(0,o.jsxs)(he,{children:[(0,o.jsxs)(re.A,{children:[(0,o.jsxs)(oe.A,{children:[(0,o.jsx)(de.A,{align:"left",children:(0,o.jsx)(ce.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Design Organization"})}),(0,o.jsxs)(de.A,{align:"left",children:[(0,o.jsx)(ue.A,{style:{width:"70%"},multiple:!1,options:(e=>{const t=new Set;return null===n||void 0===n||n.forEach((a=>{t.add(a[e])})),Array.from(t)})("buName"),value:P.BU,onChange:(e,t)=>k("BU",t),renderValue:()=>null,renderInput:e=>(0,o.jsx)(te.A,{...e,variant:"outlined",label:"Select RDO",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!1,disableClearable:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionSelected:(e,t)=>P.BU.includes(t),ChipProps:{style:{fontSize:"8px"}}}),v&&(0,o.jsx)("p",{style:{textAlign:"left",color:"red"},children:"please select Design Organization"})]})]}),(0,o.jsxs)(oe.A,{children:[(0,o.jsx)(de.A,{align:"left",children:(0,o.jsx)(ce.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"ERP Type"})}),(0,o.jsxs)(de.A,{align:"right",children:[(0,o.jsx)(ue.A,{style:{width:"70%"},multiple:!1,options:L.sd,value:P.ERPType,onChange:(e,t)=>k("ERPType",t),renderValue:()=>null,renderInput:e=>(0,o.jsx)(te.A,{...e,variant:"outlined",label:"Select ERP Type",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!1,disableClearable:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionSelected:(e,t)=>P.ERPType.includes(t),ChipProps:{style:{fontSize:"8px"}}}),u&&(0,o.jsx)("p",{style:{textAlign:"left",color:"red"},children:"please select ERP Type"})]})]}),(0,o.jsxs)(oe.A,{children:[(0,o.jsx)(de.A,{align:"left",children:(0,o.jsx)(ce.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Instance"})}),(0,o.jsxs)(de.A,{align:"right",children:[(0,o.jsx)(ue.A,{style:{width:"70%"},multiple:!1,options:L.oX,value:P.instance,onChange:(e,t)=>k("instance",t),renderValue:()=>null,renderInput:e=>(0,o.jsx)(te.A,{...e,variant:"outlined",label:"Select Instance",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!1,disableClearable:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionSelected:(e,t)=>P.instance.includes(t),ChipProps:{style:{fontSize:"8px"}}}),p&&(0,o.jsx)("p",{style:{textAlign:"left",color:"red"},children:"please select Instance"})]})]})]}),(0,o.jsxs)(me.A,{children:[(0,o.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,o.jsxs)(g.A,{component:"label",variant:"contained",startIcon:(0,o.jsx)(ne.A,{}),children:["Upload file",(0,o.jsx)(xe,{type:"file",name:"file",accept:".xls, .xlsx",onChange:e=>{const t=e.target.files[0];if(t){const a=t.name.split(".").pop();"xlsx"===a||"xls"===a?(w(e.target.files[0]),C(e.target.files[0].name),y(!1)):(y(!0),C(null),w(null))}else y(!0),C(null),w(null)}})]}),j&&(0,o.jsx)("p",{style:{textAlign:"left",color:"red"},children:"Please Select xlsx file to Upload "})]}),O&&(0,o.jsx)("p",{children:O}),(0,o.jsx)("div",{style:{paddingTop:"10px"},children:(0,o.jsx)(g.A,{component:"label",variant:"contained",startIcon:(0,o.jsx)(se.A,{}),onClick:()=>{s.downloadSampleFile("sample-template.xlsx")},children:"Download sample file"})})]})]})})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{autoFocus:!0,onClick:()=>{D((e=>({ERPType:[],instance:[],BU:[]}))),w(null),r(!1),C(null),y(!1),m(!1),h(!1),A(!1)},children:"Cancel"}),(0,o.jsx)(g.A,{onClick:()=>{if((null===P.ERPType||P.ERPType.length<1)&&m(!0),(null===P.instance||P.instance.length<1)&&h(!0),(null===P.BU||P.BU.length<1)&&A(!0),(null===S||S.length<1)&&y(!0),P.ERPType.length>1&&P.instance.length>1&&P.BU.length>1&&null!==S){let e={file:S,data:P};c(!0),r(!1),s.importTemplate(e).then((async e=>{let t,l;b(e),e.errorCount>0?(t=(0,o.jsxs)("div",{style:{color:"red"},children:["New Template Added: ",e.newTemplateAdded," ",(0,o.jsx)("br",{}),"Template Updated: ",e.updateTemplates," ",(0,o.jsx)("br",{}),"Error in Template: ",e.errorCount," ",(0,o.jsx)("br",{})]}),l="error",I(!0),_({severity:l,desc:t}),c(!1)):(t=(0,o.jsxs)("div",{children:["Success ",(0,o.jsx)("br",{}),"New Template Added: ",e.newTemplateAdded," ",(0,o.jsx)("br",{}),"Template Updated: ",e.updateTemplates," ",(0,o.jsx)("br",{}),"Error in Template: ",e.errorCount," ",(0,o.jsx)("br",{})]}),l="success",c(!1)),I(!0),_({severity:l,desc:t}),D((e=>({ERPType:[],instance:[],BU:[]}))),w(null),C(null),await s.getAllTemplateList().then((e=>{d(e.template),a(e.template)})),c(!1)}))}},children:"Import"})]})]}),R?(0,o.jsx)(pe.A,{openAlert:N,openDesc:R,setOpenAlert:I,sx:{"& .MuiAlertTitle-root":{backgroundColor:"red"}}}):(0,o.jsx)(o.Fragment,{})]})};var ve=a(14256),Ae=a(57972),je=a(74605),ye=a(53193),fe=a(51292);const be=e=>{const t=new le.Q,[a,n]=(0,l.useState)(!1),[s,i]=(0,l.useState)((null===e||void 0===e?void 0:e.templateData)||[]),[d,c]=(0,l.useState)("allData"),[u,m]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[v,A]=(0,l.useState)(!1),[j,y]=(0,l.useState)(null);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{n(!0)},children:"Export"}),(0,o.jsxs)(q.A,{open:a,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,o.jsx)(Z.A,{children:(0,o.jsx)(K.A,{children:(0,o.jsx)(x.A,{width:"100%",overflow:"auto",children:(0,o.jsx)(r.Tn,{children:(0,o.jsx)(D.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,o.jsx)(D.Ay,{container:!0,alignItems:"center",children:(0,o.jsxs)(ye.A,{children:[(0,o.jsx)(fe.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,o.jsxs)(Ae.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:d,onChange:t=>{c(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.templateData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,o.jsx)(je.A,{value:"allData",control:(0,o.jsx)(ve.A,{}),label:"All Data"}),(0,o.jsx)(je.A,{value:"selectedData",control:(0,o.jsx)(ve.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"}),(0,o.jsx)(g.A,{onClick:()=>{n(!1),console.log(null===e||void 0===e?void 0:e.filterTemplateData,"filterTemplateData");let a=("allData"!==d?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.templateData)||[],l=null===a||void 0===a?void 0:a.map((e=>({"Template Name":e.templateName,Description:e.desc,"ERP Type":e.ERPType,Instance:e.instance,"Design Organization":Array.isArray(null===e||void 0===e?void 0:e.BU)&&(null===e||void 0===e?void 0:e.BU.length)>0?null===e||void 0===e?void 0:e.BU.join(", "):null})));t.exportTemplate({data:l,sheet_name:"Template"}).then((e=>{h(e),m(!0),A(!0),y({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),j?(0,o.jsx)(pe.A,{openAlert:v,openDesc:j,setOpenAlert:A}):(0,o.jsx)(o.Fragment,{})]})};var Te=a(91048);a(30588);const Ee=e=>t=>{let{data:a=[],sortInfo:l={},initialData:n=[],...s}=t;const i=((e,t)=>{if(!Array.isArray(e))return[];if(!t||!t.id)return n;const a=t.id||t.name||t.columnName,l=1===t.dir?1:-1;return[...e].sort(((e,t)=>{const n=String(e[a]||"").toLowerCase(),s=String(t[a]||"").toLowerCase();return n<s?-l:n>s?l:0}))})(a,l);return(0,o.jsx)(e,{data:i,sortInfo:l,...s})};var Se=a(50195);const we=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Oe=()=>{let e=(0,i.zy)().state;const{updateAllTemplate:t}=(0,M.A)(),a=new le.Q,[n,s]=(0,l.useState)(!1),[d,c]=(0,l.useState)(!1),[u,m]=(0,l.useState)([]),[p,h]=(0,l.useState)([]),[v,A]=(0,l.useState)(),[j,y]=(0,l.useState)(""),[f,b]=(0,l.useState)([]),[T,E]=(0,l.useState)(!1),[S,w]=(0,l.useState)(null),[O,C]=(0,l.useState)({}),[P,L]=(0,l.useState)({}),[N,I]=(0,l.useState)([]),R=(0,l.useRef)(null),_=R&&R.current&&R.current.dataMap?R.current.dataMap:null,[k,B]=(0,l.useState)(!0),F=(0,Se.t$)(f,"templateName"),U=(0,l.useCallback)((e=>{let{selected:t}=e;L(t)}),[]);(0,l.useEffect)((()=>{B(!0),a.getAllTemplateList().then((e=>{m(e.template),h(e.template),b(e.template),t(e.template)})).finally((()=>{B(!1)}))}),[]),(0,l.useEffect)((()=>{b(u)}),[u]),(0,l.useEffect)((()=>{var t,a,l;null!==(t=e)&&void 0!==t&&t.status&&(E(!0),w({severity:null===(a=e)||void 0===a?void 0:a.status,desc:null===(l=e)||void 0===l?void 0:l.message}));e={},window.onbeforeunload=()=>{window.history.replaceState({},document.title)}}),[e]);const W=(0,i.Zp)(),$=(0,l.useRef)("initialValue"),V=e=>{$.current="edit";const t=e;setTimeout((()=>{W(`/editTemplate/${null===t||void 0===t?void 0:t.id}`,{state:{templateMode:$.current,selectedTempalteData:t}})}),200)},z=e=>{s(!0),A(e)};(0,l.useEffect)((()=>{const e=!0===P?_:P,t=e&&Object.keys(e).map((t=>e[t]));I(t)}),[P,_]),(0,l.useEffect)((()=>{if(u){const e=u.filter((e=>{var t,a,l;return""===j||(null===e||void 0===e||null===(t=e.templateName)||void 0===t?void 0:t.toLowerCase().includes(j.toLowerCase()))||e.desc.toLowerCase().includes(j.toLowerCase())||(null===(a=e.plants)||void 0===a?void 0:a.some((e=>e.plantName.toLowerCase().includes(j.toLowerCase()))))||(null===(l=e.BU)||void 0===l?void 0:l.some((e=>e.toLowerCase().includes(j.toLowerCase()))))||e.instance.toLowerCase().includes(j.toLowerCase())||e.ERPType.toLowerCase().includes(j.toLowerCase())}));b(e)}}),[j,u]);const G=e=>{C(e);const t=Ee(Oe)({data:u,sortInfo:e,onSortInfoChange:G,initialData:p});m(t.props.data)};return(0,o.jsxs)(we,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Template"}]})}),(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(te.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;y(t)},value:j,style:{width:"100%"}})}),(0,o.jsxs)(D.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{},children:"Search"}),(0,o.jsx)("div",{style:{flex:1}}),(0,o.jsx)(g.A,{variant:"contained",component:X.Link,onClick:()=>{$.current="create",setTimeout((()=>{W("/createTemplate")}),200)},style:{marginRight:"10px"},children:"Create"}),(0,o.jsx)(g.A,{variant:"contained",disabled:1!==(null===N||void 0===N?void 0:N.length),onClick:()=>{V(N[0])},style:{margin:"0 10px 0 0px"},children:"Edit"}),(0,o.jsx)(g.A,{variant:"contained",disabled:null===N||void 0===N||!N.length,onClick:()=>{z(N[0]),s(!0)},style:{margin:"0 10px 0 0px"},children:"Delete"}),(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{c(!0)},style:{marginRight:"10px"},children:"Import"}),(0,o.jsx)(be,{templateData:u,filterTemplateData:N})]}),(0,o.jsxs)(x.A,{width:"100%",overflow:"auto",children:[(0,o.jsx)("br",{}),(0,o.jsx)(Te.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:[{name:"templateName",header:(0,o.jsx)(ae.A,{title:"Name",children:"Template Name"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.templateName})}},{name:"desc",header:(0,o.jsx)(ae.A,{title:"Description",children:"Description"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.desc})}},{name:"ERPType",header:(0,o.jsx)(ae.A,{title:"ERP Type",children:"ERP Type"}),defaultFlex:1,defaultWidth:50},{name:"instance",header:(0,o.jsx)(ae.A,{title:"Instance",children:"Instance"}),defaultFlex:1,defaultWidth:50},{name:"BU",header:(0,o.jsx)(ae.A,{title:"Design Organization",children:"Design Organization"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null!==t&&void 0!==t&&t.BU?t.BU.sort().map((e=>e)).join(", "):""})}}],dataSource:F,checkboxColumn:!0,selected:P,onSelectionChange:U,handle:e=>R.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===R||void 0===R||null===(e=R.current)||void 0===e?void 0:e.setScrollTop(0==(null===N||void 0===N?void 0:N.length)?0:null===R||void 0===R||null===(t=R.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:G})]})]})}),(0,o.jsxs)(q.A,{open:n,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete template"}),(0,o.jsx)(Z.A,{children:1===N.length?(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(K.A,{children:["Do you want to delete the template"," ",(0,o.jsx)("b",{children:null===v||void 0===v?void 0:v.templateName})," with instance"," ",(0,o.jsx)("b",{children:null===v||void 0===v?void 0:v.instance})]})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(K.A,{children:"Do you want to delete the seleted templates?"})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{autoFocus:!0,onClick:()=>{A(null),s(!1)},children:"Cancel"}),(0,o.jsx)(g.A,{onClick:async()=>{s(!1);try{B(!0);const e=null===N||void 0===N?void 0:N.map((e=>null===e||void 0===e?void 0:e.id));await a.deleteTemplate(e).then((async e=>{E(!0),w({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),L({}),I([]),await a.getAllTemplateList().then((e=>{m(e.template),h(e.template),b(e.template),t(e.template)}))}))}catch(e){return e}finally{B(!1)}},children:"delete"})]})]}),(0,o.jsx)(ge,{importTemplate:d,setImportTemplate:c,setTemplateData:m,setIsLoading:B}),S?(0,o.jsx)(pe.A,{openAlert:T,openDesc:S,setOpenAlert:E}):(0,o.jsx)(o.Fragment,{}),k?(0,o.jsx)("div",{style:{textAlign:"center"},children:(0,o.jsx)(ee.A,{show:k})}):(0,o.jsx)(o.Fragment,{})]})},Ce=Oe,Me=()=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(Ce,{})});var Pe=a(63336),De=a(17392),Le=a(95540),Ne=a(63471),Ie=a(40794),Re=a(67254),_e=a(83271),ke=a(81650);class Be{constructor(){this.getAllPlantsList=()=>ke.A.get(`${_e.Sb}/plant/getplants`,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getAllPlantsList",e),[]))),this.getPlantById=e=>ke.A.post(`${_e.Sb}/plant/getPlantById`,e,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getPlantById",e),[]))),this.addnewPlant=e=>ke.A.post(`${_e.Sb}/plant/addPlant`,e,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.updatePlant=e=>ke.A.put(`${_e.Sb}/plant/updatePlant`,e,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.deletePlant=e=>ke.A.delete(`${_e.Sb}/plant/deletePlant`,{data:{ids:e}},_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting plant:",e),e}))}}const Fe=e=>{let{open:t,handleDialogClose:a,tempObject:l,handleAttributeChange:n,handleAddAttribute:s,newKey:i,newValue:r,handleAddRow:d,handleDeleteRow:c,keyerror:u,attributeForm:m,valuesInputList:p}=e;return(0,o.jsxs)(q.A,{open:t,children:[(0,o.jsx)(J.A,{children:null===m?"Add Attribute":"Edit Attribute"}),(0,o.jsx)(Z.A,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsx)("span",{children:"Name:"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"name",value:l.name||"",onChange:n,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsx)("span",{children:"Mandatory: "})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(ye.A,{children:(0,o.jsxs)(Ae.A,{row:!0,value:l.mandatory||"YES","aria-labelledby":"demo-row-radio-buttons-group-label",name:"mandatory",onChange:n,children:[(0,o.jsx)(je.A,{value:"Y",control:(0,o.jsx)(ve.A,{}),label:"Yes"}),(0,o.jsx)(je.A,{value:"N",control:(0,o.jsx)(ve.A,{}),label:"No"})]})})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Material master:"," "]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(ye.A,{children:(0,o.jsxs)(Ae.A,{row:!0,value:l.material_master||"Y","aria-labelledby":"demo-row-radio-buttons-group-label",name:"material_master",onChange:n,children:[(0,o.jsx)(je.A,{value:"Y",control:(0,o.jsx)(ve.A,{}),label:"Yes"}),(0,o.jsx)(je.A,{value:"N",control:(0,o.jsx)(ve.A,{}),label:"No"})]})})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsx)("span",{children:"Data type: "})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{labelId:"DataType-label",id:"DataType-select",name:"dataType",fullWidth:!0,value:l.dataType||"",onChange:n,children:[{value:"int",label:"int"},{value:"string",label:"string"},{value:"long",label:"long"},{value:"bool",label:"bool"}].map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.value},e.value)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsx)("span",{children:"Input Type: "})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{labelId:"InputType-label",id:"InputType-select",name:"inputType",fullWidth:!0,value:l.inputType||"",onChange:n,children:[{value:"text",label:"text"},{value:"select",label:"select"}].map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),"select"===l.inputType&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsx)("span",{children:"Values: "})}),(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,o.jsxs)(D.Ay,{container:!0,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,xs:3,style:{marginLeft:"3px"},children:(0,o.jsx)(te.A,{name:"newKey",label:"value",value:i,variant:"outlined",fullWidth:!0,margin:"normal",onChange:n})}),"\xa0 \xa0",(0,o.jsx)(D.Ay,{item:!0,xs:3,children:(0,o.jsx)(te.A,{name:"newValue",label:"display value",value:r,variant:"outlined",fullWidth:!0,margin:"normal",onChange:n})}),"\xa0 \xa0",(0,o.jsx)(D.Ay,{item:!0,xs:3,children:(0,o.jsx)(g.A,{style:{fontSize:"30px",marginTop:"6px"},onClick:d,children:(0,o.jsx)("b",{children:"+"})})})]}),(0,o.jsx)("p",{style:{color:"red"},children:u}),(0,o.jsx)("div",{style:{height:"100px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",alignContent:"center"},children:p.map(((e,t)=>(0,o.jsx)(Pe.A,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,o.jsxs)(D.Ay,{container:!0,alignItems:"center",style:{marginLeft:"2px"},children:[(0,o.jsx)(D.Ay,{item:!0,xs:6,children:(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:e.key}),":",(0,o.jsx)("b",{children:e.value})]})}),(0,o.jsx)(D.Ay,{item:!0,xs:2,children:(0,o.jsx)(De.A,{onClick:()=>c(t),children:(0,o.jsx)(Ne.A,{})})})]})},t)))})]})]}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsx)("span",{children:"Default values: "})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"defaultValues",value:l.defaultValues||"",onChange:n,fullWidth:!0,margin:"normal"})})]})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:a,children:"Cancel"}),(0,o.jsx)(g.A,{onClick:s,children:null===m?"Add":"Update"})]})]})};var Ue=a(39787),We=a(21803),$e=a.n(We);const Ve=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),ze=l.forwardRef((function(e,t){return(0,o.jsx)(Re.A,{elevation:6,ref:t,variant:"filled",...e})})),Ge=(0,h.Ay)({spanRed:{color:"#FF3D57"}}),Ye={name:null,mandatory:null,material_master:null,dataType:null,inputType:null,values:null,defaultValues:null};function He(){const e=new le.Q,{bussinessUnitLists:t}=(0,M.A)(),a=new Be,[n,s]=(0,l.useState)(),[d,c]=(0,l.useState)({exportToERP:"Y",existInOracle:"N",notOwningDivision:"Y"}),u=Ge();let m=(0,i.Zp)();const[p,h]=(0,l.useState)(!1),[v,A]=(0,l.useState)(),[j,y]=(0,l.useState)(),[f,b]=(0,l.useState)(!1),[T,E]=(0,l.useState)([]),[S,w]=(0,l.useState)(null),[P,N]=(0,l.useState)({}),[I,R]=(0,l.useState)([]),[_,k]=(0,l.useState)(""),[B,F]=(0,l.useState)(""),[U,W]=(0,l.useState)(""),[$,V]=(0,l.useState)([]),[z,G]=(0,l.useState)([]),[Y,H]=(0,l.useState)(!1),[X,q]=(0,l.useState)(null);(0,l.useEffect)((()=>{a.getAllPlantsList().then((e=>{s(e)}))}),[]);const Q=e=>{const{name:t,value:a}=e.target;let l={};if("ERPtype"===t)l={...d,plantId:null,plants:null,url:null,username:null,port:null,authkey:null,material_master:null,SalesOrg:null,ECN_required:null,bomusage:null,[t]:a};else if("plant"===t){const{id:e,plantName:t,material_master:n,SalesOrg:s,ECN_required:i,bomusage:r,ConnectivityDetails:o}=a,{url:c,username:u,password:m,port:p,authkey:h}=o;l={...d,plantId:e,plantName:t,SalesOrg:s,url:c,material_master:n,username:u,password:m,port:p,authkey:h,ECN_required:i,bomusage:r}}else l={...d,[t]:a};c(l)},Z=(null===n||void 0===n||n.filter((e=>e.ERPType===d.ERPType&&e.instance===d.instance)),(e,t)=>{H(!0),q({severity:t,desc:e})}),K=(e,t)=>{"clickaway"!==t&&h(!1)};(0,Se.t$)(t,"businessUnit");return(0,o.jsxs)(Ve,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Create Template"}]})}),(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,o.jsxs)("form",{children:[(0,o.jsx)("h4",{children:"Create Template"}),(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsxs)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,o.jsx)("span",{children:"Template Name"})," ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"templateName",value:d.templateName,onChange:Q,onBlur:e=>{const{name:t,value:a}=e.target,l=a.trim().replace(/\s+/g," ");c((e=>({...e,[t]:l})))},fullWidth:!0,margin:"normal"})}),(0,o.jsxs)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,o.jsx)("span",{children:"Description"})," ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"desc",value:d.desc,onChange:Q,fullWidth:!0,margin:"normal"})}),(0,o.jsxs)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,o.jsx)("span",{children:"ERP Type "})," ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:d.ERPType,onChange:Q,children:L.sd.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),("SAP"===d.ERPType||"ORACLE"===d.ERPType)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,o.jsx)("span",{children:"Instance"})," ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"instance",name:"instance",fullWidth:!0,displayEmpty:!0,value:d.instance,onChange:Q,children:L.oX.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})})]}),("ORACLE"===d.ERPType||"SAP"===d.ERPType)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Design Organization ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{style:{width:"100%"},multiple:!0,name:"BU",value:$.sort(Ue.UE),onChange:e=>((e,t)=>{const a=e.target.value;if("BU"===t)V(a);else if("plants"===t){const e=n.filter((e=>a.includes(e.plantName))).map((e=>({plantName:e.plantName,id:e.id})));G(e)}})(e,"BU"),renderValue:e=>e.sort(Ue.UE).join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:t.map((e=>(0,o.jsx)(C.A,{value:e.businessUnit,children:e.businessUnit},e.businessUnit)))})})]}),"SAP"===d.ERPType&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Attributes"})}),(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{w(null),b(!0),N({name:"",mandatory:"",material_master:"",dataType:"",inputType:"",defaultValues:""}),R([])},children:"Add Attribute"})}),(0,o.jsx)("br",{}),"\xa0",(0,o.jsx)(D.Ay,{md:4,children:(0,o.jsx)("span",{children:(0,o.jsx)("div",{style:{height:"154px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",width:"500px"},children:T.map(((e,t)=>(0,o.jsx)(Pe.A,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"46px"},children:(0,o.jsx)(D.Ay,{container:!0,alignItems:"center",spacing:3,children:(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"Name:"})," ",e.name,(0,o.jsx)(De.A,{onClick:()=>(e=>{if(e>=0&&e<T.length){var t;w(e),b(!0),N({...T[e]});const a=null===(t=T[e])||void 0===t?void 0:t.values[0],l=Object.entries(a||{}).map((e=>{let[t,a]=e;return{key:t,value:a}}));R(l)}})(t),children:(0,o.jsx)(Le.A,{})}),(0,o.jsx)(De.A,{onClick:()=>{return e=t,void E((t=>{const a=[...t];return a.splice(e,1),a}));var e},children:(0,o.jsx)(Ne.A,{})})]})})})},t)))})})})]})]})]}),(0,o.jsx)("br",{}),(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:async()=>{var t,a,l;const n=Math.floor(1e5+9e5*(0,Ue.MZ)());if(""===(null===(t=d.templateName)||void 0===t?void 0:t.trim())||!d.templateName||""===(null===(a=d.desc)||void 0===a?void 0:a.trim())||!d.desc||""===(null===(l=d.ERPType)||void 0===l?void 0:l.trim())||!d.ERPType||"SAP"===d.ERPType&&!d.instance)return void Z("Please fill the required details","error");const s={...d,id:n.toString(),attributes:T,BU:$,plants:z};e.addnewTemplate(s).then((e=>{var t;if(e&&null!==(t=Object.keys(e))&&void 0!==t&&t.length&&"failed"===(null===e||void 0===e?void 0:e.status)){var a;const t=null===e||void 0===e||null===(a=e.message)||void 0===a?void 0:a.map((e=>(0,o.jsx)("li",{children:e},$e().generate())));Z(t,"error")}else setTimeout((()=>{m("/template",{state:{message:"Template added successfully",status:"success"}})}),200)}))},children:"Submit"})})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{m(-1)}),200)},children:"Cancel"})})})]})]}),(0,o.jsx)(Ie.A,{open:p,autoHideDuration:3e3,onClose:K,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,o.jsx)(ze,{onClose:K,severity:j,sx:{width:"100%"},children:v})}),X?(0,o.jsx)(pe.A,{openAlert:Y,openDesc:X,setOpenAlert:H}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)(Fe,{open:f,handleDialogClose:()=>{b(!1)},attributeForm:S,tempObject:P,handleAttributeChange:e=>{const{name:t,value:a}=e.target;"newKey"===t?k(a):"newValue"===t?F(a):N((e=>({...e,[t]:a})))},handleAddAttribute:()=>{const e={...P,values:I.reduce(((e,t)=>(e[t.key]=t.value,e)),{})};if(""===e.material_master&&(e.material_master="Y"),""===e.mandatory&&(e.mandatory="Y"),Object.keys(e.values).length&&(e.values=[e.values]),null!==S){const t=[...T];t[S]=e,E(t)}else E((t=>[...t,e]));b(!1),N(Ye),R([]),w(null)},newKey:_,newValue:B,handleAddRow:()=>{const e=I.some((e=>e.key===_)),t=I.some((e=>e.value===B));e||t?W("The key or value already exists"):(R((e=>[...e,{key:_,value:B}])),k(""),F(""),W(""))},handleDeleteRow:e=>{R((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:U,valuesInputList:I})]})})]})}const Xe=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),qe=l.forwardRef((function(e,t){return(0,o.jsx)(Re.A,{elevation:6,ref:t,variant:"filled",...e})})),Qe=(0,h.Ay)({spanRed:{color:"#FF3D57"}}),Ze={name:null,mandatory:null,material_master:null,dataType:null,inputType:null,values:null,defaultValues:null};function Ke(){const e=new le.Q,{refreshData:t,bussinessUnitLists:a}=(0,M.A)(),n=new Be,[s,d]=(0,l.useState)(),c=Qe(),[u,m]=(0,l.useState)(!1),[p,h]=(0,l.useState)(),[v,A]=(0,l.useState)(),[j,y]=(0,l.useState)(!1),[f,b]=(0,l.useState)(null),[T,E]=(0,l.useState)({}),[S,w]=(0,l.useState)([]),[P,N]=(0,l.useState)(""),[I,R]=(0,l.useState)(""),[_,k]=(0,l.useState)(""),[B,F]=(0,l.useState)(!1),[U,W]=(0,l.useState)(null),[$,V]=(0,l.useState)(!0);let z=(0,i.Zp)();(0,i.zy)();const G=(0,i.g)(),[Y,H]=(0,l.useState)(),[X,q]=(0,l.useState)({}),[Q,Z]=(0,l.useState)([]),[K,J]=(0,l.useState)([]),[ae,ne]=(0,l.useState)([]);(0,l.useEffect)((()=>{n.getAllPlantsList().then((e=>{d(e)}))}),[]);const se=e=>{const{name:t,value:a}=e.target;let l={};if("ERPtype"===t)l={...X,plantId:null,plants:null,url:null,username:null,port:null,authkey:null,material_master:null,SalesOrg:null,ECN_required:null,bomusage:null,BU:null,[t]:a};else if("plant"===t){const{id:e,plantName:t,material_master:n,ECN_required:s,bomusage:i,SalesOrg:r,ConnectivityDetails:o}=a,{url:d,username:c,password:u,port:m,authkey:p}=o;l={...X,plantId:e,plantName:t,ECN_required:s,bomusage:i,SalesOrg:r,url:d,material_master:n,username:c,password:u,port:m,authkey:p}}else l={...X,[t]:a};q(l)},ie=(null===s||void 0===s||s.filter((e=>e.ERPType===X.ERPType&&e.instance===X.instance)),(e,t)=>{F(!0),W({severity:t,desc:e})}),re=(e,t)=>{"clickaway"!==t&&m(!1)};return(0,l.useEffect)((()=>{null!==G&&void 0!==G&&G.tempId?(V(!0),e.getTemplateById({id:null===G||void 0===G?void 0:G.tempId}).then((e=>{var t;if(V(!1),e&&null!==Object&&void 0!==Object&&null!==(t=Object.keys(e))&&void 0!==t&&t.length){const t=e;H(t),J(t.BU),Z(t.attributes),ne(t.plants),q({id:t.id,templates:t.templates,templateName:t.templateName,desc:t.desc,ERPType:t.ERPType,instance:t.instance,plantId:t.plantId,plantName:t.plantName,port:t.port,url:t.url,username:t.username,attributes:t.attributes,ECN_required:t.ECN_required,bomusage:t.bomusage,BU:t.BU})}else z("/template",{state:{message:"Template not found!",status:"error"}})}))):setTimeout((()=>{z("/template",{state:{message:"Template not found!",status:"error"}})}),200)}),[]),(0,Se.t$)(a,"businessUnit"),(0,o.jsxs)(Xe,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Edit Template"}]})}),(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,o.jsxs)("form",{children:[(0,o.jsx)("h4",{children:"Edit Template"}),(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsxs)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,o.jsx)("span",{children:"Template Name"}),(0,o.jsx)("span",{className:c.spanRed,children:"*"})]}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"templateName",value:X.templateName,onChange:se,fullWidth:!0,margin:"normal",disabled:!0})}),(0,o.jsxs)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,o.jsx)("span",{children:"Description"}),(0,o.jsx)("span",{className:c.spanRed,children:"*"})]}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"desc",value:X.desc,onChange:se,fullWidth:!0,margin:"normal"})}),("SAP"===X.ERPType||"ORACLE"===X.ERPType)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,o.jsx)("span",{children:"ERP Type "}),(0,o.jsx)("span",{className:c.spanRed,children:"*"})]}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:null===X||void 0===X?void 0:X.ERPType,onChange:se,children:null===L.sd||void 0===L.sd?void 0:L.sd.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),(0,o.jsxs)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,o.jsx)("span",{children:"Instance"}),(0,o.jsx)("span",{className:c.spanRed,children:"*"})]}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{label:"instance",id:"instance",name:"instance",fullWidth:!0,displayEmpty:!0,value:X.instance,onChange:se,children:null===L.oX||void 0===L.oX?void 0:L.oX.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})})]}),("ORACLE"===X.ERPType||"SAP"===X.ERPType)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Design Organization ",(0,o.jsx)("span",{className:c.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{style:{width:"100%"},multiple:!0,name:"BU",value:K.sort(Ue.UE),onChange:e=>((e,t)=>{const a=e.target.value;if("BU"===t)J(a);else if("plants"===t){const e=null===s||void 0===s?void 0:s.filter((e=>a.includes(e.plantName))),t=null===e||void 0===e?void 0:e.map((e=>({plantName:e.plantName,id:e.id})));ne(t)}})(e,"BU"),renderValue:e=>e.sort(Ue.UE).join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===a||void 0===a?void 0:a.map((e=>(0,o.jsx)(C.A,{value:e.businessUnit,children:e.businessUnit},e.businessUnit)))})})]}),"SAP"===X.ERPType&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Attributes"})}),(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{b(null),y(!0),E({name:"",mandatory:"",material_master:"",dataType:"",inputType:"",defaultValues:""}),w([])},children:"Add Attribute"})}),(0,o.jsx)("br",{}),"\xa0",(0,o.jsx)(D.Ay,{md:4,children:(0,o.jsx)("span",{children:(0,o.jsx)("div",{style:{height:"154px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",width:"500px"},children:null===Q||void 0===Q?void 0:Q.map(((e,t)=>(0,o.jsx)(Pe.A,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"46px"},children:(0,o.jsx)(D.Ay,{container:!0,alignItems:"center",spacing:3,children:(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"Name:"})," ",e.name,(0,o.jsx)(De.A,{onClick:()=>(e=>{if(e>=0&&e<Q.length){var t,a;b(e),y(!0);const l={...Q[e]},n=null===(t=Q[e])||void 0===t?void 0:t.values[0],s=null===(a=Object.entries(n||{}))||void 0===a?void 0:a.map((e=>{let[t,a]=e;return{key:t,value:a}}));w(s),E(l)}})(t),children:(0,o.jsx)(Le.A,{})}),(0,o.jsx)(De.A,{onClick:()=>(e=>{if(e>=0&&e<Q.length){const t=[...Q];t.splice(e,1),Z(t)}})(t),children:(0,o.jsx)(Ne.A,{})})]})})})},t)))})})})]})]}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:async()=>{var t,a,l;""!==(null===(t=X.templateName)||void 0===t?void 0:t.trim())&&X.templateName&&""!==(null===(a=X.desc)||void 0===a?void 0:a.trim())&&X.desc&&""!==(null===(l=X.ERPType)||void 0===l?void 0:l.trim())&&X.ERPType&&("SAP"!==X.ERPType||X.instance)?q((t=>{const a={...t,id:X.id,templates:X.templates,attributes:Q,BU:K,plants:ae};return e.updateTemplate(a).then((e=>{var t;if(e&&null!==(t=Object.keys(e))&&void 0!==t&&t.length&&"failed"===(null===e||void 0===e?void 0:e.status)){var a;const t=null===e||void 0===e||null===(a=e.message)||void 0===a?void 0:a.map((e=>(0,o.jsx)("li",{children:e},$e().generate())));ie(t,"error")}else setTimeout((()=>{z("/template",{state:{message:e.msg,status:e.status}})}),200)})),a})):ie("Please fill the required details","error")},children:"Update"})})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{z(-1)}),200)},children:"Cancel"})})})]})]}),(0,o.jsx)(Ie.A,{open:u,autoHideDuration:3e3,onClose:re,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,o.jsx)(qe,{onClose:re,severity:v,sx:{width:"100%"},children:p})}),U?(0,o.jsx)(pe.A,{openAlert:B,openDesc:U,setOpenAlert:F}):(0,o.jsx)(o.Fragment,{}),t||$?(0,o.jsx)("div",{style:{textAlign:"center"},children:(0,o.jsx)(ee.A,{show:!0})}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)(Fe,{open:j,handleDialogClose:()=>{y(!1)},attributeForm:f,tempObject:T,handleAttributeChange:e=>{const{name:t,value:a}=e.target;"newKey"===t?N(a):"newValue"===t?R(a):E((e=>({...e,[t]:a})))},handleAddAttribute:()=>{const e={...T,values:S.reduce(((e,t)=>(e[t.key]=t.value,e)),{})};if(""===e.material_master&&(e.material_master=Y),""===e.mandatory&&(e.mandatory="Y"),Object.keys(e.values).length&&(e.values=[e.values]),null!==f){const t=[...Q];t[f]=e,Z(t)}else if(Q)Z((t=>[...t,e]));else{Z([e])}y(!1),E(Ze),w([]),b(null)},newKey:P,newValue:I,handleAddRow:()=>{const e=S.some((e=>e.key===P)),t=S.some((e=>e.value===I));e||t?k("The key or value already exists"):(w((e=>[...e,{key:P,value:I}])),N(""),R(""),k(""))},handleDeleteRow:e=>{w((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:_,valuesInputList:S})]})})]})}const Je=[{path:"/template",element:(0,o.jsx)(H,{children:(0,o.jsx)(Me,{})})},{path:"/createTemplate",exact:!0,element:(0,o.jsx)(H,{children:(0,o.jsx)(He,{})})},{path:"/editTemplate/:tempId",exact:!0,element:(0,o.jsx)(H,{children:(0,o.jsx)(Ke,{})})}],et={sa:["SA"],admin:["SA","ADMIN"],editor:["SA","ADMIN","EDITOR"],guest:["SA","ADMIN","EDITOR","GUEST"]};var tt=a(81637);const at=e=>{const t=new le.Q,[a,n]=(0,l.useState)(!1),[s,i]=(0,l.useState)((null===e||void 0===e?void 0:e.plantData)||[]),[d,c]=(0,l.useState)("allData"),[u,m]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[v,A]=(0,l.useState)(!1),[j,y]=(0,l.useState)(null);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{n(!0)},children:"Export"}),(0,o.jsxs)(q.A,{open:a,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,o.jsx)(Z.A,{children:(0,o.jsx)(K.A,{children:(0,o.jsx)(x.A,{width:"100%",overflow:"auto",children:(0,o.jsx)(r.Tn,{children:(0,o.jsx)(D.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,o.jsx)(D.Ay,{container:!0,alignItems:"center",children:(0,o.jsxs)(ye.A,{children:[(0,o.jsx)(fe.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,o.jsxs)(Ae.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:d,onChange:t=>{c(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.plantData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,o.jsx)(je.A,{value:"allData",control:(0,o.jsx)(ve.A,{}),label:"All Data"}),(0,o.jsx)(je.A,{value:"selectedData",control:(0,o.jsx)(ve.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"}),(0,o.jsx)(g.A,{onClick:()=>{n(!1);let a=("allData"!==d?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.plantData)||[],l=null===a||void 0===a?void 0:a.map((e=>({"Plant Name":e.plantName,"ERP Type":e.ERPType,Instance:e.instance,"Export To ERP":e.exportToERP})));t.exportTemplate({data:l,sheet_name:"Plants"}).then((e=>{h(e),m(!0),A(!0),y({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),j?(0,o.jsx)(pe.A,{openAlert:v,openDesc:j,setOpenAlert:A}):(0,o.jsx)(o.Fragment,{})]})},lt=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),nt=()=>{const e=new Be,[t,a]=(0,l.useState)(!1),[n,s]=(0,l.useState)(""),[d,c]=(0,l.useState)([]),[u,m]=(0,l.useState)([]),[p,h]=(0,l.useState)(),[v,A]=(0,l.useState)(!1),[j,y]=(0,l.useState)(null),[f,b]=(0,l.useState)({}),[T,E]=(0,l.useState)({}),[S,w]=(0,l.useState)([]),O=(0,l.useRef)(null),C=O&&O.current&&O.current.dataMap?O.current.dataMap:null,M=(0,l.useCallback)((e=>{let{selected:t}=e;E(t)}),[]),[P,L]=(0,l.useState)(!0);(0,l.useEffect)((()=>{L(!0),e.getAllPlantsList().then((e=>{c(e),m(e),I(e)})).finally((()=>{L(!1)}))}),[]);const[N,I]=(0,l.useState)([]);let R=(0,Se.t$)([...N],"plantName");(0,l.useEffect)((()=>{I(d)}),[d]);const _=(0,i.Zp)(),k=(0,l.useRef)("initialValue"),B=e=>{a(!0),h(e)},F=e=>{k.current="edit";const t=e;setTimeout((()=>{_(`/editPlant/${null===t||void 0===t?void 0:t.id}`,{state:{plantMode:k.current,selectedPlantData:t}})}),200)},U=(e,t)=>{A(!0),y({severity:t,desc:e})};(0,l.useEffect)((()=>{const e=!0===T?C:T,t=e&&Object.keys(e).map((t=>e[t]));w(t)}),[T,C]),(0,l.useEffect)((()=>{const e=d.filter((e=>""===n||e.plantName.toLowerCase().includes(n.toLowerCase())||e.instance.toLowerCase().includes(n.toLowerCase())||e.ERPType.toLowerCase().includes(n.toLowerCase())));I(e)}),[n,d]);const W=e=>{b(e);const t=Ee(nt)({data:d,sortInfo:e,sortedPlanteData:R,onSortInfoChange:W,initialData:u});c(t.props.data),I(t.props.data)};return(0,o.jsxs)(lt,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Plant"}]})}),(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(te.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;s(t)},value:n,style:{width:"100%"}})}),(0,o.jsxs)(D.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{},children:"Search"}),(0,o.jsx)("div",{style:{flex:1}}),(0,o.jsx)(g.A,{variant:"contained",component:X.Link,onClick:()=>{k.current="create",setTimeout((()=>{_("/createPlant",{state:{plantMode:k.current}})}),200)},children:"Create"}),(0,o.jsx)(g.A,{variant:"contained",disabled:1!==(null===S||void 0===S?void 0:S.length),onClick:()=>{F(S[0])},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,o.jsx)(g.A,{variant:"contained",disabled:null===S||void 0===S||!S.length,onClick:()=>{B(S[0]),a(!0)},style:{margin:"0 10px"},children:"Delete"}),(0,o.jsx)(at,{plantData:f&&0===Object.keys(f).length?R:d,filterTemplateData:S})]}),(0,o.jsxs)(x.A,{width:"100%",overflow:"auto",children:[(0,o.jsx)("br",{}),P?(0,o.jsx)(x.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:550},children:(0,o.jsx)(tt.A,{})}):(0,o.jsx)(Te.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:[{name:"plantName",header:(0,o.jsx)(ae.A,{title:"Name",children:"Plant Name"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.plantName})}},{name:"ERPType",header:(0,o.jsx)(ae.A,{title:"ERP Type",children:"ERP Type"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.ERPType})}},{name:"instance",header:(0,o.jsx)(ae.A,{title:"instance",children:"Instance"}),defaultFlex:1,defaultWidth:50},{name:"exportToERP",header:(0,o.jsx)(ae.A,{title:"Export To ERP",children:"Export To ERP"}),defaultFlex:1,defaultWidth:50}],dataSource:null===f?N:R,checkboxColumn:!0,selected:T,onSelectionChange:M,handle:e=>O.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===O||void 0===O||null===(e=O.current)||void 0===e?void 0:e.setScrollTop(0==(null===S||void 0===S?void 0:S.length)?0:null===O||void 0===O||null===(t=O.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:W})]})]})}),j?(0,o.jsx)(pe.A,{openAlert:v,openDesc:j,setOpenAlert:A}):(0,o.jsx)(o.Fragment,{}),(0,o.jsxs)(q.A,{open:t,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Plant"}),(0,o.jsx)(Z.A,{children:1===S.length?(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(K.A,{children:["Do you want to delete the plant ",(0,o.jsx)("b",{children:null===p||void 0===p?void 0:p.plantName})," ","with instance ",(0,o.jsx)("b",{children:null===p||void 0===p?void 0:p.instance})," having Design Organizations"," "]})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(K.A,{children:"Do you want to delete the seleted plants?"})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{autoFocus:!0,onClick:()=>{a(!1)},children:"Cancel"}),(0,o.jsx)(g.A,{onClick:async()=>{a(!1);try{const t=null===S||void 0===S?void 0:S.map((e=>null===e||void 0===e?void 0:e.id));await e.deletePlant(t),E({}),w([])}catch(t){return t}e.getAllPlantsList().then((e=>{c(e)})),U("Plant deleted successfully","success")},children:"delete"})]})]})]})},st=nt;var it=a(63516);function rt(e){let{open:t,connDetails:a,handleCDChange:l,handleAddCD:n,connectivityError:s,handleDialogClose:i,plantForm:r}=e;return(0,o.jsxs)(q.A,{open:t,children:[(0,o.jsx)(J.A,{children:"Add Connectivity details"}),(0,o.jsxs)(Z.A,{children:[(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"URL :"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{label:"URL",name:"url",value:a.url,onChange:l,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Username :"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{label:"Username",name:"username",value:a.username,onChange:l,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Password :"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{label:"Password",name:"password",value:(null===a||void 0===a?void 0:a.password)||"",onChange:l,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"AuthKey :"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{label:"Authkey",name:"authkey",value:a.authkey,onChange:l,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Port :"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{label:"Port",name:"port",value:a.port,onChange:l,fullWidth:!0,margin:"normal"})}),"SAP"===r.ERPType&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"sapsysnum :"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{label:"sapsysnum",name:"sapsysnum",value:a.sapsysnum,onChange:l,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"sapclientid :"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{label:"sapclientid",name:"sapclientid",value:a.sapclientid,onChange:l,fullWidth:!0,margin:"normal"})})]})]}),(0,o.jsx)("p",{style:{color:"red"},children:s})]}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:i,children:"Cancel"}),(0,o.jsx)(g.A,{onClick:n,children:"Add"})]})]})}const ot=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),dt=(0,h.Ay)({spanRed:{color:"#FF3D57"}});function ct(){var e;const t=new Be,{bussinessUnitLists:a}=(0,M.A)(),[n,s]=(0,l.useState)(),[d,c]=(0,l.useState)(!1),u=dt(),[m,p]=(0,l.useState)({BU:[],exportToERP:"Y",ERPType:"",instance:"",orgId:"",plantName:"",SalesOrg:"",aliasPlant:"",material_master:"",ECN_required:"",bomusage:""}),[h,v]=(0,l.useState)({}),[A,j]=(0,l.useState)(),[y,f]=(0,l.useState)([]),[b,T]=(0,l.useState)(!1),[E,S]=(0,l.useState)(null);let w=(0,i.Zp)();const P=[{value:"Y",label:"Yes"},{value:"N",label:"No"}];(0,l.useEffect)((()=>{t.getAllPlantsList().then((e=>{s(e.plant)}))}),[]);const N=e=>{const{name:t,value:a}=e.target,l={...m,[t]:a};p(l)},I=()=>{c(!1),j(""),v("")},R=(e,t)=>{T(!0),S({severity:t,desc:e})};return(0,o.jsxs)(ot,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Create Plant"}]})}),(0,o.jsx)(it.l1,{initialValues:{id:"",plants:"",ERPType:"",instance:"",Connectivitydetails:{}},onSubmit:()=>{},children:(0,o.jsx)(it.lV,{children:(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,o.jsx)("h4",{children:"Create Plant"}),(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Plant Name ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"plantName",value:m.plantName,onChange:N,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["ERP Type ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"ERPType",name:"ERPType",fullWidth:!0,displayEmpty:!0,value:m.ERPType,onChange:N,children:L.sd.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),("SAP"===m.ERPType||"ORACLE"===m.ERPType||"JDE"===m.ERPType)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Organization Id",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{label:"Organization Id",name:"orgId",value:m.orgId,onChange:N,fullWidth:!0,margin:"normal"})})]}),("SAP"===m.ERPType||"ORACLE"===m.ERPType||"JDE"===m.ERPType)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Instance ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"instance",name:"instance",fullWidth:!0,displayEmpty:!0,value:m.instance,onChange:N,children:L.oX.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})})]}),(null===(e=["ORACLE","SAP","JDE"])||void 0===e?void 0:e.includes(m.ERPType))&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Export to ERP"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"exportToERP",name:"exportToERP",fullWidth:!0,displayEmpty:!0,value:m.exportToERP,onChange:N,children:L.FD.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})})]}),"SAP"===m.ERPType&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Default Sales Org",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{label:"Sales Org",name:"SalesOrg",value:m.SalesOrg,onChange:N,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Material Master ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"material_master",name:"material_master",fullWidth:!0,displayEmpty:!0,value:m.material_master,onChange:N,children:P.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),"Y"===m.material_master&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Plant Alias Name",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"aliasPlant",value:m.aliasPlant,onChange:N,fullWidth:!0,margin:"normal"})})]}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["ECN Required ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"ECN_required",name:"ECN_required",fullWidth:!0,displayEmpty:!0,value:m.ECN_required,onChange:N,children:P.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["BOM Usage ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"bomusage",name:"bomusage",fullWidth:!0,displayEmpty:!0,value:m.bomusage,onChange:N,children:L.Ch.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),console.log(m.ERPType,"plantForm.ERPType"),"SAP"===m.ERPType&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Connectivity Details "})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsxs)("span",{children:[0===Object.keys(h).length&&(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{c(!0)},children:"Add Connectivity Details"}),Object.keys(h).length>0&&(0,o.jsx)(D.Ay,{item:!0,md:12,sm:8,xs:12,children:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"URL :"})," ",h.url]})," ","\xa0",(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"Username :"})," ",h.username]})," ","\xa0",(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"Pass :"})," ",h.password]})," ","\xa0",(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"AuthKey :"})," ",h.authkey]})," ","\xa0",(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"Port :"})," ",h.port]})," ","\xa0","SAP"===m.ERPType&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"sapsysnum :"})," ",h.sapsysnum]})," ","\xa0",(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"sapclientid :"})," ",h.sapclientid]})," "]}),(0,o.jsxs)("p",{children:[" ",(0,o.jsx)(Le.A,{onClick:()=>{c(!0)}})]})]})})})]})})]})]}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{type:"submit",variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e,a,l,n,s,i,r;const o={id:m.plantName+"_"+m.ERPType+"_"+m.instance,plants:m.plantName+"_"+m.ERPType,plantName:m.plantName,ERPType:m.ERPType,orgId:m.orgId,SalesOrg:m.SalesOrg,aliasPlant:m.aliasPlant,material_master:m.material_master,ECN_required:m.ECN_required,bomusage:m.bomusage,exportToERP:m.exportToERP,ConnectivityDetails:h};null!==m&&void 0!==m&&m.instance&&(o.instance=null===m||void 0===m?void 0:m.instance,o.id=m.plantName+"_"+m.ERPType+"_"+m.instance,o.plants=m.plantName+"_"+m.ERPType+"_"+m.instance),""!==(null===(e=m.plantName)||void 0===e?void 0:e.trim())&&m.plantName&&""!==(null===(a=m.ERPType)||void 0===a?void 0:a.trim())&&m.ERPType&&""!==(null===(l=m.instance)||void 0===l?void 0:l.trim())&&m.instance&&""!==(null===(n=m.exportToERP)||void 0===n?void 0:n.trim())&&m.exportToERP&&("SAP"!==m.ERPType||""!==(null===(s=m.plantName)||void 0===s?void 0:s.trim())&&m.plantName)&&("SAP"!==m.ERPType||""!==(null===(i=m.material_master)||void 0===i?void 0:i.trim())&&m.material_master)&&("SAP"!==m.ERPType||""!==(null===(r=m.bomusage)||void 0===r?void 0:r.trim())&&m.bomusage)&&("SAP"!==m.ERPType||m.instance)?t.addnewPlant(o).then((e=>{var t,a,l;if(e&&null!==e&&void 0!==e&&e.data&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.length)if(null!==e&&void 0!==e&&null!==(a=e.data[0])&&void 0!==a&&a.id)R("Plant added successfully!","success"),setTimeout((()=>{w("/plants")}),2e3);else if(null!==e&&void 0!==e&&null!==(l=e.data[0])&&void 0!==l&&l.msg){var n;R(null===e||void 0===e||null===(n=e.data[0])||void 0===n?void 0:n.msg,"error")}})):R("Please fill required details ","error")},children:"Submit"})})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{w(-1)}),200)},children:"Cancel"})})})]})]})})})}),E?(0,o.jsx)(pe.A,{openAlert:b,openDesc:E,setOpenAlert:T}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)(rt,{open:d,onClose:I,connDetails:h,handleDialogClose:I,handleCDChange:e=>{v({...h,[e.target.name]:e.target.value})},handleAddCD:()=>{c(!1)},connectivityError:A,plantForm:m,classes:u})]})}const ut=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),mt=(0,h.Ay)({spanRed:{color:"#FF3D57"}});function pt(){var e;const{refreshData:t}=(0,M.A)(),a=new Be,[n,s]=(0,l.useState)(),[d,c]=(0,l.useState)(!1),u=mt(),[m,p]=(0,l.useState)(!0),[h,v]=(0,l.useState)(),A=((0,i.zy)(),(0,i.Zp)()),j=(0,i.g)(),[y,f]=(0,l.useState)(!1),[b,T]=(0,l.useState)(null),[E,S]=(0,l.useState)({}),[w,P]=(0,l.useState)({}),[N,I]=(0,l.useState)([]),[R,_]=(0,l.useState)({}),k=[{value:"Y",label:"Yes"},{value:"N",label:"No"}];(0,l.useEffect)((()=>{a.getAllPlantsList().then((e=>{s(e.plant)}))}),[]);const B=e=>{const{name:t,value:a}=e.target,l={...E,[t]:a};S(l)},F=()=>{c(!1),v("")},U=(e,t)=>{f(!0),T({severity:t,desc:e})};return(0,l.useEffect)((()=>{null!==j&&void 0!==j&&j.plantId?(p(!0),a.getPlantById({id:null===j||void 0===j?void 0:j.plantId}).then((e=>{var t;if(p(!1),null!==e&&void 0!==e&&e.data&&null!==Object&&void 0!==Object&&null!==(t=Object.keys(null===e||void 0===e?void 0:e.data))&&void 0!==t&&t.length){var a,l,n,s,i,r,o,d,c,u,m,h;const t=null===e||void 0===e?void 0:e.data;_(t),I(null===t||void 0===t?void 0:t.BU),S({id:null===t||void 0===t?void 0:t.id,plants:null===t||void 0===t?void 0:t.plants,plantName:null===t||void 0===t?void 0:t.plantName,SalesOrg:null===t||void 0===t?void 0:t.SalesOrg,aliasPlant:null===t||void 0===t?void 0:t.aliasPlant,ERPType:null===t||void 0===t?void 0:t.ERPType,instance:null===t||void 0===t?void 0:t.instance,material_master:null===t||void 0===t?void 0:t.material_master,ECN_required:null===t||void 0===t?void 0:t.ECN_required,bomusage:null===t||void 0===t?void 0:t.bomusage,exportToERP:null===t||void 0===t?void 0:t.exportToERP,Connectivitydetails:{url:null===t||void 0===t||null===(a=t.ConnectivityDetails)||void 0===a?void 0:a.url,username:null===t||void 0===t||null===(l=t.ConnectivityDetails)||void 0===l?void 0:l.username,password:null===t||void 0===t||null===(n=t.ConnectivityDetails)||void 0===n?void 0:n.password,authkey:null===t||void 0===t||null===(s=t.ConnectivityDetails)||void 0===s?void 0:s.authkey,port:null===t||void 0===t||null===(i=t.ConnectivityDetails)||void 0===i?void 0:i.port}}),P({url:null===t||void 0===t||null===(r=t.ConnectivityDetails)||void 0===r?void 0:r.url,username:null===t||void 0===t||null===(o=t.ConnectivityDetails)||void 0===o?void 0:o.username,password:null===t||void 0===t||null===(d=t.ConnectivityDetails)||void 0===d?void 0:d.password,authkey:null===t||void 0===t||null===(c=t.ConnectivityDetails)||void 0===c?void 0:c.authkey,port:null===t||void 0===t||null===(u=t.ConnectivityDetails)||void 0===u?void 0:u.port,sapsysnum:null===t||void 0===t||null===(m=t.ConnectivityDetails)||void 0===m?void 0:m.sapsysnum,sapclientid:null===t||void 0===t||null===(h=t.ConnectivityDetails)||void 0===h?void 0:h.sapclientid})}else A("/plants",{state:{message:"Plant not found!",status:"error"}})}))):setTimeout((()=>{A("/plants",{state:{message:"Plant not found!",status:"error"}})}),200)}),[]),(0,o.jsxs)(ut,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Edit Plant"}]})}),(0,o.jsx)(it.l1,{initialValues:{id:"",plants:"",ERPType:"",instance:"",Connectivitydetails:{}},onSubmit:()=>{},children:(0,o.jsx)(it.lV,{children:(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,o.jsx)("h4",{children:"Edit Plant"}),(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Plant Name ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{disabled:!0,name:"plantName",value:E.plantName,onChange:B,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["ERP Type ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"ERPType",name:"ERPType",label:"ERPType",fullWidth:!0,disabled:!0,displayEmpty:!0,value:[null===E||void 0===E?void 0:E.ERPType],onChange:B,children:L.sd.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),("SAP"===E.ERPType||"ORACLE"===E.ERPType)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Instance ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{label:"instance",id:"instance",name:"instance",disabled:!0,fullWidth:!0,displayEmpty:!0,value:E.instance,onChange:B,children:L.oX.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})})]}),(null===(e=["ORACLE","SAP"])||void 0===e?void 0:e.includes(E.ERPType))&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Export To ERP"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"exportToERP",name:"exportToERP",fullWidth:!0,displayEmpty:!0,value:E.exportToERP,onChange:B,children:L.FD.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})})]}),"SAP"===E.ERPType&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Default Sales Org"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{label:"SalesOrg",name:"SalesOrg",defaultValue:E.SalesOrg,onChange:B,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Material Master"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"material_master",name:"material_master",label:"material_master",fullWidth:!0,displayEmpty:!0,value:E.material_master,onChange:B,children:k.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),"Y"===E.material_master&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Plantname Alias"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{label:"aliasPlant",name:"aliasPlant",value:E.aliasPlant,onChange:B,fullWidth:!0,margin:"normal"})})]}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"ECN Required"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"ECN_required",name:"ECN_required",label:"ECN_required",fullWidth:!0,displayEmpty:!0,value:E.ECN_required,onChange:B,children:k.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"BOM Usage"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"bomusage",name:"bomusage",fullWidth:!0,displayEmpty:!0,value:E.bomusage,onChange:B,children:L.Ch.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),function(e){for(let t in e)if(e.hasOwnProperty(t)&&""!==e[t]&&void 0!==e[t])return!0;return!1}(w)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Connectivity Details "})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsxs)("span",{children:[0===Object.keys(w).length||null===(null===R||void 0===R?void 0:R.ConnectivityDetails)&&(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{c(!0)},children:"Add Connectivity Details"}),(Object.keys(w).length>0||null!==(null===R||void 0===R?void 0:R.ConnectivityDetails))&&(0,o.jsx)(D.Ay,{item:!0,md:12,sm:8,xs:12,children:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"URL :"})," ",w.url]})," ","\xa0",(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"Username :"})," ",w.username]})," ","\xa0",(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"Pass :"})," ",w.password]})," ","\xa0",(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"authkey :"})," ",w.authkey]})," ","\xa0",(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"Port :"})," ",w.port]})," ","\xa0","SAP"===E.ERPType&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"sapsysnum :"})," ",w.sapsysnum]})," ","\xa0",(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"sapclientid :"})," ",w.sapclientid]})," "]}),(0,o.jsxs)("p",{children:[" ",(0,o.jsx)(Le.A,{onClick:()=>{c(!0)}})]})]})})})]})})]})]}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{type:"submit",variant:"contained",color:"primary",margin:"2px",onClick:async()=>{var e,t,l,n,s,i,r;p(!0);const o={id:E.id,plants:E.plants,plantName:E.plantName,ERPType:E.ERPType,SalesOrg:E.SalesOrg,aliasPlant:E.aliasPlant,material_master:E.material_master,ECN_required:E.ECN_required,bomusage:E.bomusage,ConnectivityDetails:w,exportToERP:E.exportToERP};null!==E&&void 0!==E&&E.instance&&(o.instance=null===E||void 0===E?void 0:E.instance),""!==(null===(e=E.plantName)||void 0===e?void 0:e.trim())&&E.plantName&&""!==(null===(t=E.ERPType)||void 0===t?void 0:t.trim())&&E.ERPType&&""!==(null===(l=E.instance)||void 0===l?void 0:l.trim())&&E.instance&&""!==(null===(n=E.exportToERP)||void 0===n?void 0:n.trim())&&E.exportToERP&&("SAP"!==E.ERPType||""!==(null===(s=E.plantName)||void 0===s?void 0:s.trim())&&E.plantName)&&("SAP"!==E.ERPType||""!==(null===(i=E.material_master)||void 0===i?void 0:i.trim())&&E.material_master)&&("SAP"!==E.ERPType||""!==(null===(r=E.bomusage)||void 0===r?void 0:r.trim())&&E.bomusage)&&("SAP"!==E.ERPType||E.instance)?(p(!0),await a.updatePlant(o).then((e=>{var t;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(U("Plant updated successfully","success"),setTimeout((()=>{p(!1),A("/plants")}),2e3)):e.msg&&p(!1)}))):(U("Please fill required details ","error"),p(!1))},children:"Update"})})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{A(-1)}),200)},children:"Cancel"})})})]})]})})})}),b?(0,o.jsx)(pe.A,{openAlert:y,openDesc:b,setOpenAlert:f}):(0,o.jsx)(o.Fragment,{}),t||m?(0,o.jsx)("div",{style:{textAlign:"center"},children:(0,o.jsx)(ee.A,{show:!0})}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)(rt,{open:d,onClose:F,connDetails:w,handleDialogClose:F,handleCDChange:e=>{P({...w,[e.target.name]:e.target.value})},handleAddCD:()=>{c(!1)},connectivityError:h,plantForm:E,classes:u})]})}const ht=[{path:"/plants",element:(0,o.jsx)(H,{children:(0,o.jsx)(st,{})})},{path:"/createPlant",exact:!0,element:(0,o.jsx)(H,{children:(0,o.jsx)(ct,{})})},{path:"/editPlant/:plantId",exact:!0,element:(0,o.jsx)(H,{children:(0,o.jsx)(pt,{})})}];class xt{constructor(){this.getAllSourceList=()=>ke.A.get(`${_e.Sb}/sourceList/getSource`,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getSourceDetails",e),[]))),this.deleteSource=e=>ke.A.delete(`${_e.Sb}/sourceList/deleteSource`,{data:{ids:e}},_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting source:",e),e})),this.addnewSource=e=>ke.A.post(`${_e.Sb}/sourceList/addSource`,e,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewSource",e),[]))),this.updateSource=e=>ke.A.put(`${_e.Sb}/sourceList/updateSource`,e,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.getSourceById=e=>ke.A.post(`${_e.Sb}/sourceList/getSourceById`,e,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getPlantById",e),[])))}}const gt=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),vt=(0,h.Ay)({spanRed:{color:"#FF3D57"}});function At(){const[e,t]=(0,l.useState)({}),[a,n]=(0,l.useState)(!1),[s,d]=(0,l.useState)(null),c=vt();let u=(0,i.Zp)();const m=new xt,p=a=>{const{name:l,value:n}=a.target,s={...e,[l]:n};t(s)},h=(e,t)=>{n(!0),d({severity:t,desc:e})};return(0,o.jsxs)(gt,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Create Source"}]})}),(0,o.jsxs)("form",{children:[(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,o.jsx)("h4",{children:"Create Source"}),(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Source ",(0,o.jsx)("span",{className:c.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"source",value:e.source,onChange:p,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Instance ",(0,o.jsx)("span",{className:c.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"instance",value:e.instance,onChange:p,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Environment ",(0,o.jsx)("span",{className:c.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"environment",value:e.environment,onChange:p,fullWidth:!0,margin:"normal"})}),(0,o.jsxs)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,o.jsx)("span",{children:"ERP Type "})," ",(0,o.jsx)("span",{className:c.spanRed,children:"*"})]}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:e.ERPType,onChange:p,children:L.sd.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})})]}),(0,o.jsx)("br",{}),(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var t,a,l,n;if(""===(null===(t=e.source)||void 0===t?void 0:t.trim())||!e.source||""===(null===(a=e.environment)||void 0===a?void 0:a.trim())||!e.environment||""===(null===(l=e.instance)||void 0===l?void 0:l.trim())||!e.instance||""===(null===(n=e.ERPType)||void 0===n?void 0:n.trim())||!e.ERPType)return void h("Please fill the require details","error");const s={source:e.source,environment:e.environment,instance:e.instance,ERPType:e.ERPType};m.addnewSource(s).then((e=>{var t,a;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(h("Source added successfully!","success"),setTimeout((()=>{u("/sourceList")}),2e3)):null!==e&&void 0!==e&&null!==(a=e.data[0])&&void 0!==a&&a.msg&&h(e.data[0].msg,"error")}))},children:"Submit"})})}),(0,o.jsx)(D.Ay,{item:!0,md:2,sm:4,xs:6,className:"font-medium",children:(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{u(-1)}),200)},children:"Cancel"})})})]})]})}),s?(0,o.jsx)(pe.A,{openAlert:a,openDesc:s,setOpenAlert:n}):(0,o.jsx)(o.Fragment,{})]})]})}const jt=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),yt=(0,h.Ay)({spanRed:{color:"#FF3D57"}});function ft(){const{refreshData:e}=(0,M.A)(),[t,a]=(0,l.useState)(!0),[n,s]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),u=((0,i.zy)(),yt());let m=(0,i.Zp)();const p=(0,i.g)(),h=new xt,[v,A]=(0,l.useState)({}),j=e=>{const{name:t,value:a}=e.target,l={...v,[t]:a};A(l)},y=(e,t)=>{s(!0),c({severity:t,desc:e})};return(0,l.useEffect)((()=>{null!==p&&void 0!==p&&p.sourceId?(a(!0),h.getSourceById({id:null===p||void 0===p?void 0:p.sourceId}).then((e=>{var t;if(a(!1),null!==e&&void 0!==e&&e.data&&null!==Object&&void 0!==Object&&null!==(t=Object.keys(null===e||void 0===e?void 0:e.data))&&void 0!==t&&t.length){const t=null===e||void 0===e?void 0:e.data;A({source:t.source,environment:t.environment,instance:t.instance,ERPType:t.ERPType})}else m("/sourceList",{state:{message:"Source not found!",status:"error"}})}))):setTimeout((()=>{m("/sourceList",{state:{message:"Source not found!",status:"error"}})}),200)}),[]),(0,o.jsxs)(jt,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Edit Source"}]})}),(0,o.jsxs)("form",{children:[(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,o.jsx)("h4",{children:"Edit Source"}),(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Source ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"source",disabled:!0,value:v.source,onChange:j,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Instance ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"instance",disabled:!0,value:v.instance,onChange:j,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Environment ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"environment",value:v.environment,onChange:j,fullWidth:!0,margin:"normal"})}),(0,o.jsxs)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,o.jsx)("span",{children:"ERP Type "})," ",(0,o.jsx)("span",{className:u.spanRed,children:"*"})]}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{disabled:!0,name:"ERPType",fullWidth:!0,value:[v.ERPType],onChange:j,children:L.sd.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})})]}),(0,o.jsx)("br",{}),(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:async()=>{var e,t,l,n;if(a(!0),""===(null===(e=v.source)||void 0===e?void 0:e.trim())||!v.source||""===(null===(t=v.environment)||void 0===t?void 0:t.trim())||!v.environment||""===(null===(l=v.instance)||void 0===l?void 0:l.trim())||!v.instance||""===(null===(n=v.ERPType)||void 0===n?void 0:n.trim())||!v.ERPType)return y("Please fill the require details","error"),void a(!1);const s={source:v.source,environment:v.environment,instance:v.instance,ERPType:v.ERPType};h.updateSource(s).then((e=>{y("Source updated successfully","success"),setTimeout((()=>{a(!1),m("/sourceList")}),2e3)}))},children:"Update"})})}),(0,o.jsx)(D.Ay,{item:!0,md:2,sm:4,xs:6,className:"font-medium",children:(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{m(-1)}),200)},children:"Cancel"})})})]})]})}),d?(0,o.jsx)(pe.A,{openAlert:n,openDesc:d,setOpenAlert:s}):(0,o.jsx)(o.Fragment,{}),e||t?(0,o.jsx)("div",{style:{textAlign:"center"},children:(0,o.jsx)(ee.A,{show:!0})}):(0,o.jsx)(o.Fragment,{})]})]})}const bt=e=>{const t=new le.Q,[a,n]=(0,l.useState)(!1),[s,i]=(0,l.useState)((null===e||void 0===e?void 0:e.sourceData)||[]),[d,c]=(0,l.useState)("allData"),[u,m]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[v,A]=(0,l.useState)(!1),[j,y]=(0,l.useState)(null);console.log("props",e);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{n(!0)},children:"Export"}),(0,o.jsxs)(q.A,{open:a,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,o.jsx)(Z.A,{children:(0,o.jsx)(K.A,{children:(0,o.jsx)(x.A,{width:"100%",overflow:"auto",children:(0,o.jsx)(r.Tn,{children:(0,o.jsx)(D.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,o.jsx)(D.Ay,{container:!0,alignItems:"center",children:(0,o.jsxs)(ye.A,{children:[(0,o.jsx)(fe.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,o.jsxs)(Ae.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:d,onChange:t=>{c(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.sourceData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,o.jsx)(je.A,{value:"allData",control:(0,o.jsx)(ve.A,{}),label:"All Data"}),(0,o.jsx)(je.A,{value:"selectedData",control:(0,o.jsx)(ve.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"}),(0,o.jsx)(g.A,{onClick:()=>{n(!1);let a=("allData"!==d?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.sourceData)||[],l=null===a||void 0===a?void 0:a.map((e=>({Source:e.source,Instance:e.instance,Environment:e.environment,"ERP Type":e.ERPType})));t.exportTemplate({data:l,sheet_name:"Source"}).then((e=>{h(e),m(!0),A(!0),y({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),j?(0,o.jsx)(pe.A,{openAlert:v,openDesc:j,setOpenAlert:A}):(0,o.jsx)(o.Fragment,{})]})},Tt=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Et=()=>{const[e,t]=(0,l.useState)(),[a,n]=(0,l.useState)([]),[s,d]=(0,l.useState)([]),[c,u]=(0,l.useState)(""),[m,p]=(0,l.useState)(!1),h=new xt,[v,A]=(0,l.useState)(!1),[j,y]=(0,l.useState)(null),[f,b]=(0,l.useState)({}),[T,E]=(0,l.useState)([]),[S,w]=(0,l.useState)({}),[O,C]=(0,l.useState)([]),M=(0,l.useRef)(null),P=M&&M.current&&M.current.dataMap?M.current.dataMap:null,L=(0,l.useCallback)((e=>{let{selected:t}=e;w(t)}),[]),[N,I]=(0,l.useState)(!0);(0,l.useEffect)((()=>{I(!0),h.getAllSourceList().then((e=>{n(e),d(e),_(e)})).finally((()=>{I(!1)}))}),[]);const[R,_]=(0,l.useState)([]);(0,l.useEffect)((()=>{_(a)}),[a]);let k=(0,Se.t$)([...R],"source");const B=(0,i.Zp)(),F=(0,l.useRef)("initialValue"),U=e=>{F.current="edit";const t=e;setTimeout((()=>{B(`/editSourceList/${null===t||void 0===t?void 0:t.id}`,{state:{plantMode:F.current,selectedSourceData:t}})}),200)},W=e=>{p(!0),t(e)};(0,l.useEffect)((()=>{const e=!0===S?P:S,t=e&&Object.keys(e).map((t=>e[t]));C(t)}),[S,P]),(0,l.useEffect)((()=>{const e=a.filter((e=>""===c||e.source.toLowerCase().includes(c.toLowerCase())||e.environment.toLowerCase().includes(c.toLowerCase())||e.instance.toLowerCase().includes(c.toLowerCase())||e.ERPType.toLowerCase().includes(c.toLowerCase())));_(e)}),[c,a]);const $=e=>{b(e);const t=Ee(Et)({data:a,sortInfo:e,sortedSourceData:k,onSortInfoChange:$,initialData:s});n(t.props.data),_(t.props.data)};return(0,o.jsxs)(Tt,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Source"}]})}),(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(te.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;u(t)},value:c,style:{width:"100%"}})}),(0,o.jsxs)(D.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{},children:"Search"}),(0,o.jsx)("div",{style:{flex:1}}),(0,o.jsx)(g.A,{variant:"contained",component:X.Link,onClick:()=>{F.current="create",setTimeout((()=>{B("/createSourceList",{state:{plantMode:F.current}})}),200)},children:"Create"}),(0,o.jsx)(g.A,{variant:"contained",disabled:1!==(null===O||void 0===O?void 0:O.length),onClick:()=>{U(O[0])},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,o.jsx)(g.A,{variant:"contained",disabled:null===O||void 0===O||!O.length,onClick:()=>{W(O[0]),p(!0)},style:{margin:"0 10px 0 10px"},children:"Delete"}),(0,o.jsx)(bt,{sourceData:a,filterTemplateData:O})]}),(0,o.jsxs)(x.A,{width:"100%",overflow:"auto",children:[(0,o.jsx)("br",{}),N?(0,o.jsx)(x.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:550},children:(0,o.jsx)(tt.A,{})}):(0,o.jsx)(Te.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:[{name:"source",header:(0,o.jsx)(ae.A,{title:"Name",children:"Source"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.source})}},{name:"instance",header:(0,o.jsx)(ae.A,{title:"Instance",children:"Instance"}),defaultFlex:1,defaultWidth:50},{name:"environment",header:(0,o.jsx)(ae.A,{title:"Environment",children:"Environment"}),defaultFlex:1,defaultWidth:50},{name:"ERPType",header:(0,o.jsx)(ae.A,{title:"ERP Type",children:"ERP Type"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.ERPType})}}],dataSource:null==f?R:k,checkboxColumn:!0,selected:S,onSelectionChange:L,handle:e=>M.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===M||void 0===M||null===(e=M.current)||void 0===e?void 0:e.setScrollTop(0==(null===O||void 0===O?void 0:O.length)?0:null===M||void 0===M||null===(t=M.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:$})]})]})}),j?(0,o.jsx)(pe.A,{openAlert:v,openDesc:j,setOpenAlert:A}):(0,o.jsx)(o.Fragment,{}),(0,o.jsxs)(q.A,{open:m,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Source"}),(0,o.jsx)(Z.A,{children:1===O.length?(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(K.A,{children:["Do you want to delete the source ",(0,o.jsx)("b",{children:null===e||void 0===e?void 0:e.source})," ","having instance ",(0,o.jsx)("b",{children:null===e||void 0===e?void 0:e.instance})," and ERPType"," ",(0,o.jsx)("b",{children:null===e||void 0===e?void 0:e.ERPType})]})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(K.A,{children:"Do you want to delete the seleted sources?"})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{autoFocus:!0,onClick:()=>{p(!1)},children:"Cancel"}),(0,o.jsx)(g.A,{onClick:async()=>{p(!1);try{const e=null===O||void 0===O?void 0:O.map((e=>null===e||void 0===e?void 0:e.id));await h.deleteSource(e).then((e=>{w({}),C([]),A(!0),y({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))}catch(e){return e}h.getAllSourceList().then((e=>{n(e)}))},children:"delete"})]})]})]})},St=Et,wt=[{path:"/sourceList",element:(0,o.jsx)(H,{children:(0,o.jsx)(St,{})})},{path:"/createSourceList",element:(0,o.jsx)(H,{children:(0,o.jsx)(At,{})})},{path:"/editSourceList/:sourceId",element:(0,o.jsx)(H,{children:(0,o.jsx)(ft,{})})}];class Ot{constructor(){this.getAllMappings=()=>ke.A.get(`${_e.Sb}/mappings/getMappings`,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getSourceDetails",e),[]))),this.deleteMapping=e=>ke.A.delete(`${_e.Sb}/mappings/deleteMapping/${e}`,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting source:",e),e})),this.addnewMapping=e=>ke.A.post(`${_e.Sb}/mappings/addMapping`,e,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewSource",e),[]))),this.updateMapping=e=>ke.A.put(`${_e.Sb}/mappings/updateMapping`,e,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[])))}}const Ct=l.forwardRef((function(e,t){return(0,o.jsx)(Re.A,{elevation:6,ref:t,variant:"filled",...e})})),Mt=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Pt=(0,h.Ay)({spanRed:{color:"#FF3D57"}});function Dt(){const[e,t]=(0,l.useState)({}),[a,n]=(0,l.useState)({}),[s,d]=(0,l.useState)(!1),[c,u]=(0,l.useState)(),[m,p]=(0,l.useState)(),[h,v]=(0,l.useState)([]),[A,j]=(0,l.useState)(""),[y,f]=(0,l.useState)(""),[b,T]=(0,l.useState)(""),[E,S]=(0,l.useState)({}),w=Pt();let M=(0,i.Zp)();new xt;const P=new Ot,N=e=>{const{name:t,value:a}=e.target;"newKey"===t?f(a):"newValue"===t?T(a):S((e=>({...e,[t]:a})))},I=e=>{const{name:t,value:l}=e.target,s={...a,[t]:l};n(s)},R=(e,t)=>{u(e),p(t),d(!0)},_=(e,t)=>{"clickaway"!==t&&d(!1)};return(0,o.jsxs)(Mt,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Create Mapping"}]})}),(0,o.jsxs)("form",{children:[(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,o.jsx)("h4",{children:"Create Mapping"}),(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Name ",(0,o.jsx)("span",{className:w.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{label:"Name",name:"Name",value:a.Name,onChange:I,fullWidth:!0,margin:"normal"})}),(0,o.jsxs)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,o.jsx)("span",{children:"ERP Type "})," ",(0,o.jsx)("span",{className:w.spanRed,children:"*"})]}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:a.ERPType,onChange:I,children:L.sd.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Mapping values ",(0,o.jsx)("span",{className:w.spanRed,children:"*"})]})}),(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,o.jsxs)(D.Ay,{container:!0,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,xs:3,style:{marginLeft:"3px"},children:(0,o.jsx)(te.A,{name:"newKey",label:"key",value:y,variant:"outlined",fullWidth:!0,margin:"normal",onChange:N})}),"\xa0 \xa0",(0,o.jsx)(D.Ay,{item:!0,xs:3,children:(0,o.jsx)(te.A,{name:"newValue",label:"value",value:b,variant:"outlined",fullWidth:!0,margin:"normal",onChange:N})}),"\xa0 \xa0",(0,o.jsx)(D.Ay,{item:!0,xs:3,children:(0,o.jsx)(g.A,{style:{fontSize:"30px",marginTop:"6px"},onClick:()=>{const e=h.some((e=>e.key===y)),t=h.some((e=>e.value===b));e||t?j("The key or value already exists"):(v((e=>[...e,{key:y,value:b}])),f(""),T(""),j(""))},children:(0,o.jsx)("b",{children:"+"})})})]}),(0,o.jsx)("p",{style:{color:"red"},children:A}),(0,o.jsx)("div",{style:{height:"100px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",alignContent:"center",width:"51%"},children:h.map(((e,t)=>(0,o.jsx)(Pe.A,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,o.jsxs)(D.Ay,{container:!0,alignItems:"center",style:{marginLeft:"2px"},children:[(0,o.jsx)(D.Ay,{item:!0,xs:6,children:(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:e.key}),":",(0,o.jsx)("b",{children:e.value})]})}),(0,o.jsx)(D.Ay,{item:!0,xs:2,children:(0,o.jsx)(De.A,{onClick:()=>(e=>{v((t=>{const a=[...t];return a.splice(e,1),a}))})(t),children:(0,o.jsx)(Ne.A,{})})})]})},t)))})]})]}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e,t;if(""===(null===(e=a.Name)||void 0===e?void 0:e.trim())||!a.Name||""===(null===(t=a.ERPType)||void 0===t?void 0:t.trim())||!a.ERPType||0===h.length)return void R("Please fill the require details","error");const l={Name:a.Name,ERPType:a.ERPType,List:h.reduce(((e,t)=>(e[t.key]=t.value,e)),{})};P.addnewMapping(l).then((e=>{var t,a,l;if(e&&null!==e&&void 0!==e&&e.data&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.length){if(null!==e&&void 0!==e&&null!==(a=e.data[0])&&void 0!==a&&a.id)R("Mapping added successfully!","success"),setTimeout((()=>{M("/mappings")}),200);else if(null!==e&&void 0!==e&&null!==(l=e.data[0])&&void 0!==l&&l.msg){var n;R(null===e||void 0===e||null===(n=e.data[0])||void 0===n?void 0:n.msg,"error")}}else console.log("No data in resp.")}))},children:"Submit"})})})]})}),(0,o.jsx)(Ie.A,{open:s,autoHideDuration:3e3,onClose:_,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,o.jsx)(Ct,{onClose:_,severity:m,sx:{width:"100%"},children:c})})]})]})}const Lt=l.forwardRef((function(e,t){return(0,o.jsx)(Re.A,{elevation:6,ref:t,variant:"filled",...e})})),Nt=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),It=(0,h.Ay)({spanRed:{color:"#FF3D57"}});function Rt(){var e;const[t,a]=(0,l.useState)(!1),[n,s]=(0,l.useState)(),[d,c]=(0,l.useState)(),[u,m]=(0,l.useState)(""),[p,h]=(0,l.useState)(""),[v,A]=(0,l.useState)(""),[j,y]=(0,l.useState)({}),f=It();let b=(0,i.Zp)();const T=(0,i.zy)(),E=new Ot,S=null===(e=T.state)||void 0===e?void 0:e.selectedMappingData,[w,M]=(0,l.useState)({Name:S.Name,ERPType:S.ERPType}),P=Object.entries(S.List).map((e=>{let[t,a]=e;return{key:t,value:a}})),[N,I]=(0,l.useState)(P),R=e=>{const{name:t,value:a}=e.target;"newKey"===t?h(a):"newValue"===t?A(a):y((e=>({...e,[t]:a})))},_=e=>{const{name:t,value:a}=e.target,l={...w,[t]:a};M(l)},k=(e,t)=>{s(e),c(t),a(!0)},B=(e,t)=>{"clickaway"!==t&&a(!1)};return(0,o.jsxs)(Nt,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Edit Mapping"}]})}),(0,o.jsxs)("form",{children:[(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,o.jsx)("h4",{children:"Edit Mapping"}),(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Name ",(0,o.jsx)("span",{className:f.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{label:"Name",name:"Name",disabled:!0,value:w.Name,onChange:_,fullWidth:!0,margin:"normal"})}),(0,o.jsxs)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,o.jsx)("span",{children:"ERP Type "})," ",(0,o.jsx)("span",{className:f.spanRed,children:"*"})]}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:w.ERPType,onChange:_,children:L.sd.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Mapping values ",(0,o.jsx)("span",{className:f.spanRed,children:"*"})]})}),(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,o.jsxs)(D.Ay,{container:!0,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,xs:3,style:{marginLeft:"3px"},children:(0,o.jsx)(te.A,{name:"newKey",label:"key",value:p,variant:"outlined",fullWidth:!0,margin:"normal",onChange:R})}),"\xa0 \xa0",(0,o.jsx)(D.Ay,{item:!0,xs:3,children:(0,o.jsx)(te.A,{name:"newValue",label:"value",value:v,variant:"outlined",fullWidth:!0,margin:"normal",onChange:R})}),"\xa0 \xa0",(0,o.jsx)(D.Ay,{item:!0,xs:3,children:(0,o.jsx)(g.A,{style:{fontSize:"30px",marginTop:"6px"},onClick:()=>{const e=N.some((e=>e.key===p)),t=N.some((e=>e.value===v));e||t?m("The key or value already exists"):(I((e=>[...e,{key:p,value:v}])),h(""),A(""),m(""))},children:(0,o.jsx)("b",{children:"+"})})})]}),(0,o.jsx)("p",{style:{color:"red"},children:u}),(0,o.jsx)("div",{style:{height:"100px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",alignContent:"center",width:"51%"},children:N.map(((e,t)=>(0,o.jsx)(Pe.A,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,o.jsxs)(D.Ay,{container:!0,alignItems:"center",style:{marginLeft:"2px"},children:[(0,o.jsx)(D.Ay,{item:!0,xs:6,children:(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:e.key}),":",(0,o.jsx)("b",{children:e.value})]})}),(0,o.jsx)(D.Ay,{item:!0,xs:2,children:(0,o.jsx)(De.A,{onClick:()=>(e=>{I((t=>{const a=[...t];return a.splice(e,1),a}))})(t),children:(0,o.jsx)(Ne.A,{})})})]})},t)))})]})]}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e,t;if(""===(null===(e=w.Name)||void 0===e?void 0:e.trim())||!w.Name||""===(null===(t=w.ERPType)||void 0===t?void 0:t.trim())||!w.ERPType||0===N.length)return void k("Please fill the require details","error");const a={Name:w.Name,ERPType:w.ERPType,List:N.reduce(((e,t)=>(e[t.key]=t.value,e)),{})};E.updateMapping(a).then((e=>{setTimeout((()=>{b("/mappings")}),200)})),k("Mapping updated successfully","success")},children:"Update"})})})]})}),(0,o.jsx)(Ie.A,{open:t,autoHideDuration:3e3,onClose:B,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,o.jsx)(Lt,{onClose:B,severity:d,sx:{width:"100%"},children:n})})]})]})}var _t=a(19090);const kt=l.forwardRef((function(e,t){return(0,o.jsx)(Re.A,{elevation:6,ref:t,variant:"filled",...e})})),Bt=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Ft=(0,h.Ay)(ie.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Ut=()=>{const[e,t]=(0,l.useState)(0),[a,n]=(0,l.useState)(10),[s,d]=(0,l.useState)(),[c,u]=(0,l.useState)(),[m,p]=(0,l.useState)(""),[h,v]=(0,l.useState)([]),[A,j]=(0,l.useState)(!1),[y,f]=(0,l.useState)(!1),b=new Ot;(0,l.useEffect)((()=>{b.getAllMappings().then((e=>{u(e)}))}),[]);const[T,E]=(0,l.useState)([]);(0,l.useEffect)((()=>{E(c)}),[c]);const S=(0,i.Zp)(),w=(0,l.useRef)("initialValue"),O=()=>{j(!0)},C=(e,t)=>{"clickaway"!==t&&j(!1)},[M,P]=(0,l.useState)({Name:[],ERPType:[]}),L=(e,t)=>{P((a=>({...a,[e]:t})))};(0,l.useEffect)((()=>{let e=c;M.Name.length>0&&(e=e.filter((e=>M.Name.includes(e.Name)))),M.ERPType.length>0&&(e=e.filter((e=>M.ERPType.includes(e.ERPType)))),v(e)}),[M]);const N=e=>{const t=new Set;return null===c||void 0===c||c.forEach((a=>t.add(a[e]))),Array.from(t)};return(0,o.jsxs)(Bt,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Mappings"}]})}),(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(te.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;if(p(t),""===t)E(c);else{const e=null===c||void 0===c?void 0:c.filter((e=>{var a,l;return(null===e||void 0===e||null===(a=e.Name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))||(null===(l=e.ERPType)||void 0===l?void 0:l.toLowerCase().includes(t.toLowerCase()))}));E(e)}},value:m,style:{width:"100%"}})}),(0,o.jsxs)(D.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{if(""===m)E(c);else{const e=c.filter((e=>null===e||void 0===e?void 0:e.Name.toLowerCase().includes(m.toLowerCase())));E(e)}},children:"Search"}),(0,o.jsx)("div",{style:{flex:1}}),(0,o.jsx)(g.A,{variant:"contained",component:X.Link,onClick:()=>{w.current="create",setTimeout((()=>{S("/createMappings",{state:{plantMode:w.current}})}),200)},children:"Create"})]}),(0,o.jsxs)(x.A,{width:"100%",overflow:"auto",children:[(0,o.jsxs)(Ft,{children:[(0,o.jsx)(re.A,{children:(0,o.jsxs)(oe.A,{children:[(0,o.jsxs)(de.A,{align:"left",children:[(0,o.jsx)(ce.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Mapping Name"}),(0,o.jsx)("br",{}),(0,o.jsx)(ue.A,{style:{width:"70%"},multiple:!0,options:N("Name"),value:M.Name,onChange:(e,t)=>L("Name",t),renderValue:()=>null,renderInput:e=>(0,o.jsx)(te.A,{...e,variant:"outlined",label:"Filter Name",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionLabel:e=>e,getOptionSelected:(e,t)=>M.Name.includes(t),ChipProps:{style:{fontSize:"8px"}}})]}),(0,o.jsxs)(de.A,{align:"left",children:[(0,o.jsx)(ce.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"ERP Type"}),(0,o.jsx)("br",{}),(0,o.jsx)(ue.A,{style:{width:"70%"},multiple:!0,options:N("ERPType"),value:M.ERPType,onChange:(e,t)=>L("ERPType",t),renderValue:()=>null,renderInput:e=>(0,o.jsx)(te.A,{...e,variant:"outlined",label:"Filter ERP Type",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionLabel:e=>e,getOptionSelected:(e,t)=>M.ERPType.includes(t),ChipProps:{style:{fontSize:"8px"}}})]}),(0,o.jsx)(de.A,{align:"left",children:(0,o.jsx)(ce.A,{style:{paddingBottom:"85px",fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Actions"})})]})}),(0,o.jsx)(me.A,{children:(null===T||void 0===T?void 0:T.length)>0?T.filter((e=>(""===m||e.Name.toLowerCase().includes(m.toLowerCase())||(null===e||void 0===e?void 0:e.ERPType.toLowerCase().includes(m.toLowerCase())))&&(0===M.Name.length||M.Name.includes(e.Name))&&(0===M.ERPType.length||M.ERPType.includes(e.ERPType)))).slice(e*a,e*a+a).map(((e,t)=>(0,o.jsxs)(oe.A,{children:[(0,o.jsx)(de.A,{align:"left",style:{textTransform:"none"},children:e.Name}),(0,o.jsx)(de.A,{align:"left",style:{textTransform:"none"},children:e.ERPType}),(0,o.jsxs)(de.A,{align:"left",style:{textTransform:"none"},children:[(0,o.jsx)(Le.A,{id:e.id,onClick:()=>(e=>{w.current="edit";const t=e;setTimeout((()=>{S("/editMappings",{state:{plantMode:w.current,selectedMappingData:t}})}),200)})(e)})," ",(0,o.jsx)(Ne.A,{onClick:()=>{return t=e,f(!0),void d(t);var t}})]})]},t))):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(de.A,{align:"left",colSpan:5,style:{textAlign:"center"},children:"No result found!"})})})]}),null!==c&&void 0!==c&&c.length?(0,o.jsx)(_t.A,{sx:{px:2},page:e,component:"div",rowsPerPage:a,count:null===c||void 0===c?void 0:c.length,onPageChange:(e,a)=>{t(a)},rowsPerPageOptions:[10,25,50],onRowsPerPageChange:e=>{n(+e.target.value),t(0)},nextIconButtonProps:{"aria-label":"Next Page"},backIconButtonProps:{"aria-label":"Previous Page"}}):(0,o.jsx)(o.Fragment,{})]})]})}),(0,o.jsx)(Ie.A,{open:A,autoHideDuration:3e3,onClose:C,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,o.jsx)(kt,{onClose:C,severity:"success",sx:{width:"100%"},children:"Mapping deleted successfully!"})}),(0,o.jsxs)(q.A,{open:y,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete template"}),(0,o.jsx)(Z.A,{children:(0,o.jsxs)(K.A,{children:["Do you want to delete the source ",(0,o.jsx)("b",{children:null===s||void 0===s?void 0:s.Name})," ","having ERP type ",(0,o.jsx)("b",{children:null===s||void 0===s?void 0:s.ERPType})]})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{autoFocus:!0,onClick:()=>{f(!1)},children:"Cancel"}),(0,o.jsx)(g.A,{onClick:async()=>{f(!1);try{await b.deleteMapping(s.id)}catch(e){console.error("Failed to delete plant:",e)}b.getAllMappings().then((e=>{u(e)})),O()},children:"delete"})]})]})]})},Wt=[{path:"/mappings",element:(0,o.jsx)(H,{children:(0,o.jsx)(Ut,{})}),auth:et.admin},{path:"/createMappings",element:(0,o.jsx)(H,{children:(0,o.jsx)(Dt,{})}),auth:et.admin},{path:"/editMappings",element:(0,o.jsx)(H,{children:(0,o.jsx)(Rt,{})}),auth:et.admin}];var $t=a(42895);const Vt=e=>{const t=new le.Q,[a,n]=(0,l.useState)(!1),[s,i]=(0,l.useState)((null===e||void 0===e?void 0:e.buData)||[]),[d,c]=(0,l.useState)("allData"),[u,m]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[v,A]=(0,l.useState)(!1),[j,y]=(0,l.useState)(null);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{n(!0)},children:"Export"}),(0,o.jsxs)(q.A,{open:a,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,o.jsx)(Z.A,{children:(0,o.jsx)(K.A,{children:(0,o.jsx)(x.A,{width:"100%",overflow:"auto",children:(0,o.jsx)(r.Tn,{children:(0,o.jsx)(D.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,o.jsx)(D.Ay,{container:!0,alignItems:"center",children:(0,o.jsxs)(ye.A,{children:[(0,o.jsx)(fe.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,o.jsxs)(Ae.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:d,onChange:t=>{c(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.buData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,o.jsx)(je.A,{value:"allData",control:(0,o.jsx)(ve.A,{}),label:"All Data"}),(0,o.jsx)(je.A,{value:"selectedData",control:(0,o.jsx)(ve.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"}),(0,o.jsx)(g.A,{onClick:()=>{var a;n(!1);let l=("allData"!==d?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.buData)||[];e.sortInfo&&0!==Object.keys(e.sortInfo).length||(l=l.sort(((e,t)=>{var a,l;const n=(null===(a=e.businessUnit)||void 0===a?void 0:a.toLowerCase())||"",s=(null===(l=t.businessUnit)||void 0===l?void 0:l.toLowerCase())||"";return n<s?-1:n>s?1:0})));let s=null===(a=l)||void 0===a?void 0:a.map((e=>{var t,a;return{"Design Organization":e.businessUnit,"Export To ERP Disabled":e.exportToERPdisabled,"Export To ERP Bypassed":e.exportToERPbyPassed,"Enable BOS Transfer":e.enableBOSTransfer,"Context DFF":e.contextDEF,"EMR Division ARG":e.EMRDivisionORGValue,"Product Hierarchy":e.productHierarchy,"Plant Name":(null===e||void 0===e||null===(t=e.plants)||void 0===t?void 0:t.length)>0?null===e||void 0===e||null===(a=e.plants)||void 0===a?void 0:a.map((e=>null===e||void 0===e?void 0:e.plantName)).join("\n"):null,"Do Not Send To ERP":e.doNotSendToERP.join("\n"),"Oracle Existing":e.oracleExisting.join("\n"),"Make Without BOM List":e.makeWithoutBOMList.join("\n"),"Not Owning Division List":e.notOwningDivisionList.join("\n")}}));t.exportTemplate({data:s,sheet_name:"Design Organization"}).then((e=>{h(e),m(!0),A(!0),y({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),j?(0,o.jsx)(pe.A,{openAlert:v,openDesc:j,setOpenAlert:A}):(0,o.jsx)(o.Fragment,{})]})},zt=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Gt=()=>{const{bussinessUnitLists:e,updateBussinessUnitLists:t}=(0,M.A)();let a=(0,i.zy)().state;const[n,s]=(0,l.useState)(),[d,c]=(0,l.useState)([]),[u,m]=(0,l.useState)(""),[p,h]=(0,l.useState)(!1),v=new $t.D,[A,j]=(0,l.useState)(!1),[y,f]=(0,l.useState)(null),[b,T]=(0,l.useState)({}),[E,S]=(0,l.useState)({}),[w,O]=(0,l.useState)([]),C=(0,l.useRef)(null),P=C&&C.current&&C.current.dataMap?C.current.dataMap:null,[L,N]=(0,l.useState)(!0),[I,R]=(0,l.useState)([]),_=(0,l.useCallback)((e=>{let{selected:t}=e;S(t)}),[]);(0,l.useEffect)((()=>{N(!0),e?setTimeout((()=>{c(e),R(e),N(!1)}),500):v.getAllBuList().then((e=>{c(e.data),t(e.data),R(e.data),B(e.data)})).finally((()=>{N(!1)}))}),[e]);const[k,B]=(0,l.useState)([]);(0,l.useEffect)((()=>{B(d)}),[d]);const F=(0,Se.t$)([...k],"buName"),U=(0,i.Zp)(),W=(0,l.useRef)("initialValue"),$=e=>{W.current="edit";const t=e;setTimeout((()=>{U(`/editBU/${null===t||void 0===t?void 0:t.id}`,{state:{plantMode:W.current,selectedBUData:t}})}),200)},V=e=>{h(!0),s(e)};(0,l.useEffect)((()=>{const e=!0===E?P:E,t=e&&Object.keys(e).map((t=>e[t]));O(t)}),[E,P]),(0,l.useEffect)((()=>{if(d){const e=d.filter((e=>""===u||e.buName.toLowerCase().includes(u.toLowerCase())));B(e)}}),[u,d]),(0,l.useEffect)((()=>{var e,l,n;null!==(e=a)&&void 0!==e&&e.status&&(j(!0),f({severity:null===(l=a)||void 0===l?void 0:l.status,desc:null===(n=a)||void 0===n?void 0:n.message}),v.getAllBuList().then((e=>{c(e.data),t(e.data),R(e.data)})));a={},window.onbeforeunload=()=>{window.history.replaceState({},document.title)}}),[a]);const z=e=>{T(e);const t=Ee(Gt)({data:d,sortInfo:e,sortedFilteredBuData:F,onSortInfoChange:z,initialData:I});c(t.props.data),B(t.props.data)};return(0,o.jsxs)(zt,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Design Organization"}]})}),(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(te.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;m(t)},value:u,style:{width:"100%"}})}),(0,o.jsxs)(D.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{},children:"Search"}),(0,o.jsx)("div",{style:{flex:1}}),(0,o.jsx)(g.A,{variant:"contained",component:X.Link,onClick:()=>{W.current="create",setTimeout((()=>{U("/createBU",{state:{plantMode:W.current}})}),200)},children:"Create"}),(0,o.jsx)(g.A,{variant:"contained",disabled:1!==(null===w||void 0===w?void 0:w.length),onClick:()=>{$(w[0])},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,o.jsx)(g.A,{variant:"contained",disabled:null===w||void 0===w||!w.length,onClick:()=>{V(w[0]),h(!0)},style:{margin:"0 10px 0 10px"},children:"Delete"}),(0,o.jsx)(Vt,{sortInfo:b,buData:d,filterTemplateData:w})]}),(0,o.jsxs)(x.A,{width:"100%",overflow:"auto",children:[(0,o.jsx)("br",{}),L?(0,o.jsx)(x.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:550},children:(0,o.jsx)(tt.A,{})}):(0,o.jsx)(Te.Ay,{idProperty:"id",showZebraRows:!1,defaultLimit:100,rowStyle:e=>{let{data:t}=e;const a=Object.keys(E).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===E?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},columns:[{name:"buName",header:(0,o.jsx)(ae.A,{title:"Design Organization",children:"Design Organization"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.buName})}},{name:"exportToERPdisabled",header:(0,o.jsx)(ae.A,{title:"Export To ERP Disabled",children:"Export To ERP Disabled"}),defaultFlex:1,defaultWidth:50},{name:"exportToERPbyPassed",header:(0,o.jsx)(ae.A,{title:"Export To ERP Bypassed",children:"Export To ERP Bypassed"}),defaultFlex:1,defaultWidth:50},{name:"enableBOSTransfer",header:(0,o.jsx)(ae.A,{title:"Enable BOS Transfer",children:"Enable BOS Transfer"}),defaultFlex:1,defaultWidth:50},{name:"contextDFF",header:(0,o.jsx)(ae.A,{title:"Context DFF",children:"Context DFF"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.contextDEF})}},{name:"EMRDivisionORGValue",header:(0,o.jsx)(ae.A,{title:"EMR Division ORG Value",children:"EMR Division ARG"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.EMRDivisionORGValue})}},{name:"productHierarchy",header:(0,o.jsx)(ae.A,{title:"Product Hierarchy",children:"Product Hierarchy"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.productHierarchy})}},{name:"plants",header:(0,o.jsx)(ae.A,{title:"Plant Name",children:"Plant Name"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.plants.sort(((e,t)=>e.plantName.localeCompare(t.plantName))).map(((e,t)=>(0,o.jsx)("div",{children:null===e||void 0===e?void 0:e.plantName},t)))})}},{name:"DoNotSendToERP",header:(0,o.jsx)(ae.A,{title:"DoNotSendToERP",children:"Do Not Send To ERP"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.doNotSendToERP.sort(((e,t)=>e.localeCompare(t))).map(((e,t)=>(0,o.jsx)("div",{children:e},t)))})}},{name:"OracleExisting",header:(0,o.jsx)(ae.A,{title:"OracleExisting",children:"Oracle Existing"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.oracleExisting.sort(((e,t)=>e.localeCompare(t))).map(((e,t)=>(0,o.jsx)("div",{children:e},t)))})}},{name:"MakeWithoutBOMList",header:(0,o.jsx)(ae.A,{title:"Make Without BOMList",children:"Make Without BOM List"}),defaultFlex:0,defaultWidth:170,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.makeWithoutBOMList.sort(((e,t)=>e.localeCompare(t))).map(((e,t)=>(0,o.jsx)("div",{children:e},t)))})}},{name:"NotOwningDivisionList",header:(0,o.jsx)(ae.A,{title:"Not Owning DivisionList",children:"Not Owning Division List"}),defaultFlex:1,defaultWidth:100,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.notOwningDivisionList.sort(((e,t)=>e.localeCompare(t))).map(((e,t)=>(0,o.jsx)("div",{children:e},t)))})}}],dataSource:F,checkboxColumn:!0,selected:E,onSelectionChange:_,handle:e=>C.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===C||void 0===C||null===(e=C.current)||void 0===e?void 0:e.setScrollTop(0==(null===w||void 0===w?void 0:w.length)?0:null===C||void 0===C||null===(t=C.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:z})]})]})}),y?(0,o.jsx)(pe.A,{openAlert:A,openDesc:y,setOpenAlert:j}):(0,o.jsx)(o.Fragment,{}),(0,o.jsxs)(q.A,{open:p,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Design Organization"}),(0,o.jsx)(Z.A,{children:1===w.length?(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(K.A,{children:["Do you want to delete the RDO ",(0,o.jsx)("b",{children:null===n||void 0===n?void 0:n.buName})," having plants"," ",(0,o.jsxs)("b",{children:[" ",null===n||void 0===n?void 0:n.plants.map((e=>e.plantName)).join(",")," "]})]})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(K.A,{children:"Do you want to delete the seleted Design Organization?"})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{autoFocus:!0,onClick:()=>{h(!1)},children:"Cancel"}),(0,o.jsx)(g.A,{onClick:async()=>{h(!1);try{const e=null===w||void 0===w?void 0:w.map((e=>null===e||void 0===e?void 0:e.id));await v.deleteBU(e).then((e=>{console.log(e,"delete response"),j(!0),f({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),S({}),O([])}))}catch(e){console.error("Failed to delete BU:",e)}v.getAllBuList().then((e=>{c(e.data),t(e.data),R(e.data)}))},children:"delete"})]})]})]})},Yt=Gt,Ht=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}}));function Xt(){const{refreshData:e,templatesInfo:t}=(0,M.A)(),[a,n]=(0,l.useState)({exportToERPdisabled:"N",exportToERPbyPassed:"N",enableBOSTransfer:"Y"}),[s,d]=(0,l.useState)([]),[c,u]=(0,l.useState)([]),[m,p]=(0,l.useState)([]),[h,v]=(0,l.useState)([]),[A,j]=(0,l.useState)([]),[y,f]=(0,l.useState)([]),[b,T]=(0,l.useState)(!1),[E,S]=(0,l.useState)(null),[w,P]=(0,l.useState)(!0);let N=(0,i.Zp)();const I=new $t.D,R=new Be;(0,l.useEffect)((()=>{P(!0),R.getAllPlantsList().then((e=>{d(e),P(!1)}))}),[]);const _=e=>{const{name:t,value:l}=e.target,s={...a,[t]:l};n(s)},k=(e,a)=>{console.log(`New Value: ${e} - `,a);const l=(null===a||void 0===a?void 0:a.filter((e=>t.some((t=>t.templateName===e.templateName)))))||[];"DoNotSendToERP"===e?p(l):"OracleExisting"===e?v(l):"MakeWithoutBOMList"===e?j(l):"NotOwningDivisionList"===e&&f(l)},B=(e,t)=>{T(!0),S({severity:t,desc:e})};return(0,Se.t$)(s,"plantName"),(0,Se.t$)(t,"templateName"),(0,o.jsxs)(Ht,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Create Design Organization"}]})}),(0,o.jsxs)("form",{children:[(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,o.jsx)("h4",{children:"Create Design Organization"}),(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Design Organization ",(0,o.jsx)("span",{style:{color:"#FF3D57"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"buName",value:a.buName,onChange:_,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Export to ERP Disabled "})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{labelId:"exportToERPdisabled",id:"exportToERPdisabled",name:"exportToERPdisabled",fullWidth:!0,value:a.exportToERPdisabled,onChange:_,children:L.FD.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Export To ERP Bypassed"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{labelId:"exportToERPbyPassed",id:"exportToERPbyPassed",name:"exportToERPbyPassed",fullWidth:!0,value:a.exportToERPbyPassed,onChange:_,children:L.FD.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Enable BOS Transfer "})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{labelId:"enableBOSTransfer",id:"enableBOSTransfer",name:"enableBOSTransfer",fullWidth:!0,value:"Y",onChange:_,children:L.h4.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Context DFF"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"contextDEF",value:a.contextDEF,onChange:_,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"EMR Division ARG"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"EMRDivisionORGValue",value:a.EMRDivisionORGValue,onChange:_,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Product Hierarchy"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"productHierarchy",value:a.productHierarchy,onChange:_,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Plant Name ",(0,o.jsx)("span",{style:{color:"#FF3D57"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(ue.A,{multiple:!0,value:c,getOptionLabel:e=>e.plantName,autoHighlight:!0,onChange:(e,t)=>{(e=>{const t=(null===e||void 0===e?void 0:e.filter((e=>s.some((t=>t.plantName===e.plantName)))))||[];u(t)})(t)},options:s,renderInput:e=>(0,o.jsx)(te.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,o.jsx)(x.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.plantName})})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Do Not Send To ERP"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(ue.A,{multiple:!0,value:m,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{k("DoNotSendToERP",t)},options:t,renderInput:e=>(0,o.jsx)(te.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,o.jsx)(x.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Oracle Existing"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(ue.A,{multiple:!0,value:h,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{k("OracleExisting",t)},options:t,renderInput:e=>(0,o.jsx)(te.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,o.jsx)(x.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Make Without BOM List"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(ue.A,{multiple:!0,value:A,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{k("MakeWithoutBOMList",t)},options:t,renderInput:e=>(0,o.jsx)(te.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,o.jsx)(x.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Not Owning Division List"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(ue.A,{multiple:!0,value:y,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{k("NotOwningDivisionList",t)},options:t,renderInput:e=>(0,o.jsx)(te.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,o.jsx)(x.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,o.jsxs)(D.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{textAlign:"right"},children:[(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{N(-1)}),200)},style:{marginRight:"20px"},children:"Cancel"}),(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e;if(""===(null===(e=a.buName)||void 0===e?void 0:e.trim())||!a.buName||0===c.length)return void B("Please fill the require details","error");const t={id:a.buName,buName:a.buName,exportToERPdisabled:a.exportToERPdisabled,contextDEF:a.contextDEF,EMRDivisionORGValue:a.EMRDivisionORGValue,productHierarchy:a.productHierarchy,exportToERPbyPassed:a.exportToERPbyPassed,enableBOSTransfer:a.enableBOSTransfer,plants:(null===c||void 0===c?void 0:c.map((e=>({id:null===e||void 0===e?void 0:e.id,plantName:null===e||void 0===e?void 0:e.plantName}))))||[],doNotSendToERP:(null===m||void 0===m?void 0:m.map((e=>e.templateName)))||[],oracleExisting:(null===h||void 0===h?void 0:h.map((e=>e.templateName)))||[],makeWithoutBOMList:(null===A||void 0===A?void 0:A.map((e=>e.templateName)))||[],notOwningDivisionList:(null===y||void 0===y?void 0:y.map((e=>e.templateName)))||[]};P(!0),I.addnewBU(t).then((e=>{P(!1),"success"===e.status?setTimeout((()=>{N("/buList",{state:{message:e.msg,status:e.status}})}),200):"error"===e.status&&B(e.msg,"error")}))},children:"Submit"})]})]})]})}),E?(0,o.jsx)(pe.A,{openAlert:b,openDesc:E,setOpenAlert:T}):(0,o.jsx)(o.Fragment,{}),e||w?(0,o.jsx)("div",{style:{textAlign:"center"},children:(0,o.jsx)(ee.A,{show:e})}):(0,o.jsx)(o.Fragment,{})]})]})}var qt=a(98348),Qt=a(88270);const Zt=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Kt=(0,h.Ay)({spanRed:{color:"#FF3D57"}});function Jt(){const{refreshData:e,templatesInfo:t,updateMappingTemplatesInfo:a}=(0,M.A)(),[n,s]=(0,l.useState)([]),[d,c]=((0,i.zy)(),(0,l.useState)({})),[u,m]=(0,l.useState)(!1),[p,h]=(0,l.useState)(null),[v,A]=(0,l.useState)({}),[j,y]=(0,l.useState)(!0),f=Kt();let b=(0,i.Zp)();const T=(0,i.g)(),E=new $t.D,S=new Qt.W,w=new Be;(0,l.useEffect)((()=>{y(!0),w.getAllPlantsList().then((e=>{s(e),y(!1)}))}),[]);const P=e=>{const{name:t,value:a}=e.target,l={...v,[t]:a};console.log(l,"===================updatedForm"),A(l)},[N,I]=(0,l.useState)([]),[R,_]=(0,l.useState)([]),[k,B]=(0,l.useState)([]),[F,U]=(0,l.useState)([]),[W,$]=(0,l.useState)([]),V=(e,a)=>{console.log("New Value:",a);const l=(null===a||void 0===a?void 0:a.filter((e=>t.some((t=>t.templateName===e.templateName)))))||[];"DoNotSendToERP"===e?_(l):"OracleExisting"===e?B(l):"MakeWithoutBOMList"===e?U(l):"NotOwningDivisionList"===e&&$(l)},z=(e,t)=>{m(!0),h({severity:t,desc:e})},G=e=>(null===t||void 0===t?void 0:t.filter((t=>e.some((e=>e===t.templateName)))))||[];return(0,l.useEffect)((()=>{if(null!==d&&void 0!==d&&d.plants){const e=(null===n||void 0===n?void 0:n.filter((e=>null===d||void 0===d?void 0:d.plants.some((t=>(null===t||void 0===t?void 0:t.plantName)===(null===e||void 0===e?void 0:e.plantName))))))||[];I(e)}if(null!==d&&void 0!==d&&d.doNotSendToERP){const e=G(null===d||void 0===d?void 0:d.doNotSendToERP);_(e)}if(null!==d&&void 0!==d&&d.oracleExisting){const e=G(null===d||void 0===d?void 0:d.oracleExisting);B(e)}if(null!==d&&void 0!==d&&d.makeWithoutBOMList){const e=G(d.makeWithoutBOMList);U(e)}if(null!==d&&void 0!==d&&d.notOwningDivisionList){const e=G(d.notOwningDivisionList);$(e)}}),[d,n,t]),(0,l.useEffect)((()=>{null!==T&&void 0!==T&&T.buId?(y(!0),E.getBusinessUnitbyid([{id:null===T||void 0===T?void 0:T.buId}]).then((e=>{var t,a,l,n;if(y(!1),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.length&&null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a[0]&&null!==Object&&void 0!==Object&&null!==(l=Object.keys(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n[0]))&&void 0!==l&&l.length){c(null===e||void 0===e?void 0:e.data[0]);const t=null===e||void 0===e?void 0:e.data[0];A({id:t.id,buName:t.buName,exportToERPdisabled:t.exportToERPdisabled,exportToERPbyPassed:t.exportToERPbyPassed,enableBOSTransfer:t.enableBOSTransfer,contextDEF:t.contextDEF,EMRDivisionORGValue:t.EMRDivisionORGValue,productHierarchy:t.productHierarchy})}else b("/buList",{state:{message:"Design Organization not found!",status:"error"}})}))):setTimeout((()=>{b("/buList",{state:{message:"Design Organization not found!",status:"error"}})}),200)}),[]),(0,Se.t$)(n,"plantName"),(0,o.jsxs)(Zt,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Edit Design Organization"}]})}),(0,o.jsxs)("form",{children:[(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,o.jsx)("h4",{children:"Edit Design Organization"}),(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Design Organization ",(0,o.jsx)("span",{className:f.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"buName",disabled:!0,value:v.buName,onChange:P,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Export to ERP Disabled "})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"exportToERPdisabled",name:"exportToERPdisabled",fullWidth:!0,value:null!==v&&void 0!==v&&v.exportToERPdisabled?null===v||void 0===v?void 0:v.exportToERPdisabled:"N",onChange:P,children:L.FD.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Export To ERP ByPassed"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"exportToERPbyPassed",name:"exportToERPbyPassed",fullWidth:!0,value:null!==v&&void 0!==v&&v.exportToERPbyPassed?null===v||void 0===v?void 0:v.exportToERPbyPassed:"N",onChange:P,children:L.FD.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Enable BOS Transfer "})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{labelId:"enableBOSTransfer",id:"enableBOSTransfer",name:"enableBOSTransfer",fullWidth:!0,value:null!==v&&void 0!==v&&v.enableBOSTransfer?null===v||void 0===v?void 0:v.enableBOSTransfer:"Y",onChange:P,children:L.h4.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Context DFF"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"contextDEF",value:v.contextDEF,onChange:P,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"EMR Division ARG"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"EMRDivisionORGValue",value:v.EMRDivisionORGValue,onChange:P,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Product Hierarchy"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"productHierarchy",value:v.productHierarchy,onChange:P,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Plant Name ",(0,o.jsx)("span",{className:f.spanRed,children:"*"})]})}),(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,o.jsx)(ue.A,{multiple:!0,value:N,getOptionLabel:e=>e.plantName,autoHighlight:!0,onChange:(e,t)=>{(e=>{const t=(null===e||void 0===e?void 0:e.filter((e=>n.some((t=>t.plantName===e.plantName)))))||[];I(t)})(t)},options:n,renderInput:e=>(0,o.jsx)(te.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,o.jsx)(x.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.plantName})}),(0,o.jsxs)("div",{style:{marginTop:"5px"},children:[(0,o.jsx)(qt.A,{style:{marginTop:"5px"},color:"secondary",fontSize:"small"}),(0,o.jsx)("span",{style:{marginBottom:"20px"},children:" Changing Plants will affect the Template Mappings."})]})]}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Do Not Send To ERP"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(ue.A,{multiple:!0,value:R,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{V("DoNotSendToERP",t)},options:t,renderInput:e=>(0,o.jsx)(te.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,o.jsx)(x.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Oracle Existing"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(ue.A,{multiple:!0,value:k,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{V("OracleExisting",t)},options:t,renderInput:e=>(0,o.jsx)(te.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,o.jsx)(x.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Make Without BOM List"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(ue.A,{multiple:!0,value:F,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{V("MakeWithoutBOMList",t)},options:t,renderInput:e=>(0,o.jsx)(te.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,o.jsx)(x.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsx)("span",{children:"Not Owning Division List"})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(ue.A,{multiple:!0,value:W,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{V("NotOwningDivisionList",t)},options:t,renderInput:e=>(0,o.jsx)(te.A,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,o.jsx)(x.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,o.jsxs)(D.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{textAlign:"right"},children:[(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{b(-1)}),200)},style:{marginRight:"20px"},children:"Cancel"}),(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e;if(""===(null===(e=v.buName)||void 0===e?void 0:e.trim())||!v.buName||0===N.length)return void z("Please fill the require details","error");const t={id:v.id,buName:v.buName,exportToERPdisabled:v.exportToERPdisabled,contextDEF:v.contextDEF,EMRDivisionORGValue:v.EMRDivisionORGValue,productHierarchy:v.productHierarchy,exportToERPbyPassed:v.exportToERPbyPassed,enableBOSTransfer:v.enableBOSTransfer,plants:(null===N||void 0===N?void 0:N.map((e=>({id:null===e||void 0===e?void 0:e.id,plantName:null===e||void 0===e?void 0:e.plantName}))))||[],doNotSendToERP:(null===R||void 0===R?void 0:R.map((e=>e.templateName)))||[],oracleExisting:(null===k||void 0===k?void 0:k.map((e=>e.templateName)))||[],makeWithoutBOMList:(null===F||void 0===F?void 0:F.map((e=>e.templateName)))||[],notOwningDivisionList:(null===W||void 0===W?void 0:W.map((e=>e.templateName)))||[]};y(!0),E.updateBU(t).then((e=>{y(!1),"success"===e.status?(y(!1),S.getAlltemplateMappings().then((e=>{var t;a(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),y(!0)})),setTimeout((()=>{b("/buList",{state:{message:e.msg,status:e.status}})}),200)):"error"===e.status&&z(e.msg,e.status)}))},children:"Update"})]})]})]})}),p?(0,o.jsx)(pe.A,{openAlert:u,openDesc:p,setOpenAlert:m}):(0,o.jsx)(o.Fragment,{}),e||j?(0,o.jsx)("div",{style:{textAlign:"center"},children:(0,o.jsx)(ee.A,{show:!0})}):(0,o.jsx)(o.Fragment,{})]})]})}const ea=[{path:"/buList",element:(0,o.jsx)(H,{children:(0,o.jsx)(Yt,{})})},{path:"/createBU",element:(0,o.jsx)(H,{children:(0,o.jsx)(Xt,{})})},{path:"/editBU/:buId",element:(0,o.jsx)(H,{children:(0,o.jsx)(Jt,{})})}];var ta=a(93291);const aa=(0,h.Ay)(ie.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),la=(0,h.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),na=e=>{let{userImportDialog:t,setUserImportDialog:a,setUserData:n}=e;const s=new ta.f,i=new E.D,[r,d]=(0,l.useState)(!1),[c,u]=(0,l.useState)(!1),[m,p]=(0,l.useState)(!1),[h,v]=(0,l.useState)(null),[A,j]=(0,l.useState)(null),y=localStorage.getItem("instance"),[f,b]=(0,l.useState)(!1),[T,S]=(0,l.useState)(null),w=()=>{a(!1),v(null),j(null)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(q.A,{open:t,onClose:w,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Bulk Upload Required Users"}),(0,o.jsx)(Z.A,{children:(0,o.jsx)(K.A,{children:(0,o.jsx)(x.A,{width:"100%",overflow:"auto",children:(0,o.jsx)(aa,{children:(0,o.jsxs)(me.A,{children:[(0,o.jsxs)(oe.A,{children:[(0,o.jsx)(de.A,{align:"left",children:"Upload File (Excel File)"}),(0,o.jsxs)(de.A,{align:"left",children:[(0,o.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,o.jsxs)(g.A,{component:"label",variant:"contained",startIcon:(0,o.jsx)(ne.A,{}),children:["Upload file",(0,o.jsx)(la,{type:"file",name:"file",accept:".xls, .xlsx",onChange:e=>{console.log("file selected");const t=e.target.files[0];if(t){const a=t.name.split(".").pop();"xlsx"===a||"xls"===a?(v(e.target.files[0]),j(e.target.files[0].name),d(!1)):(d(!0),j(null),v(null))}else d(!0),j(null),v(null)}})]}),r&&(0,o.jsx)("p",{children:"Please Select xlsx file to Upload "})]}),A&&(0,o.jsx)("p",{children:A})]})]}),(0,o.jsx)(oe.A,{children:(0,o.jsxs)(de.A,{colSpan:2,children:[(0,o.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,o.jsx)("a",{onClick:()=>{s.downloadSampleFile("sample-bulkUserUpload.xlsx")},download:"Example-XLSX-document",rel:"noreferrer",style:{color:"blue",cursor:"pointer"},children:"Click Here"})," ","to download the sample Excel template for bulk user upload."]}),(0,o.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,o.jsx)("b",{children:"Note:"})," Upload file must contain six columns with header labels in following order."]}),(0,o.jsxs)("div",{style:{paddingTop:"10px"},children:["1. User Name",(0,o.jsx)("br",{}),"3. Name",(0,o.jsx)("br",{}),"4. Email",(0,o.jsx)("br",{}),"5. Is Authorized",(0,o.jsx)("br",{}),"6. User Group",(0,o.jsx)("br",{})]})]})})]})})})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:async()=>{if(!h||h.length<1)d(!0);else try{const e={file:h,data:{Instance:y}};console.log(e,"postData");const t=await i.importUser(e);console.log(t,"response 11111");const a=t.status||"error";if(u(t),p(!0),v(null),j(null),w(),b(!0),S({severity:a,desc:"success"===a?null===t||void 0===t?void 0:t.msg:t.errors.join(", ")}),"success"===a){console.log(t,"response 22222 file uploaded successfully and user added");const e=await i.getAllUsersList();n(e.data)}else console.log(a,"response status")}catch(e){console.error("Error importing file:",e),b(!0),S({severity:"error",desc:"An error occurred while importing the file."})}},children:"Upload"}),(0,o.jsx)(g.A,{onClick:w,children:"Cancel"})]})]}),T?(0,o.jsx)(pe.A,{openAlert:f,openDesc:T,setOpenAlert:b}):(0,o.jsx)(o.Fragment,{})]})},sa=e=>{let{userExportDialog:t,setUserExportDialog:a,userData:n,selectedRows:s}=e;new le.Q;const[i,d]=(0,l.useState)(n||[]),[c,u]=(0,l.useState)("allData"),m=new E.D,[p,h]=(0,l.useState)(!1),[v,A]=(0,l.useState)(!1),[j,y]=(0,l.useState)(!1),[f,b]=(0,l.useState)(null),T=()=>{a(!1)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(q.A,{open:t,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Users"}),(0,o.jsx)(Z.A,{children:(0,o.jsx)(K.A,{children:(0,o.jsx)(x.A,{width:"100%",overflow:"auto",children:(0,o.jsx)(r.Tn,{children:(0,o.jsx)(D.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,o.jsx)(D.Ay,{container:!0,alignItems:"center",children:(0,o.jsxs)(ye.A,{children:[(0,o.jsx)(fe.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,o.jsxs)(Ae.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:c,onChange:e=>{const t=e.target.value;u(t),d("allData"===t?n:s)},children:[(0,o.jsx)(je.A,{value:"allData",control:(0,o.jsx)(ve.A,{}),label:"All Data"}),(0,o.jsx)(je.A,{value:"selectedData",disabled:0===s.length,control:(0,o.jsx)(ve.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:T,children:"Cancel"}),(0,o.jsx)(g.A,{onClick:()=>{console.log(n,"userData in bulk export inside export template.");let e=("allData"!==c?s:n)||[],t=null===e||void 0===e?void 0:e.map((e=>({Name:e.name,"User Name":e.userName,Email:e.email,"Is Authorized":e.is_authorized,"User Group":e.userinfo.join(", ")})));console.log(e,"data"),m.exportUser({data:t,sheet_name:"Users"}).then((e=>{A(e),h(!0),y(!0),b({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})})),T()},children:"Export"})]})]}),f?(0,o.jsx)(pe.A,{openAlert:j,openDesc:f,setOpenAlert:y}):(0,o.jsx)(o.Fragment,{})]})},ia=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),ra=()=>{let e=(0,i.zy)().state;const[t,a]=(0,l.useState)([]),[n,s]=(0,l.useState)(""),[d,c]=(0,l.useState)(!1),[u,m]=(0,l.useState)(!1),p=new E.D,[h,v]=(0,l.useState)(!1),[A,j]=(0,l.useState)(null),[y,f]=(0,l.useState)(!1),[b,T]=(0,l.useState)(!1),[S,w]=(0,l.useState)([]),[O,C]=(0,l.useState)({}),[M,P]=(0,l.useState)({}),[L,N]=(0,l.useState)([]),I=(0,l.useRef)(null),R=I&&I.current&&I.current.dataMap?I.current.dataMap:null,_=(0,l.useCallback)((e=>{let{selected:t}=e;P(t)}),[]),k=[{name:"name",header:"Name",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.name})}},{name:"userName",header:"User Name",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.userName})}},{name:"email",header:"Email",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.email})}},{name:"is_authorized",header:"Is Authorized",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:"Y"===(null===t||void 0===t?void 0:t.is_authorized)?"Yes":"No"})}},{name:"userinfo",header:"User Group",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null!==t&&void 0!==t&&t.userinfo?t.userinfo.map((e=>e)).join(", "):""})}}];(0,l.useEffect)((()=>{console.log(t,"userData inside useEffect"),0===t.length?(c(!0),p.getAllUsersList().then((e=>{a(e.data),w(e.data),c(!1)}))):a(t)}),[]);const[B,F]=(0,l.useState)([]),U=Array.isArray(B)?B:[];let W=(0,Se.t$)([...U],"name");(0,l.useEffect)((()=>{F(t),w(W)}),[t]);const $=(0,i.Zp)(),V=e=>{const t=e;setTimeout((()=>{$("/addEditUser",{state:{isEdit:!0,selectedUserData:t}})}),200)},z=e=>{m(!0)};(0,l.useEffect)((()=>{const e=!0===M?R:M,t=e&&Object.keys(e).map((t=>e[t]));N(t)}),[M,R]),(0,l.useEffect)((()=>{if(t){const e=t.filter((e=>""===n||e.name.toLowerCase().includes(n.toLowerCase())||e.email.toLowerCase().includes(n.toLowerCase())||e.userName.toLowerCase().includes(n.toLowerCase())));F(e)}}),[n,t]),(0,l.useEffect)((()=>{var t,l,n;null!==(t=e)&&void 0!==t&&t.status&&(v(!0),j({severity:null===(l=e)||void 0===l?void 0:l.status,desc:null===(n=e)||void 0===n?void 0:n.message}),p.getAllUsersList().then((e=>{a(e.data),w(e.data)})));e={},window.onbeforeunload=()=>{window.history.replaceState({},document.title)}}),[e]);const G=e=>{C(e);const l=Ee(ra)({data:t,sortedUsersData:W,sortInfo:e,onSortInfoChange:G,initialData:S});a(l.props.data),F(l.props.data)};return(0,o.jsxs)(ia,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Users"}]})}),(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(te.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;s(t)},value:n,style:{width:"100%"}})}),(0,o.jsxs)(D.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{},children:"Search"}),(0,o.jsx)("div",{style:{flex:1}}),(0,o.jsx)(g.A,{variant:"contained",component:X.Link,onClick:()=>{setTimeout((()=>{$("/addEditUser",{state:{isEdit:!1}})}),200)},children:"Create"}),(0,o.jsx)(g.A,{variant:"contained",disabled:1!==(null===L||void 0===L?void 0:L.length),onClick:()=>{V(L[0])},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,o.jsx)(g.A,{variant:"contained",disabled:null===L||void 0===L||!L.length,onClick:()=>{z(L[0]),m(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{f(!0)},style:{margin:"0 0px 0 10px"},children:"Import"}),(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{T(!0)},style:{margin:"0 0px 0 10px"},children:"Export"})]}),(0,o.jsxs)(x.A,{width:"100%",overflow:"auto",children:[(0,o.jsx)("br",{}),d?(0,o.jsx)(x.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,o.jsx)(tt.A,{})}):B&&(0,o.jsx)(Te.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:k,dataSource:null===O?B:W,checkboxColumn:!0,selected:M,onSelectionChange:_,handle:e=>I.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===I||void 0===I||null===(e=I.current)||void 0===e?void 0:e.setScrollTop(0==(null===L||void 0===L?void 0:L.length)?0:null===I||void 0===I||null===(t=I.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:G})]})]})}),A?(0,o.jsx)(pe.A,{openAlert:h,openDesc:A,setOpenAlert:v}):(0,o.jsx)(o.Fragment,{}),(0,o.jsxs)(q.A,{open:u,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Design Organization"}),(0,o.jsx)(Z.A,{children:(0,o.jsx)(K.A,{children:"Do you want to delete the seleted User(s)?"})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{autoFocus:!0,onClick:()=>{m(!1)},children:"Cancel"}),(0,o.jsx)(g.A,{onClick:async()=>{m(!1);try{c(!0),console.log(L,"selectedRows");const e=null===L||void 0===L?void 0:L.map((e=>null===e||void 0===e?void 0:e.id));await p.deleteUser(e).then((e=>{console.log(e,"delete response"),c(!1),v(!0),j({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),P({}),N([])}))}catch(e){console.error("Failed to delete User:",e)}p.getAllUsersList().then((e=>{a(e.data)}))},children:"delete"})]})]}),(0,o.jsx)(sa,{userExportDialog:b,handleCloseExportDialog:()=>{T(!1)},setUserImportDialog:f,setUserExportDialog:T,selectedRows:L,userData:O&&0===Object.keys(O).length?W:t}),(0,o.jsx)(na,{userImportDialog:y,setUserImportDialog:f,setUserData:a})]})},oa=ra,da=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),ca={spanRed:{color:"#FF3D57"}};function ua(){var e,t,a;const[n,s]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),u=(0,i.zy)(),m=null===(e=u.state)||void 0===e?void 0:e.isEdit,p=void 0!==(null===(t=u.state)||void 0===t?void 0:t.selectedUserData)?null===(a=u.state)||void 0===a?void 0:a.selectedUserData:{},[h,v]=(0,l.useState)({id:void 0!==p.userId?p.userId:Date.now().toString(),userName:p.userName,name:p.name,email:p.email,is_authorized:void 0!==p.is_authorized?p.is_authorized:"Y",userinfo:void 0!==p.userinfo?p.userinfo:[]}),A=ca;let j=(0,i.Zp)();const y=new E.D,f=e=>{const{name:t,value:a}=e.target,l={...h,[t]:a};v(l)},[b,T]=(0,l.useState)(p.userinfo||[]),S=(e,t)=>{s(!0),c({severity:t,desc:e})};return(0,o.jsxs)(da,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:m?"Edit User":"Create User"}]})}),(0,o.jsx)("form",{children:(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:6,xs:6,children:[(0,o.jsx)("h4",{children:m?"Edit User":"Create User"}),(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Name ",(0,o.jsx)("span",{className:A.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"name",value:h.name,onChange:f,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["User Name ",(0,o.jsx)("span",{className:A.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"userName",value:h.userName,onChange:f,fullWidth:!0,margin:"normal"})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["Email ",(0,o.jsx)("span",{className:A.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(te.A,{name:"email",disabled:m,value:h.email,onChange:f,fullWidth:!0,margin:"normal"})}),(0,o.jsxs)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,o.jsx)("span",{children:"Is Authorized"})," ",(0,o.jsx)("span",{className:A.spanRed,children:"*"})]}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"is_authorized",name:"is_authorized",fullWidth:!0,value:h.is_authorized?h.is_authorized:"",onChange:f,children:L.HW.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,o.jsxs)("span",{children:["User Group ",(0,o.jsx)("span",{className:A.spanRed,children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{style:{width:"100%"},multiple:!0,value:b.map((e=>e)),onChange:e=>{const t=e.target.value,a=L.bf.filter((e=>t.includes(e)));T(a)},renderValue:e=>e.join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===L.bf||void 0===L.bf?void 0:L.bf.map((e=>(0,o.jsx)(C.A,{value:e,children:e},e)))})})]}),(0,o.jsx)("br",{}),(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:6,className:"font-medium",children:(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e,t,a,l;if(""===(null===(e=h.userName)||void 0===e?void 0:e.trim())||!h.userName||""===(null===(t=h.name)||void 0===t?void 0:t.trim())||!h.name||""===(null===(a=h.email)||void 0===a?void 0:a.trim())||!h.email||0===b.length||""===(null===(l=h.is_authorized)||void 0===l?void 0:l.trim())||!h.is_authorized)return void S("Please fill the require details","error");const n={id:h.id,userName:h.userName,name:h.name,email:h.email,is_authorized:h.is_authorized,userinfo:b};m?y.updateUser({userData:n}).then((e=>{"success"===e.status?setTimeout((()=>{j("/userList",{state:{message:e.msg,status:e.status}})}),200):"error"===e.status&&S(e.msg,e.status)})):y.addnewUser({userData:n}).then((e=>{"success"===e.status?setTimeout((()=>{j("/userList",{state:{message:e.msg,status:e.status}})}),200):"error"===e.status&&S(e.msg,e.status)}))},children:m?"Update":"Create"})})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:6,className:"font-medium",children:(0,o.jsx)("span",{children:(0,o.jsx)(g.A,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{j(-1)}),200)},children:"Cancel"})})})]})]})})}),d?(0,o.jsx)(pe.A,{openAlert:n,openDesc:d,setOpenAlert:s}):(0,o.jsx)(o.Fragment,{})]})}const ma=[{path:"/userList",element:(0,o.jsx)(H,{children:(0,o.jsx)(oa,{})})},{path:"/addEditUser",element:(0,o.jsx)(H,{children:(0,o.jsx)(ua,{})})}],pa={adminConstant:{common:{deleteNote:"Data will not be romeved from the master data. It will be added to your draft changes only."},buplantList:{tooltip:{RDO:"Design Organization",Plant:"PLANT",BomStatus:"BOM STATUS",PoORG:"PO ORG",RduOuSetORG:"RDU OU SET ORG"}},expensemapList:{tooltip:{EXPENSE_TEMPLATE:"Template",RDO:"Design Organization",PlantName:"Plant Name"}},mvoallowedchangesList:{tooltip:{RDO:"Design Organization",mvoTemplatesFrom:"MVO Template - From",mvoTemplatesTo:"MVO Template - To"}},mvoTemplateList:{tooltip:{RDO:"Design Organization",TemplateOptionMVO:"Template MVO",HasMBom:"Has MBom",OnMBom:"ON MBom",Optional:"Optional",PoExist:"PO Exist",EBomAllowed:"EBOM Allowed",AllowableOrgTemplate:"Org Allowed Templates - Status"}},orgAllowedList:{tooltip:{RDO:"Design Organization",AllowableOrgTemplate:"Template Name",HasMBom:"Has MBOM",EBOM:"EBOM Allowed",Optional:"Optional",PoCheck:"PO Org Check",OnMbom:"ON MBOM",status:"status"}},parttypetemplateList:{tooltip:{RDO:"Design Organization",TemplateOptionsMVO:"Enovia Part Type",allowableOrgTemplatesExclusive:"Org Allowed Templates - Exclusive use"}},setComptempList:{tooltip:{RDO:"Design Organization",TemplateForOrgExist:"Template for Org(s) Existing",TemplateForOrgModify:"Template for Org Modifying"}}}},ha=e=>{var t;let{open:a,handleorgAllowedDialogClose:n,selectedPlants:s,orgAllowedForm:i,handleorgAllowedFormChange:r,handleAddOrgAllowedValues:d,isEdit:c,selectedBU:u}=e;const{templatesInfo:m,bussinessUnitLists:p}=(0,M.A)(),[h,x]=(0,l.useState)([]),[v,A]=(0,l.useState)([]);return(0,l.useEffect)((()=>{if(u){let e=m.filter((e=>{var t;return null===e||void 0===e||null===(t=e.BU)||void 0===t?void 0:t.includes(u)}));console.log(e,"tempData tempData tempData"),x(e)}A([u])}),[u,m]),(0,o.jsxs)(q.A,{open:a,children:[(0,o.jsxs)(J.A,{children:[" ",c?"Edit Org Allowed Templates ":"Add OrgAllowed Templates"]}),(0,o.jsx)(Z.A,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Design Organization ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:u,onChange:r,disabled:!0,children:null===v||void 0===v?void 0:v.map((e=>(0,o.jsx)(C.A,{value:e,children:e},e)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Template Name ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{name:"ALLOWABLE_ORG_TEMPLATES",fullWidth:!0,value:i.ALLOWABLE_ORG_TEMPLATES,onChange:r,disabled:c,children:null===h||void 0===h?void 0:h.map((e=>(0,o.jsx)(C.A,{value:e.templateName,children:e.templateName},e.templateName)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Has MBOM ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"Has_MBOM",name:"Has_MBOM",fullWidth:!0,displayEmpty:!0,value:void 0!==i.Has_MBOM?i.Has_MBOM:"Y",onChange:r,children:L.PV.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["On MBOM ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"On_MBOM",name:"On_MBOM",fullWidth:!0,displayEmpty:!0,value:void 0!==i.On_MBOM?i.On_MBOM:"Y",onChange:r,children:L.PV.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["EBOM Allowed ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"EBOM_Allowed",name:"EBOM_Allowed",fullWidth:!0,displayEmpty:!0,value:void 0!==i.EBOM_Allowed?i.EBOM_Allowed:"Y",onChange:r,children:L.PV.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Optional ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"Optional",name:"Optional",fullWidth:!0,displayEmpty:!0,value:void 0!==i.Optional?i.Optional:"Y",onChange:r,children:L.PV.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["PO Org Check: ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"PO_Org_Exist_Check",name:"PO_Org_Exist_Check",fullWidth:!0,displayEmpty:!0,value:void 0!==i.PO_Org_Exist_Check?i.PO_Org_Exist_Check:"Y",onChange:r,children:L.PV.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.label},e.value)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Plants ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{style:{width:"100%"},multiple:!0,name:"plants",value:s,onChange:r,renderValue:e=>null===e||void 0===e?void 0:e.join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===(t=(()=>{var e;return(null===p||void 0===p||null===(e=p.find((e=>e.buName===u)))||void 0===e?void 0:e.plants)||[]})())||void 0===t?void 0:t.map((e=>(0,o.jsx)(C.A,{value:e.plantName,children:e.plantName},e.plantName)))})})]})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:n,children:"Cancel"}),(0,o.jsx)(g.A,{onClick:d,children:c?"Update":"Add"})]})]})};class xa{constructor(){this.getAlldraftChanges=()=>ke.A.get(`${_e.Sb}/draftChanges/getDraftChanges`,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTeamplateMappings",e),[]))),this.deleteTemplateMapping=e=>ke.A.delete(`${_e.Sb}/draftChanges/deletedraftChanges/${e}`,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting deletedraftChanges:",e),e})),this.addnewTemplateMapping=e=>ke.A.post(`${_e.Sb}/draftChanges/adddraftChanges`,e,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("adddraftChanges",e),[]))),this.updateTemplateMapping=e=>ke.A.put(`${_e.Sb}/draftChanges/updatedraftChanges`,e,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updatedraftChanges",e),[]))),this.applyDraftChanges=e=>ke.A.post(`${_e.Sb}/draftChanges/acceptChanges`,e,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("applyDraftChanges",e),[]))),this.discardDraftChanges=e=>ke.A.delete(`${_e.Sb}/draftChanges/deletedraftChanges/${e}`,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting discardDraftChanges:",e),e})),this.getAllmappingHistory=()=>ke.A.get(`${_e.Sb}/mappingHistory/getMappingHistory`,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTeamplateMappings",e),[])))}}class ga{constructor(){this.getAlltempcompMappings=()=>ke.A.get(`${_e.Sb}/newtemplateMappings/getTemplateMappings`,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTeamplateMappings",e),[]))),this.deleteTempCompMapping=e=>ke.A.delete(`${_e.Sb}/newtemplateMappings/deleteTemplateMappings/${e}`,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting deleteTemplateMappings:",e),e})),this.addnewTempCompMapping=e=>ke.A.post(`${_e.Sb}/newtemplateMappings/addTemplateMappings`,e,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addTemplateMappings",e),[]))),this.updateTempCompMapping=e=>ke.A.put(`${_e.Sb}/newtemplateMappings/updateTemplateMappings`,e,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateTemplateMappings",e),[]))),this.softDeleteTempCompMapping=e=>ke.A.post(`${_e.Sb}/newtemplateMappings/softDeleteTemplateMappings`,e,_e.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("softDeleteTemplateMappings",e),[])))}}const va=(0,h.Ay)(ie.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Aa=(0,h.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),ja=e=>{const{allTemplatesInfo:t,updateRefreshData:a,bussinessUnitLists:n}=(0,M.A)(),s=new Qt.W,{importTemplate:i,setImportTemplate:r,fetchData:d}=e,[c,u]=(0,l.useState)(!1),[m,p]=(0,l.useState)(!1),[h,v]=(0,l.useState)(!1),[A,j]=(0,l.useState)(!1),[y,f]=(0,l.useState)(null),[b,T]=(0,l.useState)(null),[E,S]=(0,l.useState)(null),[w,O]=(0,l.useState)(!1),[C,P]=(0,l.useState)(!1),[D,L]=(0,l.useState)(!1),[N,I]=(0,l.useState)({ERPType:[],instance:[],BU:[]}),[R,_]=(0,l.useState)(!1),[k,B]=(0,l.useState)(null);(0,l.useEffect)((()=>{let t=null;switch(null===e||void 0===e?void 0:e.MappingType){case"orgallowedvalues":t="sample-orgAllowedTemplate.xlsx";break;case"mvoTemplateCompatibility":t="sample-mvotemplatecompatibility.xlsx";break;case"parttypetotemplate":t="sample-partTypeToTemplate.xlsx";break;case"mvoallowedchanges":t="sample-mvoallowedchanges.xlsx";break;case"setcompatibletemplates":t="sample-setcompatibletemplates.xlsx";break;case"buplantmapping":t="sample-RDOPlantMapping.xlsx";break;case"expensemapping":t="sample-expensemapping.xlsx"}S(t)}),[e.MappingType]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(q.A,{open:i,style:{zIndex:999},children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:e.title}),(0,o.jsx)(Z.A,{children:(0,o.jsx)(K.A,{children:(0,o.jsx)(x.A,{width:"100%",overflow:"auto",children:(0,o.jsx)(va,{children:(0,o.jsxs)(me.A,{children:[(0,o.jsxs)(oe.A,{children:[(0,o.jsx)(de.A,{align:"left",children:(0,o.jsx)(ce.A,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Design Organization"})}),(0,o.jsxs)(de.A,{align:"left",children:[(0,o.jsx)(ue.A,{style:{width:"70%"},multiple:!1,options:(e=>{const t=new Set;return null===n||void 0===n||n.forEach((a=>{t.add(a[e])})),Array.from(t)})("buName"),value:N.BU,onChange:(e,t)=>{return a="BU",l=t,I((e=>({...e,[a]:l}))),"ERPType"===a&&O(!1),"instance"===a&&P(!1),"BU"===a&&L(!1),void console.info(N,"importSelectionValues");var a,l},renderValue:()=>null,renderInput:e=>(0,o.jsx)(te.A,{...e,variant:"outlined",label:"Select RDO",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!1,disableClearable:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionSelected:(e,t)=>N.BU.includes(t),ChipProps:{style:{fontSize:"8px"}}}),D&&(0,o.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,o.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,o.jsxs)(g.A,{component:"label",variant:"contained",startIcon:(0,o.jsx)(ne.A,{}),children:["Upload file",(0,o.jsx)(Aa,{type:"file",name:"file",accept:".xls, .xlsx",onChange:e=>{const t=e.target.files[0];if(t){const a=t.name.split(".").pop();"xlsx"===a||"xls"===a?(f(e.target.files[0]),T(e.target.files[0].name),p(!1)):(p(!0),T(null),f(null))}else p(!0),T(null),f(null)}})]}),m&&(0,o.jsx)("p",{children:"Please Select xlsx file to Upload "})]}),b&&(0,o.jsx)("p",{children:b}),(0,o.jsx)("div",{style:{paddingTop:"10px"},children:(0,o.jsx)(g.A,{component:"label",variant:"contained",startIcon:(0,o.jsx)(se.A,{}),onClick:()=>{s.downloadSampleFile(E)},children:"Download sample file"})})]})})})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{autoFocus:!0,onClick:()=>{f(null),r(!1)},children:"Cancel"}),(0,o.jsx)(g.A,{onClick:()=>{if(null===N.BU||N.BU.length<1)L(!0);else if(null===y||y.length<1)p(!0);else if(null!==y){let t={file:y,data:{BU:N.BU,MappingType:null===e||void 0===e?void 0:e.MappingType}};u(!0),s.importTemplate(t).then((e=>{v(e),j(!0),f(null),T(null),r(!1);let t={},l="";e&&"error"===e.status?(t=(0,o.jsxs)("div",{style:{color:"red"},children:[null===e||void 0===e?void 0:e.msg," ",(0,o.jsx)("br",{}),(null===e||void 0===e?void 0:e.errorInTemplateCount)&&(0,o.jsxs)(o.Fragment,{children:["Total Template Count: ",e.errorInTemplateCount," ",(0,o.jsx)("br",{}),"Templates are: ",(0,o.jsx)("br",{}),(0,o.jsx)("ul",{children:e.errorInTemplate.map((e=>(0,o.jsx)("li",{children:e},$e().generate())))})]}),(null===e||void 0===e?void 0:e.errorInPlantCount)&&(0,o.jsxs)(o.Fragment,{children:["Total Plant Count: ",e.errorInPlantCount," ",(0,o.jsx)("br",{}),"Plants are: ",(0,o.jsx)("br",{}),(0,o.jsx)("ul",{children:e.errorInPlants.map((e=>(0,o.jsx)("li",{children:e},$e().generate())))})]})]}),l="error"):e.errorCount>0||!e.newTemplateAdded&&!e.updateTemplates?(t=(0,o.jsxs)("div",{style:{color:"red"},children:["Failure ",(0,o.jsx)("br",{}),"New Template Added: ",e.newTemplateAdded," ",(0,o.jsx)("br",{}),"Template Updated: ",e.updateTemplates," ",(0,o.jsx)("br",{}),e.errorCount>0&&(0,o.jsxs)(o.Fragment,{children:["Error in Template: ",e.errorCount," ",(0,o.jsx)("br",{})]})]}),l="error"):(t=(0,o.jsxs)("div",{children:[e.msg," ",(0,o.jsx)("br",{}),"New Template Added: ",e.newTemplateAdded," ",(0,o.jsx)("br",{}),"Template Updated: ",e.updateTemplates," ",(0,o.jsx)("br",{})]}),l="success"),_(!0),B({severity:l,desc:t}),u(!1),"error"!==l&&(null!==e&&void 0!==e&&e.errorInTemplateCount&&null!==e&&void 0!==e&&e.errorInPlantCount||(a(!0),d()))}))}},children:"Import"})]})]}),k?(0,o.jsx)(pe.A,{openAlert:R,openDesc:k,setOpenAlert:_,sx:{"& .MuiAlertTitle-root":{backgroundColor:"red"}}}):(0,o.jsx)(o.Fragment,{}),c?(0,o.jsx)("div",{style:{textAlign:"center"},children:(0,o.jsx)(ee.A,{show:c})}):(0,o.jsx)(o.Fragment,{})]})},ya=(0,l.createContext)({mvotemplatecompInfo:[],updateMVOtempcompLists:()=>[]}),fa=ya,ba=()=>(0,l.useContext)(fa),Ta=(0,l.createContext)({parttypetemplateinfo:[],updateParttypeTemplate:()=>[]}),Ea=Ta,Sa=()=>(0,l.useContext)(Ea),wa=(0,l.createContext)({mvoallowedchangesinfo:[],updateMVOallowedchanges:()=>[]}),Oa=wa,Ca=()=>(0,l.useContext)(Oa),Ma=(0,l.createContext)({comptempInfo:[],updatecomptempList:()=>[]}),Pa=Ma,Da=()=>(0,l.useContext)(Pa),La=(0,l.createContext)({buplantsInfo:[],updatebuplantsInfo:()=>[]}),Na=La,Ia=()=>(0,l.useContext)(Na),Ra=(0,l.createContext)({expensemapInfo:[],updateExpenseMap:()=>[]}),_a=Ra,ka=()=>(0,l.useContext)(_a),Ba=e=>{const t=new le.Q,[a,n]=(0,l.useState)(!1),[s,i]=(0,l.useState)(!1),[d,c]=(0,l.useState)(!1),[u,m]=(0,l.useState)([]),{templatesInfo:p,bussinessUnit:h,mappingTemplatesInfo:v}=(0,M.A)(),{mvotemplatecompInfo:A}=ba(),{parttypetemplateinfo:j}=Sa(),{mvoallowedchangesinfo:y}=Ca(),{comptempInfo:f}=Da(),{buplantsInfo:b}=Ia(),{expensemapInfo:T}=ka(),[E,S]=(0,l.useState)("allData"),[w,O]=(e.filterTemplateData,(0,l.useState)(!1)),[C,P]=(0,l.useState)(null);let L=localStorage.getItem("bussinessUnit");function N(e){return e&&0===Object.keys(e).length&&e.constructor===Object}(0,l.useEffect)((()=>{var t;v&&v.forEach((e=>{const t=e.details;t&&(t.allowableOrgTemplates&&t.allowableOrgTemplates.sort(((e,t)=>{const a=e.ALLOWABLE_ORG_TEMPLATE?"ALLOWABLE_ORG_TEMPLATE":"org_allowed_template";return e[a]<t[a]?-1:e[a]>t[a]?1:0})),t.MVO_TEMPLATES_TO&&t.MVO_TEMPLATES_TO.sort(((e,t)=>e.MVO_TEMPLATE_TO<t.MVO_TEMPLATE_TO?-1:e.MVO_TEMPLATE_TO>t.MVO_TEMPLATE_TO?1:0)),t.TEMPLATE_ORG_MODIFYING&&t.TEMPLATE_ORG_MODIFYING.sort(((e,t)=>e.TEMPLATE_ORG_MODIFYING<t.TEMPLATE_ORG_MODIFYING?-1:e.TEMPLATE_ORG_MODIFYING>t.TEMPLATE_ORG_MODIFYING?1:0)))}));let a=e.MappingType;"mvoallowedchanges"===a&&N(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="MVO_TEMPLATE_FROM",e.sortInfo.columnName="MVO_TEMPLATE_FROM"),"mvoTemplateCompatibility"===a&&N(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="MVO_TEMPLATE_OPTION",e.sortInfo.columnName="MVO_TEMPLATE_OPTION"),"parttypetotemplate"===a&&N(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="ENGG_ITEM_TYPE",e.sortInfo.columnName="ENGG_ITEM_TYPE"),"setcompatibletemplates"===a&&N(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="TEMPLATE_ORG_EXISTING",e.sortInfo.columnName="TEMPLATE_ORG_EXISTING"),"expensemapping"===a&&N(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="EXPENSE_TEMPLATE",e.sortInfo.columnName="EXPENSE_TEMPLATE");let l=a&&v?v.filter((e=>e.MappingType===a)):[];"allData"===E&&e.sortInfo&&l.sort(((t,a)=>{var l,n;const s=e.sortInfo.id||e.sortInfo.name||e.sortInfo.columnName,i=(null===(l=t[s])||void 0===l?void 0:l.toLowerCase())||"",r=(null===(n=a[s])||void 0===n?void 0:n.toLowerCase())||"";return i<r?1===e.sortInfo.dir?-1:1:i>r?1===e.sortInfo.dir?1:-1:0}));let n="allData"===E?l:null===e||void 0===e?void 0:e.filterTemplateData;n=null===(t=n)||void 0===t?void 0:t.filter((e=>e.BUID===h));let s=n.map((e=>{if("orgallowedvalues"===a&&"Delete"!==e.actionFlag){var t,l,n,s,i,r,o;return{"Template Name":null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES,"Design Organization":e.BUID,"Has MBOM":null===e||void 0===e||null===(l=e.details)||void 0===l?void 0:l.Has_MBOM,"On MBOM":null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.On_MBOM,"EBOM Allowed":null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.EBOM_Allowed,Optional:null===e||void 0===e||null===(i=e.details)||void 0===i?void 0:i.Optional,"PO Org Check":null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.PO_Org_Exist_Check,...null===e||void 0===e||null===(o=e.details)||void 0===o?void 0:o.Plants}}var d,c,u,m,p,x,g,v;if("mvoTemplateCompatibility"===a&&"Delete"!==e.actionFlag)return null===(d=e.details)||void 0===d||null===(c=d.allowableOrgTemplates)||void 0===c?void 0:c.map(((t,a)=>({"Template MVO":0===a?e.details.MVO_TEMPLATE_OPTION:null,"Org Allowed Templates":t.ALLOWABLE_ORG_TEMPLATE,"Status:":t.status,"Design Organization":0===a?e.BUID:null})));if("parttypetotemplate"===a&&"Delete"!==e.actionFlag)return null===(u=e.details)||void 0===u||null===(m=u.allowableOrgTemplates)||void 0===m?void 0:m.map(((t,a)=>({"Enovia Part Type":0===a?e.details.ENGG_ITEM_TYPE:null,"Org Allowed Templates":t.org_allowed_template,"Exclusive Use":t.exclusive_use,"Design Organization":0===a?e.BUID:null})));if("mvoallowedchanges"===a&&"Delete"!==e.actionFlag)return null===(p=e.details)||void 0===p||null===(x=p.MVO_TEMPLATES_TO)||void 0===x?void 0:x.map(((t,a)=>({"MVO Template - From":0===a?e.details.MVO_TEMPLATE_FROM:null,"MVO Template - To":t.MVO_TEMPLATE_TO,"Design Organization":0===a?e.BUID:null})));if("setcompatibletemplates"===a&&"Delete"!==e.actionFlag)return null===(g=e.details)||void 0===g||null===(v=g.TEMPLATE_ORG_MODIFYING)||void 0===v?void 0:v.map(((t,a)=>({"Template for Org(s) Existing":0===a?e.details.TEMPLATE_ORG_EXISTING:null,"Template for Org Modifying":t.TEMPLATE_ORG_MODIFYING,"Design Organization":0===a?e.BUID:null})));if("buplantmapping"===a&&"Delete"!==e.actionFlag){return{Entity:e.details.Entity,...Object.keys(e.details.PLANT).sort().reduce(((t,a)=>(t[a]=e.details.PLANT[a],t)),{})}}if("expensemapping"===a&&"Delete"!==e.actionFlag){return{Template:e.details.EXPENSE_TEMPLATE,"Design Organization":h,...e.details.EXPENSE_PLANTS}}})).flat().filter((e=>null!==e&&void 0!==e));m(s)}),[h,p,A,j,y,f,b,T,E,v,e.filterTemplateData,e.sortInfo]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{n(!0)},children:"Export"}),(0,o.jsxs)(q.A,{open:a,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,o.jsx)(Z.A,{children:(0,o.jsx)(K.A,{children:(0,o.jsx)(x.A,{width:"100%",overflow:"auto",children:(0,o.jsx)(r.Tn,{children:(0,o.jsx)(D.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,o.jsx)(D.Ay,{container:!0,alignItems:"center",children:(0,o.jsxs)(ye.A,{children:[(0,o.jsx)(fe.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,o.jsxs)(Ae.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:E,onChange:e=>{S(e.target.value)},children:[(0,o.jsx)(je.A,{value:"allData",control:(0,o.jsx)(ve.A,{}),label:"All Data"}),(0,o.jsx)(je.A,{value:"selectedData",control:(0,o.jsx)(ve.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"}),(0,o.jsx)(g.A,{onClick:()=>{if(u){let a=u;"RDO Plant Mapping"===e.title&&(a=(0,Ue.fb)(u)),"Org Allowed Templates"===e.title&&("orgallowedvalues"===e.MappingType&&N(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="ALLOWABLE_ORG_TEMPLATES",e.sortInfo.columnName="ALLOWABLE_ORG_TEMPLATES"),e.sortInfo&&a.sort(((t,a)=>{var l,n;let s=e.sortInfo.id||e.sortInfo.name||e.sortInfo.columnName;"ALLOWABLE_ORG_TEMPLATES"===s&&(s="Template Name");const i=(null===(l=t[s])||void 0===l?void 0:l.toLowerCase())||"",r=(null===(n=a[s])||void 0===n?void 0:n.toLowerCase())||"";return i<r?1===e.sortInfo.dir?-1:1:i>r?1===e.sortInfo.dir?1:-1:0}))),t.exportTemplate({data:a,sheet_name:e.title.substring(0,26),bussiness_unit:L}).then((e=>{c(e),i(!0),O(!0),P({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))}n(!1)},children:"Export"})]})]}),C?(0,o.jsx)(pe.A,{openAlert:w,openDesc:C,setOpenAlert:O}):(0,o.jsx)(o.Fragment,{})]})},Fa=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Ua=()=>{const{refreshData:e}=(0,M.A)(),{templatesInfo:t,bussinessUnit:a,bussinessUnitLists:n,mappingTemplatesInfo:s,updateBussinessUnit:i,updateMappingTemplatesInfo:d}=(0,M.A)(),[c,u]=(0,l.useState)(""),[m,p]=(0,l.useState)(!1),[h,v]=(0,l.useState)(!1),[A,j]=(0,l.useState)({}),[y,f]=(0,l.useState)(!1),[b,T]=(0,l.useState)([]),E=new ga,S=new Qt.W,w=new xa,[O,C]=(0,l.useState)(),[N,I]=(0,l.useState)(!1),[R,_]=(0,l.useState)([]),[k,B]=(0,l.useState)([]),[F,U]=(0,l.useState)(!1),[W,$]=(0,l.useState)(!1),[V,z]=(0,l.useState)(null),[G,Y]=(0,l.useState)({}),[H,ee]=(0,l.useState)([]),le=(0,l.useRef)(null),[ne,se]=(0,l.useState)({}),ie=le&&le.current&&le.current.dataMap?le.current.dataMap:null,re=e=>{const t=e.target.value;u(t)},oe=()=>{p(!1)},de=(e,t)=>{$(!0),z({severity:t,desc:e})},ce=()=>{v(!1),j(""),T([]),B([]),Y({}),I(!1)},ue=()=>{U(!0),S.getAlltemplateMappings().then((e=>{var t;d(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),U(!1)}))},me=(0,l.useCallback)((e=>{let{selected:t}=e;Y(t)}),[]);(0,l.useEffect)((()=>{const e=!0===G?ie:G,t=e&&Object.keys(e).map((t=>e[t]));B(t)}),[G,ie]),(0,l.useEffect)((()=>{U(e)}),[e]);const[he,xe]=(0,l.useState)([]),[ge,ve]=(0,l.useState)([]),Ae=(0,Se.t$)(he,"ALLOWABLE_ORG_TEMPLATES");(0,l.useEffect)((()=>{je()}),[]),(0,l.useEffect)((()=>{if(U(!0),s){let l=s;var e,t;if(l=l.filter((e=>"orgallowedvalues"===e.MappingType&&"Delete"!==e.actionFlag)),a)l=null===(e=l)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(c&&""!==c)l=null===(t=l)||void 0===t?void 0:t.filter((e=>{var t,a,l;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(c))||(null===(a=JSON.stringify(e))||void 0===a||null===(l=a.toLocaleLowerCase())||void 0===l?void 0:l.includes(c))}));if(H.length>0){const e=H.filter((e=>"orgallowedvalues"==e.MappingType));e.length>0&&"orgallowedvalues"===e[0].MappingType&&l.forEach((t=>{e[0].changes.forEach((e=>{if(t.TEMPLATE_MAPPING===e.id){t.details.draftValue_ALLOWABLE_ORG_TEMPLATES=e.details.ALLOWABLE_ORG_TEMPLATES!==t.details.ALLOWABLE_ORG_TEMPLATES?e.details.ALLOWABLE_ORG_TEMPLATES:null,t.details.draftValue_Has_MBOM=e.details.Has_MBOM!==t.details.Has_MBOM?e.details.Has_MBOM:null,t.details.draftValue_On_MBOM=e.details.On_MBOM!==t.details.On_MBOM?e.details.On_MBOM:null,t.details.draftValue_EBOM_Allowed=e.details.EBOM_Allowed!==t.details.EBOM_Allowed?e.details.EBOM_Allowed:null,t.details.draftValue_Optional=e.details.Optional!==t.details.Optional?e.details.Optional:null,t.details.draftValue_PO_Org_Exist_Check=e.details.PO_Org_Exist_Check!==t.details.PO_Org_Exist_Check?e.details.PO_Org_Exist_Check:null,t.details.draft_Plants={};for(let a in t.details.Plants)t.details.draft_Plants[a]=e.details.Plants[a]!==t.details.Plants[a]?e.details.Plants[a]:null}}))}))}setTimeout((()=>{_(l);let e=l.map((e=>{var t,a,l,n,s,i,r,o,d,c,u,m,p,h;return e.ALLOWABLE_ORG_TEMPLATES=null!==e&&void 0!==e&&null!==(t=e.details)&&void 0!==t&&t.draftValue_ALLOWABLE_ORG_TEMPLATES?null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.draftValue_ALLOWABLE_ORG_TEMPLATES:null===e||void 0===e||null===(l=e.details)||void 0===l?void 0:l.ALLOWABLE_ORG_TEMPLATES,e.Has_MBOM=null!==e&&void 0!==e&&null!==(n=e.details)&&void 0!==n&&n.draftValue_Has_MBOM?`${null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.draftValue_Has_MBOM} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.Has_MBOM}</span>`:null===e||void 0===e?void 0:e.details.Has_MBOM,e.On_MBOM=null!==e&&void 0!==e&&null!==(i=e.details)&&void 0!==i&&i.draftValue_On_MBOM?`${null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.draftValue_On_MBOM} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.On_MBOM}</span>`:null===e||void 0===e?void 0:e.details.On_MBOM,e.EBOM_Allowed=null!==e&&void 0!==e&&null!==(o=e.details)&&void 0!==o&&o.draftValue_EBOM_Allowed?`${null===e||void 0===e||null===(d=e.details)||void 0===d?void 0:d.draftValue_EBOM_Allowed} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.EBOM_Allowed}</span>`:null===e||void 0===e?void 0:e.details.EBOM_Allowed,e.Optional=null!==e&&void 0!==e&&null!==(c=e.details)&&void 0!==c&&c.draftValue_Optional?`${null===e||void 0===e||null===(u=e.details)||void 0===u?void 0:u.draftValue_Optional} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.Optional}</span>`:null===e||void 0===e?void 0:e.details.Optional,e.PO_Org_Exist_Check=null!==e&&void 0!==e&&null!==(m=e.details)&&void 0!==m&&m.draftValue_PO_Org_Exist_Check?`${null===e||void 0===e||null===(p=e.details)||void 0===p?void 0:p.draftValue_PO_Org_Exist_Check} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.PO_Org_Exist_Check}</span>`:null===e||void 0===e?void 0:e.details.PO_Org_Exist_Check,Object.keys(null===e||void 0===e||null===(h=e.details)||void 0===h?void 0:h.Plants).map((t=>{var a,l,n,s,i,r;null!==e&&void 0!==e&&null!==(a=e.details)&&void 0!==a&&a.draft_Plants?e[t]=null!==e&&void 0!==e&&null!==(l=e.details)&&void 0!==l&&l.draft_Plants[t]?`${null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.draft_Plants[t]} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through"> ${null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.Plants[t]} <span>`:null===e||void 0===e||null===(i=e.details)||void 0===i?void 0:i.Plants[t]:e[t]=null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.Plants[t]})),e}));ve(l),xe(e),U(!1)}),500)}else{var l;if(!a)i(L.Qy?null===(l=L.Qy[0])||void 0===l?void 0:l.value:"")}}),[s,a,c,H]);const je=()=>{U(!0),w.getAlldraftChanges().then((e=>{let t=a||"Micro Motion";if(e.data){let a=e.data.filter((e=>e.BUID===t||"Another Name"===e.BUID));ee(a)}else ee([]);U(!1)}))};return(0,o.jsxs)(Fa,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Org Allowed Templates"}]})}),(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(te.A,{type:"text",name:"search",size:"small",onChange:re,value:c,style:{width:"100%"}})}),(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,o.jsxs)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:[(0,o.jsxs)(D.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,o.jsx)(D.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,o.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,o.jsx)(D.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,o.jsx)(P,{onChange:re,selectedvalue:a,style:{width:"100%"},optionsValues:L.Qy,onChangeFunc:e=>{Y({}),B([]),i(e),u("")}})})]}),(0,o.jsxs)(D.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,o.jsx)(g.A,{variant:"contained",component:X.Link,onClick:()=>{j({BUID:a}),T([]),v(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,o.jsx)(g.A,{variant:"contained",component:X.Link,disabled:1!==(null===k||void 0===k?void 0:k.length),onClick:()=>{var e,t;const a=null===(e=k[0])||void 0===e?void 0:e.details,l=null===(t=k[0])||void 0===t?void 0:t.BUID;for(const o in null===(n=k[0])||void 0===n||null===(s=n.details)||void 0===s?void 0:s.Plants){var n,s,i,r;"Y"===(null===(i=k[0])||void 0===i||null===(r=i.details)||void 0===r?void 0:r.Plants[o])&&b.push(o)}j({...a,BUID:l}),I(!0),v(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,o.jsx)(g.A,{variant:"contained",component:X.Link,disabled:0===(null===k||void 0===k?void 0:k.length),onClick:()=>{C(k[0]),p(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{f(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,o.jsx)(Ba,{title:"Org Allowed Templates",MappingType:"orgallowedvalues",filterTemplateData:k,sortInfo:ne})]})]}),(0,o.jsx)(D.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,o.jsxs)(x.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[F&&(0,o.jsx)(x.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,o.jsx)(tt.A,{})}),!F&&(0,o.jsx)(Te.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:(e=>{let t=new Set;e&&e.length>0&&e.forEach((e=>{var a;const l=null===(a=e.details)||void 0===a?void 0:a.Plants;if(l){Object.keys(l).forEach((e=>{t.add(e)}))}}));const a=Array.from(t).map((e=>({name:e,header:e,defaultWidth:100,render:e=>(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})})));return[{name:"ALLOWABLE_ORG_TEMPLATES",defaultWidth:250,header:(0,o.jsx)(ae.A,{title:pa.adminConstant.orgAllowedList.tooltip.AllowableOrgTemplate,children:"Template Name"}),render:e=>(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.orgAllowedList.tooltip.RDO,children:"Design Organization"}),defaultWidth:150},{name:"Has_MBOM",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.orgAllowedList.tooltip.HasMBom,children:"Has MBOM"}),defaultWidth:120,render:e=>(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"On_MBOM",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.orgAllowedList.tooltip.OnMbom,children:"On MBOM"}),defaultWidth:120,render:e=>(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"EBOM_Allowed",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.orgAllowedList.tooltip.EBOM,children:"EBOM Allowed"}),defaultWidth:100,render:e=>(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"Optional",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.orgAllowedList.tooltip.Optional,children:"Optional"}),defaultWidth:100,render:e=>(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"PO_Org_Exist_Check",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.orgAllowedList.tooltip.PoCheck,children:"PO org Check"}),defaultWidth:120,render:e=>(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},...a]})(R)||[],dataSource:null===ne?ge:Ae,rowHeight:null,checkboxColumn:!0,defaultLimit:100,selected:G,onSelectionChange:me,handle:e=>le.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(G).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===G?"#dee1f2":"initial"}},pagination:!0,renderScroller:()=>{var e,t;return null===le||void 0===le||null===(e=le.current)||void 0===e?void 0:e.setScrollTop(0==(null===k||void 0===k?void 0:k.length)?0:null===le||void 0===le||null===(t=le.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{se(e)}})]})})]})}),V?(0,o.jsx)(pe.A,{openAlert:W,openDesc:V,setOpenAlert:$}):(0,o.jsx)(o.Fragment,{}),(0,o.jsxs)(q.A,{open:m,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,o.jsx)(Z.A,{children:(0,o.jsxs)(K.A,{children:["Do you want to delete the OrgAllowedTemplates Mapping(s) for Design Organization"," ",(0,o.jsx)("b",{children:null===O||void 0===O?void 0:O.BUID}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("b",{children:"Note:"})," ",pa.adminConstant.common.deleteNote]})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:oe,children:"Cancel"}),(0,o.jsx)(g.A,{onClick:async()=>{try{await E.softDeleteTempCompMapping({data:k}).then((e=>{oe(),B([]),C([]),Y({})}))}catch(e){console.error("Failed to delete mapping:",e)}de("Template Mapping deleted Successfully","success"),ue(),p(!1)},children:"delete"})]})]}),(0,o.jsx)(ha,{open:h,handleorgAllowedDialogAdd:()=>{v(!1)},handleorgAllowedDialogClose:ce,orgAllowedForm:A,handleorgAllowedFormChange:e=>{const{name:t,value:l}=e.target;if("BUID"===t&&T([]),"ALLOWABLE_ORG_TEMPLATES"===t&&(j({...A,BUID:a}),T([])),"plants"===t)T(l);else{const e={...A,[t]:l};j(e)}},handleAddOrgAllowedValues:()=>{var e;const a=null===t||void 0===t?void 0:t.filter((e=>e.templateName===A.ALLOWABLE_ORG_TEMPLATES)),l=(null===n||void 0===n||null===(e=n.find((e=>e.buName===A.BUID)))||void 0===e?void 0:e.plants)||[],s={};if(l.forEach((e=>{const t=e.plantName;s[t]=null!==b&&void 0!==b&&b.includes(t)?"Y":"N"})),!A.ALLOWABLE_ORG_TEMPLATES||!A.BUID||(null===b||void 0===b?void 0:b.length)<1)de("Please Enter the required fields","error");else{if(A){const e={BUID:A.BUID,MappingType:"orgallowedvalues",id:a[0].id+"_"+A.BUID.trim(),details:{ALLOWABLE_ORG_TEMPLATES:A.ALLOWABLE_ORG_TEMPLATES,Has_MBOM:void 0!==A.Has_MBOM?A.Has_MBOM:"Y",EBOM_Allowed:void 0!==A.EBOM_Allowed?A.EBOM_Allowed:"Y",Optional:void 0!==A.Optional?A.Optional:"Y",PO_Org_Exist_Check:void 0!==A.PO_Org_Exist_Check?A.PO_Org_Exist_Check:"Y",On_MBOM:void 0!==A.On_MBOM?A.On_MBOM:"Y",ALLOWABLE_ORG_TEMPLATES_ID:a[0].id,Plants:s}};!1===N?E.addnewTempCompMapping(e).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(ue(),setTimeout((()=>{v(!1)}),200),de("Org Allowed Values added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&de(null===e||void 0===e?void 0:e.msg,"error")})):E.updateTempCompMapping(e).then((e=>{"success"===e.status?(setTimeout((()=>{v(!1),je(),ue()}),200),I(!1),de("Org Allowed Values updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&de(null===e||void 0===e?void 0:e.msg,"error")}))}ce()}},selectedPlants:b,isEdit:N,selectedBU:a}),(0,o.jsx)(ja,{title:"Import RDO Allowed Template Mappings",MappingType:"orgallowedvalues",selectedBU:a,importTemplate:y,fetchData:ue,setImportTemplate:f})]})},Wa=()=>(0,o.jsx)(Ua,{}),$a=[{path:"/orgallowedList",element:(0,o.jsx)(H,{children:(0,o.jsx)(Wa,{})})}];var Va=a(20979);const za={minHeight:248},Ga=e=>{let{open:t,handleorgAllowedDialogClose:a,orgAllowedForm:n,handleorgAllowedFormChange:s,handleAddMVOtempComp:i,isEdit:r,orgAllowedTempList:d,onSelectionChange:c,selected:u,filteredBUOptions:m,setFilteredBUOptions:p,formError:h,RDO:x,selectedRow:v,handleStatusChange:A}=e;const[j,y]=(0,l.useState)([]),[f,b]=(0,l.useState)({});(0,Se.bV)(j,"ALLOWABLE_ORG_TEMPLATES"),(0,l.useEffect)((()=>{if(null!==n&&void 0!==n&&n.BUID){null===n||void 0===n||n.BUID;p([x])}else p([x]);if(d){const e=null===d||void 0===d?void 0:d.filter((e=>(null===e||void 0===e?void 0:e.BUID)===x));v&&e.map((e=>{var t;return null===v||void 0===v||null===(t=v.details)||void 0===t||t.allowableOrgTemplates.map((t=>{e.details.ALLOWABLE_ORG_TEMPLATES===t.ALLOWABLE_ORG_TEMPLATE&&(e.status=t.status)})),e}));let t=e.map((e=>({...e,...null===e||void 0===e?void 0:e.details})))||[];console.log(t,"================table data"),y(t)}}),[d,n]),(0,l.useEffect)((()=>{console.log(h,"formError")}),[]);const T=(0,l.useRef)(null),E=[{name:"id",header:"Id",defaultVisible:!1,defaultWidth:60,type:"number"},{name:"ALLOWABLE_ORG_TEMPLATES",defaultWidth:265,header:(0,o.jsx)(ae.A,{title:pa.adminConstant.orgAllowedList.tooltip.AllowableOrgTemplate,children:"ALLOWABLE ORG TEMPLATES"}),render:e=>{var t;let{data:a}=e;return(0,o.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES})}},{name:"Has_MBOM",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.orgAllowedList.tooltip.HasMBom,children:"Has MBOM"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,o.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.Has_MBOM})}},{name:"EBOM_Allowed",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.orgAllowedList.tooltip.EBOM,children:"EBOM"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,o.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.EBOM_Allowed})}},{name:"Optional",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.orgAllowedList.tooltip.Optional,children:"Optional"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,o.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.Optional})}},{name:"PO_Org_Exist_Check",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.orgAllowedList.tooltip.PoCheck,children:"PO Check"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,o.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.PO_Org_Exist_Check})}},{name:"On_MBOM",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.orgAllowedList.tooltip.OnMbom,children:"On MBOM"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,o.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.On_MBOM})}},{name:"Status",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.orgAllowedList.tooltip.status,children:"Status"}),defaultWidth:200,render:e=>{var t,a,l,n;let{data:s}=e;return(0,o.jsx)("div",{children:(0,o.jsx)(ye.A,{children:(0,o.jsxs)(Ae.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:null===s||void 0===s||null===(t=s.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES,value:f[null===s||void 0===s||null===(a=s.details)||void 0===a?void 0:a.ALLOWABLE_ORG_TEMPLATES]?null===(l=f[null===s||void 0===s||null===(n=s.details)||void 0===n?void 0:n.ALLOWABLE_ORG_TEMPLATES])||void 0===l?void 0:l.trim():"active",onChange:e=>{const t={...f,[e.target.name]:e.target.value};b(t),A(e)},children:[(0,o.jsx)(je.A,{value:"active",control:(0,o.jsx)(ve.A,{}),label:"Active"}),(0,o.jsx)(je.A,{value:"disabled",control:(0,o.jsx)(ve.A,{}),label:"Disable"})]})})})}}];return(0,l.useEffect)((()=>{if(v){var e;const t=(e=>{let t={};return e.forEach((e=>{var a;t[null===e||void 0===e?void 0:e.ALLOWABLE_ORG_TEMPLATE]=null===e||void 0===e||null===(a=e.status)||void 0===a?void 0:a.toLowerCase()})),t})(null===v||void 0===v||null===(e=v.details)||void 0===e?void 0:e.allowableOrgTemplates);b(t)}}),[v]),(0,o.jsxs)(q.A,{open:t,fullWidth:!0,maxWidth:"xl",children:[(0,o.jsxs)(J.A,{children:[" ",r?"Edit MVO Template Compatibility":"Add MVO Template Compatibility"]}),(0,o.jsx)(Va.ur,{autoHeight:!0,autoHeightMin:100,autoHeightMax:500,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:300,children:(0,o.jsx)(Z.A,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsx)("span",{children:"Design Organization:"})}),(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,o.jsx)(O.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:x,onChange:s,disabled:!0,children:null===m||void 0===m?void 0:m.map((e=>(0,o.jsx)(C.A,{value:e,children:e},e)))}),null!==h&&void 0!==h&&h.RDOError?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("p",{style:{color:"red"},children:null===h||void 0===h?void 0:h.RDOError})}):(0,o.jsx)(o.Fragment,{})]}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsx)("span",{children:"Template MVO:"})}),(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,o.jsx)(O.A,{name:"MVO_TEMPLATE_OPTION",fullWidth:!0,value:n.MVO_TEMPLATE_OPTION,onChange:s,disabled:r,children:null===j||void 0===j?void 0:j.map(((e,t)=>(0,o.jsx)(C.A,{value:e.details.ALLOWABLE_ORG_TEMPLATES,children:e.details.ALLOWABLE_ORG_TEMPLATES},t)))}),null!==h&&void 0!==h&&h.templateError?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("p",{style:{color:"red"},children:null===h||void 0===h?void 0:h.templateError})}):(0,o.jsx)(o.Fragment,{})]}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Org Allowed Templates:"," "]})}),(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:[null!==h&&void 0!==h&&h.AllowableOrgTempError?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("p",{style:{color:"red"},children:null===h||void 0===h?void 0:h.AllowableOrgTempError})}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)(Te.Ay,{idProperty:"id",showZebraRows:!1,handle:e=>T.current=e?e.current:null,selected:u,checkboxColumn:!0,onSelectionChange:c,checkboxOnlyRowSelect:!0,style:{...za,height:"500px"},columns:E,dataSource:j,pagination:!0})]})]})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:a,children:"Cancel"}),(0,o.jsx)(g.A,{onClick:i,children:r?"Update":"Add"})]})]})},Ya=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Ha=()=>{var e,t,a,n,s,i,d,c,u;const{refreshData:m,templatesInfo:p,bussinessUnit:h,mappingTemplatesInfo:v,updateBussinessUnit:A,updateMappingTemplatesInfo:j}=(0,M.A)(),[y,f]=(0,l.useState)(!1),[b,T]=(0,l.useState)(""),[E,S]=(0,l.useState)(!1),[w,O]=(0,l.useState)(!1),C=new Qt.W,N=new ga,I=new xa,[R,_]=(0,l.useState)([]),[k,B]=(0,l.useState)(),[F,U]=(0,l.useState)(!1),[W,$]=(0,l.useState)({}),[V,z]=(0,l.useState)([]),[G,Y]=(0,l.useState)([]),[H,ee]=(0,l.useState)(!0),[le,ne]=(0,l.useState)({}),[se,ie]=(0,l.useState)({}),[re,oe]=(0,l.useState)([]),[de,ce]=(0,l.useState)({}),[ue,me]=(0,l.useState)(""),[he,xe]=(0,l.useState)({}),[ge,ve]=(0,l.useState)([]),[Ae,je]=(0,l.useState)(!1),[ye,fe]=(0,l.useState)(null),[be,Ee]=(0,l.useState)({}),we=(0,l.useRef)(null),Oe=we&&we.current&&we.current.dataMap?we.current.dataMap:null,Ce=()=>{S(!1)},Me=(e,t)=>{je(!0),fe({severity:t,desc:e})},Pe=[{name:"MVO_TEMPLATE_OPTION",header:(0,o.jsx)(ae.A,{title:null===pa||void 0===pa||null===(e=pa.adminConstant)||void 0===e||null===(t=e.mvoTemplateList)||void 0===t||null===(a=t.tooltip)||void 0===a?void 0:a.TemplateOptionMVO,children:"Template MVO"}),defaultWidth:250,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.MVO_TEMPLATE_OPTION})}},{name:"name",header:(0,o.jsx)(ae.A,{title:null===pa||void 0===pa||null===(n=pa.adminConstant)||void 0===n||null===(s=n.mvoTemplateList)||void 0===s||null===(i=s.tooltip)||void 0===i?void 0:i.AllowableOrgTemplate,children:"Org Allowed Templates - Status"}),defaultFlex:1,sortable:!1,render:e=>(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,o.jsx)(ae.A,{title:null===pa||void 0===pa||null===(d=pa.adminConstant)||void 0===d||null===(c=d.mvoTemplateList)||void 0===c||null===(u=c.tooltip)||void 0===u?void 0:u.RDO,children:"Design Organization"}),defaultFlex:1,defaultWidth:50}],De=()=>{O(!1),$(""),z([]),ne({}),ie({}),ce({}),U(!1)},Le=()=>{ee(!0),C.getAlltemplateMappings().then((e=>{var t;j(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),ee(!1)}))};(0,l.useEffect)((()=>{ee(m)}),[m]);const[Ne,Ie]=(0,l.useState)([]),[Re,_e]=(0,l.useState)([]);(0,l.useEffect)((()=>{ke()}),[]);const ke=()=>{ee(!0),I.getAlldraftChanges().then((e=>{let t=h||"Micro Motion",a=e.data.filter((e=>e.BUID===t));ve(a),ee(!1)}))};(0,l.useEffect)((()=>{if(ee(!0),v){let l=v;var e,t;if(l=l.filter((e=>"mvoTemplateCompatibility"===e.MappingType&&"Delete"!==e.actionFlag)),h)l=null===(e=l)||void 0===e?void 0:e.filter((e=>e.BUID===h));if(b&&""!==b)l=null===(t=l)||void 0===t?void 0:t.filter((e=>{var t,a,l;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(b))||(null===(a=JSON.stringify(e))||void 0===a||null===(l=a.toLocaleLowerCase())||void 0===l?void 0:l.includes(b))}));if(_(l),ge.length>0){const e=ge.filter((e=>"mvoTemplateCompatibility"==e.MappingType));e.length>0&&"mvoTemplateCompatibility"===e[0].MappingType&&l.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draft_allowableOrgTemplates=e.details.allowableOrgTemplates;const a=new Set(e.details.allowableOrgTemplates.map((e=>e.ALLOWABLE_ORG_TEMPLATE))),l=t.details.allowableOrgTemplates.filter((e=>!a.has(e.ALLOWABLE_ORG_TEMPLATE)));t.details.deletedTemplateLists=l;let n=t.details.draft_allowableOrgTemplates.filter((e=>!t.details.allowableOrgTemplates.some((t=>e.ALLOWABLE_ORG_TEMPLATE===t.ALLOWABLE_ORG_TEMPLATE&&e.exclusive_use===t.exclusive_use))));t.details.newTemplateLists=n;let s=[...t.details.allowableOrgTemplates,...t.details.newTemplateLists];t.details.allowableOrgTemplates=s}}))}))}console.log("finalTempMapList",l);let n=l.map((e=>{var t,a;return e.MVO_TEMPLATE_OPTION=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.MVO_TEMPLATE_OPTION,e.name=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.allowableOrgTemplates.filter(((e,t,a)=>t===a.findIndex((t=>t.ALLOWABLE_ORG_TEMPLATE===e.ALLOWABLE_ORG_TEMPLATE)))).map((t=>{var a;const l=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.ALLOWABLE_ORG_TEMPLATE===e.ALLOWABLE_ORG_TEMPLATE?`<span style="color:#f00; font-weight:bold;text-decoration: line-through">${e.ALLOWABLE_ORG_TEMPLATE}</span>`:"")).join(" "),n=t.status?t.status.charAt(0).toUpperCase()+t.status.slice(1):"";return`<div>${t.ALLOWABLE_ORG_TEMPLATE} - ${n} &nbsp;&nbsp; ${l}</div>`})).join(""),e}));_e(l),Ie(n);let s=v.filter((e=>"orgallowedvalues"===e.MappingType&&"Delete"!==e.actionFlag));var a;if(h)s=null===(a=s)||void 0===a?void 0:a.filter((e=>e.BUID===h));setTimeout((()=>{Y(s),ee(!1)}),500)}else{var l;if(!h)A(L.Qy?null===(l=L.Qy[0])||void 0===l?void 0:l.value:"")}}),[v,h,b,ge]);const Be=(0,l.useCallback)((e=>{let{selected:t}=e;ne(t)}),[]),Fe=(0,l.useCallback)((e=>{let{selected:t}=e;ie(t),ce((e=>{const{AllowableOrgTempError:t,...a}=e;return a}))}),[]);(0,l.useEffect)((()=>{const e=!0===le?Oe:le,t=e&&Object.keys(e).map((t=>e[t]));z(t)}),[le,Oe]);const[We,$e]=(0,l.useState)(h);(0,l.useEffect)((()=>{ne({}),z([]),A(h),me(h),T(""),z([])}),[h]);const Ve=(0,Se.t$)(Ne,"MVO_TEMPLATE_OPTION"),ze=(0,Ue.FX)(Ve),Ge=(0,Ue.FX)(Re);return(0,o.jsxs)(Ya,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"MVO Template Compatibility"}]})}),(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,o.jsx)(D.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(te.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;T(t)},value:b,style:{width:"100%"}})}),(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,o.jsxs)(D.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,o.jsxs)(D.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,o.jsx)(D.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,o.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,o.jsx)(D.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,o.jsx)(P,{selectedvalue:h,style:{width:"100%"},optionsValues:L.Qy,onChangeFunc:e=>{ne({}),z([]),A(e),me(e),T(""),z([])}})})]}),(0,o.jsxs)(D.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,o.jsx)(g.A,{variant:"contained",component:X.Link,onClick:()=>{$(""),O(!0),me(h)},children:"Add"}),(0,o.jsx)(g.A,{variant:"contained",disabled:1!==(null===V||void 0===V?void 0:V.length),onClick:()=>{var e,t,a,l;const n=null===(e=V[0])||void 0===e?void 0:e.details,s=null===(t=V[0])||void 0===t?void 0:t.BUID,i={...n,BUID:s};$(i),me(s);let r=(null===(a=V[0])||void 0===a||null===(l=a.details)||void 0===l?void 0:l.allowableOrgTemplates.map((e=>null===G||void 0===G?void 0:G.filter((t=>t.details.ALLOWABLE_ORG_TEMPLATES===e.ALLOWABLE_ORG_TEMPLATE&&t.BUID===V[0].BUID)))).flat()).reduce(((e,t)=>Object.assign(e,{[t.id]:t})),{});ie(r),U(!0),O(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,o.jsx)(g.A,{variant:"contained",disabled:0===(null===V||void 0===V?void 0:V.length),onClick:()=>{B(V[0]),S(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{f(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,o.jsx)(Ba,{title:"MVO Template Compatibility",MappingType:"mvoTemplateCompatibility",filterTemplateData:V,sortInfo:be})]})]}),(0,o.jsx)(D.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,o.jsxs)(x.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[H&&(0,o.jsx)(x.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,o.jsx)(tt.A,{})}),!H&&(0,o.jsx)(Te.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:Pe,dataSource:null===be?Ge:ze,rowHeight:"auto",checkboxColumn:!0,selected:le,defaultLimit:100,onSelectionChange:Be,handle:e=>we.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(le).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===le?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},pagination:!0,renderScroller:()=>{var e,t;return null===we||void 0===we||null===(e=we.current)||void 0===e?void 0:e.setScrollTop(0==(null===V||void 0===V?void 0:V.length)?0:null===we||void 0===we||null===(t=we.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{Ee(e)}})]})})]})}),(0,o.jsxs)(q.A,{open:E,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,o.jsx)(Z.A,{children:(0,o.jsxs)(K.A,{children:["Do you want to delete the MVOTemplateCompatibility Mapping(s) for Design Organization"," ",(0,o.jsx)("b",{children:null===k||void 0===k?void 0:k.BUID}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("b",{children:"Note:"})," ",pa.adminConstant.common.deleteNote]})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:Ce,children:"Cancel"}),(0,o.jsx)(g.A,{onClick:async()=>{try{await N.softDeleteTempCompMapping({data:V}).then((e=>{Ce(),Me(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status),z([]),B([]),ne({})}))}catch(e){console.error("Failed to delete mapping:",e)}Le(),z([])},children:"delete"})]})]}),(0,o.jsx)(Ga,{open:w,handleorgAllowedDialogClose:De,orgAllowedForm:W,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target,l={...W,[t]:a};$(l),"BUID"===t&&(me(a),ce((e=>{const{RDOError:t,...a}=e;return a}))),"MVO_TEMPLATE_OPTION"===t&&ce((e=>{const{templateError:t,...a}=e;return a}))},handleAddMVOtempComp:()=>{const e=null===p||void 0===p?void 0:p.filter((e=>e.templateName===W.MVO_TEMPLATE_OPTION));if(W){void 0!==ue&&""!==ue||ce((e=>({...e,RDOError:"Design Organization is required"}))),void 0!==W.MVO_TEMPLATE_OPTION&&""!==W.MVO_TEMPLATE_OPTION||ce((e=>({...e,templateError:"Template Name is required"})));let t=[],a={...de};if(delete a.AllowableOrgTempError,Object.keys(se).length?(t=Object.values(se).map((e=>e)),t=t.map((e=>({ALLOWABLE_ORG_TEMPLATE:e.details.ALLOWABLE_ORG_TEMPLATES,status:void 0===he[e.details.ALLOWABLE_ORG_TEMPLATES]?"active":he[e.details.ALLOWABLE_ORG_TEMPLATES],id:e.details.ALLOWABLE_ORG_TEMPLATES_ID})))):a.AllowableOrgTempError="Please select at least one template",ce(a),Object.keys(a).length)return;{const a={MappingType:"mvoTemplateCompatibility",BUID:ue,details:{MVO_TEMPLATE_OPTION:W.MVO_TEMPLATE_OPTION,MVO_TEMPLATE_OPTION_ID:e[0].id,allowableOrgTemplates:t},id:e[0].id+"_"+ue.trim()+"_mvoTemplateCompatibility"};!1===F?N.addnewTempCompMapping(a).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(Le(),setTimeout((()=>{O(!1)}),200),Me("MVO template compatibility added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&Me(null===e||void 0===e?void 0:e.msg,"error")})):N.updateTempCompMapping(a).then((e=>{"success"===e.status?(setTimeout((()=>{O(!1),ke(),Le()}),200),U(!1),Me("MVO template compatibility updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&Me(null===e||void 0===e?void 0:e.msg,"error")})),De()}}else{let e={};0===Object.keys(se).length&&(e={AllowableOrgTempError:"Please select at least one template"}),ce({...e,templateError:"Template Name is required"})}},isEdit:F,onSelectionChange:Fe,selected:se,orgAllowedTempList:G,filteredBUOptions:re,setFilteredBUOptions:oe,formError:de,RDO:ue,selectedRow:V[0],handleStatusChange:e=>{const t={...he,[e.target.name]:e.target.value};xe(t)}}),(0,o.jsx)(ja,{title:"Import Template Compatibility Mappings",MappingType:"mvoTemplateCompatibility",selectedBU:h,importTemplate:y,fetchData:Le,setImportTemplate:f}),ye?(0,o.jsx)(pe.A,{openAlert:Ae,openDesc:ye,setOpenAlert:je}):(0,o.jsx)(o.Fragment,{})]})},Xa=()=>(0,o.jsx)(Ha,{}),qa=[{path:"/mvotemplateList",element:(0,o.jsx)(H,{children:(0,o.jsx)(Xa,{})})}],Qa={minHeight:248},Za=e=>{let{open:t,handleorgAllowedDialogClose:a,orgAllowedForm:n,handleorgAllowedFormChange:s,handleAddMVOtempComp:i,isEdit:r,orgAllowedTempList:d,onSelectionChange:c,selected:u,filteredBUOptions:m,setFilteredBUOptions:p,formError:h,RDO:x,selectedRow:v,handleStatusChange:A}=e;const[j,y]=(0,l.useState)([]),[f,b]=(0,l.useState)({});(0,Se.bV)(j,"ALLOWABLE_ORG_TEMPLATES"),(0,l.useEffect)((()=>{if(null!==n&&void 0!==n&&n.BUID){let e=[null===n||void 0===n?void 0:n.BUID]||0;p(e)}else p([x]);if(d){const e=null===d||void 0===d?void 0:d.filter((e=>(null===e||void 0===e?void 0:e.BUID)===x));v&&e.map((e=>{var t;return null===v||void 0===v||null===(t=v.details)||void 0===t||t.allowableOrgTemplates.forEach((t=>{e.details.ALLOWABLE_ORG_TEMPLATES===t.org_allowed_template&&(e.exclusive_use=t.exclusive_use)})),e})),y(e)}}),[d,n]);const T=(0,l.useRef)(null),E=[{name:"id",header:"Id",defaultVisible:!1,defaultWidth:60,type:"number"},{name:"ALLOWABLE_ORG_TEMPLATES",defaultWidth:280,header:(0,o.jsx)(ae.A,{title:pa.adminConstant.orgAllowedList.tooltip.AllowableOrgTemplate,children:"ALLOWABLE ORG TEMPLATES"}),render:e=>{var t;let{data:a}=e;return(0,o.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES})}},{name:"Exclusive",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.orgAllowedList.tooltip.status,children:"Exclusive Use"}),defaultWidth:280,render:e=>{var t,a,l;let{data:n}=e;return(0,o.jsx)("div",{children:(0,o.jsx)(ye.A,{children:(0,o.jsxs)(Ae.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:null===n||void 0===n||null===(t=n.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES,value:f[null===n||void 0===n||null===(a=n.details)||void 0===a?void 0:a.ALLOWABLE_ORG_TEMPLATES]?f[null===n||void 0===n||null===(l=n.details)||void 0===l?void 0:l.ALLOWABLE_ORG_TEMPLATES]:"Yes",onChange:e=>{const t={...f,[e.target.name]:e.target.value};b(t),A(e)},children:[(0,o.jsx)(je.A,{value:"Yes",control:(0,o.jsx)(ve.A,{}),label:"Yes"}),(0,o.jsx)(je.A,{value:"No",control:(0,o.jsx)(ve.A,{}),label:"No"})]})})})}}];return(0,l.useEffect)((()=>{if(v){var e;const t=(e=>{let t={};return e.forEach((e=>{t[e.org_allowed_template]=e.exclusive_use})),t})(null===v||void 0===v||null===(e=v.details)||void 0===e?void 0:e.allowableOrgTemplates);b(t)}}),[v]),(0,o.jsxs)(q.A,{open:t,fullWidth:!0,maxWidth:"md",children:[(0,o.jsxs)(J.A,{children:[" ",r?"Edit Part Type to Template ":"Add Part Type to Template"]}),(0,o.jsx)(Va.ur,{autoHeight:!0,autoHeightMin:100,autoHeightMax:500,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:300,children:(0,o.jsx)(Z.A,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsx)("span",{children:"Design Organization: "})}),(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,o.jsx)(O.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:x,onChange:s,disabled:!0,children:null===m||void 0===m?void 0:m.map((e=>(0,o.jsx)(C.A,{value:e,children:e},e)))}),null!==h&&void 0!==h&&h.RDOError?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("p",{style:{color:"red"},children:null===h||void 0===h?void 0:h.RDOError})}):(0,o.jsx)(o.Fragment,{})]}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsx)("span",{children:"Enovia Part Type:"})}),(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:[(0,o.jsx)(te.A,{name:"ENGG_ITEM_TYPE",value:n.ENGG_ITEM_TYPE,onChange:s,fullWidth:!0,disabled:r,margin:"normal"}),null!==h&&void 0!==h&&h.templateError?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("p",{style:{color:"red"},children:null===h||void 0===h?void 0:h.templateError})}):(0,o.jsx)(o.Fragment,{})]}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Org Allowed Templates:"," "]})}),(0,o.jsxs)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:[null!==h&&void 0!==h&&h.AllowableOrgTempError?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("p",{style:{color:"red"},children:null===h||void 0===h?void 0:h.AllowableOrgTempError})}):(0,o.jsx)(o.Fragment,{}),null!==j&&void 0!==j&&j.length?(0,o.jsx)(Te.Ay,{idProperty:"id",showZebraRows:!1,handle:e=>T.current=e?e.current:null,selected:u,checkboxColumn:!0,onSelectionChange:c,checkboxOnlyRowSelect:!0,style:Qa,columns:E,dataSource:j}):null]})]})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:a,children:"Cancel"}),(0,o.jsx)(g.A,{onClick:i,children:r?"Update":"Add"})]})]})},Ka=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Ja=()=>{const{refreshData:e}=(0,M.A)(),{templatesInfo:t,bussinessUnit:a,mappingTemplatesInfo:n,updateBussinessUnit:s,updateMappingTemplatesInfo:i}=(0,M.A)(),[d,c]=(0,l.useState)(!1),[u,m]=(0,l.useState)(""),[p,h]=(0,l.useState)(!1),[v,A]=(0,l.useState)(!1),[j,y]=(0,l.useState)({}),[f,b]=(0,l.useState)([]),[T,E]=(0,l.useState)([]),S=new Qt.W,w=new xa,[O,C]=(0,l.useState)(),N=new ga,[I,R]=(0,l.useState)(!0),[_,k]=(0,l.useState)(!1),[B,F]=(0,l.useState)([]),[U,W]=(0,l.useState)(""),[$,V]=(0,l.useState)(""),[z,G]=(0,l.useState)(""),[Y,H]=(0,l.useState)({}),[ee,le]=(0,l.useState)({}),[ne,se]=(0,l.useState)([]),[ie,re]=(0,l.useState)([]),[oe,de]=(0,l.useState)({}),[ce,ue]=(0,l.useState)(""),[me,he]=(0,l.useState)({}),[xe,ge]=(0,l.useState)(!1),[ve,Ae]=(0,l.useState)(null),je=(0,l.useRef)(null),[ye,fe]=(0,l.useState)({}),be=je&&je.current&&je.current.dataMap?je.current.dataMap:null,Ee=e=>{const t=e.target.value;m(t)},we=()=>{h(!1)},Oe=(e,t)=>{ge(!0),Ae({severity:t,desc:e})},Ce=()=>{A(!1),y(""),E([]),ke([]),H({}),le({}),de({}),k(!1)},Me=()=>{R(!0),S.getAlltemplateMappings().then((e=>{var t;i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),R(!1)}))};(0,l.useEffect)((()=>{R(e)}),[e]);const[Pe,De]=(0,l.useState)([]),[Le,Ne]=(0,l.useState)([]),Ie=(0,Se.t$)(Pe,"ENGG_ITEM_TYPE");(0,l.useEffect)((()=>{Re()}),[]);const Re=()=>{R(!0),w.getAlldraftChanges().then((e=>{let t=a||"Micro Motion",l=e.data.filter((e=>e.BUID===t));re(l),R(!1)}))};(0,l.useEffect)((()=>{if(R(!0),n){let s=n;var e,t;if(s=s.filter((e=>"parttypetotemplate"===e.MappingType&&"Delete"!==e.actionFlag)),a)s=null===(e=s)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(u&&""!==u)s=null===(t=s)||void 0===t?void 0:t.filter((e=>{var t,a,l;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(u))||(null===(a=JSON.stringify(e))||void 0===a||null===(l=a.toLocaleLowerCase())||void 0===l?void 0:l.includes(u))}));if(ie.length>0){const e=ie.filter((e=>"parttypetotemplate"==e.MappingType));e.length>0&&"parttypetotemplate"===e[0].MappingType&&s.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draft_allowableOrgTemplates=e.details.allowableOrgTemplates;const a=new Set(e.details.allowableOrgTemplates.map((e=>e.org_allowed_template))),l=t.details.allowableOrgTemplates.filter((e=>!a.has(e.org_allowed_template)));t.details.deletedTemplateLists=l;let n=t.details.draft_allowableOrgTemplates.filter((e=>!t.details.allowableOrgTemplates.some((t=>e.org_allowed_template===t.org_allowed_template&&e.exclusive_use===t.exclusive_use))));t.details.newTemplateLists=n;let s=[...t.details.allowableOrgTemplates,...t.details.newTemplateLists];t.details.allowableOrgTemplates=s}}))}))}let i=s.map((e=>{var t,a;return e.ENGG_ITEM_TYPE=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.ENGG_ITEM_TYPE,e.org_allowed_template=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.allowableOrgTemplates.filter(((e,t,a)=>t===a.findIndex((t=>t.org_allowed_template===e.org_allowed_template)))).map((t=>{var a;const l=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.org_allowed_template===e.org_allowed_template?`<span style="color:#f00; font-weight:bold;text-decoration: line-through">${e.org_allowed_template}</span>`:"")).join(" ");return`<div>${t.org_allowed_template} - ${t.exclusive_use.charAt(0).toUpperCase()+t.exclusive_use.slice(1)} &nbsp;&nbsp; ${l}</div>`})).join(""),e}));De(i),Ne(s);let r=n.filter((e=>"orgallowedvalues"===e.MappingType&&"Delete"!==e.actionFlag));var l;if(a)r=null===(l=r)||void 0===l?void 0:l.filter((e=>e.BUID===a));setTimeout((()=>{b(r),R(!1)}),500)}else{var i;if(!a)s(L.Qy?null===(i=L.Qy[0])||void 0===i?void 0:i.value:"")}}),[n,a,u,ie]);const[_e,ke]=(0,l.useState)([]),Be=[{name:"ENGG_ITEM_TYPE",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.parttypetemplateList.tooltip.TemplateOptionsMVO,children:"Enovia Part Type"}),defaultFlex:1,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.ENGG_ITEM_TYPE})}},{name:"org_allowed_template",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.parttypetemplateList.tooltip.allowableOrgTemplatesExclusive,children:"Org Allowed Templates - Exclusive use"}),defaultFlex:1,sortable:!1,render:e=>(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.parttypetemplateList.tooltip.RDO,children:"Design Organization"}),defaultFlex:1,defaultWidth:50}],Fe=(0,l.useCallback)((e=>{let{selected:t}=e;H(t)}),[]);(0,l.useEffect)((()=>{const e=!0===Y?be:Y,t=e&&Object.keys(e).map((t=>e[t]));ke(t)}),[Y,be]);const Ue=(0,l.useCallback)((e=>{let{selected:t}=e;le(t),de((e=>{const{AllowableOrgTempError:t,...a}=e;return a}))}),[]);return(0,o.jsxs)(Ka,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Part Type to Template"}]})}),(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,o.jsx)(D.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(te.A,{type:"text",name:"search",size:"small",onChange:Ee,value:u,style:{width:"100%"}})}),(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,o.jsxs)(D.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,o.jsxs)(D.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,o.jsx)(D.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,o.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,o.jsx)(D.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,o.jsx)(P,{onChange:Ee,selectedvalue:a,style:{width:"100%"},optionsValues:L.Qy,onChangeFunc:e=>{H({}),ke([]),s(e),m(""),ke([])}})})]}),(0,o.jsxs)(D.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,o.jsx)(g.A,{variant:"contained",component:X.Link,onClick:()=>{y(""),E([]),W(""),V(""),G(""),F([]),A(!0),ue(a)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,o.jsx)(g.A,{variant:"contained",component:X.Link,disabled:1!==(null===_e||void 0===_e?void 0:_e.length),onClick:()=>{var e,t,a,l,n,s;const i=null===(e=_e[0])||void 0===e?void 0:e.details,r=null===(t=_e[0])||void 0===t?void 0:t.BUID;y({...i,BUID:r}),ue(r);let o=(null===(a=_e[0])||void 0===a||null===(l=a.details)||void 0===l?void 0:l.allowableOrgTemplates.map((e=>null===f||void 0===f?void 0:f.filter((t=>t.details.ALLOWABLE_ORG_TEMPLATES===e.org_allowed_template)))).flat()).reduce(((e,t)=>Object.assign(e,{[t.id]:t})),{});le(o),F(null===(n=_e[0])||void 0===n||null===(s=n.details)||void 0===s?void 0:s.allowableOrgTemplates),k(!0),A(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,o.jsx)(g.A,{variant:"contained",component:X.Link,disabled:0===(null===_e||void 0===_e?void 0:_e.length),onClick:()=>{C(_e[0]),h(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{c(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,o.jsx)(Ba,{title:"Part Type To Template",MappingType:"parttypetotemplate",filterTemplateData:_e,sortInfo:ye})]})]}),(0,o.jsx)(D.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,o.jsxs)(x.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[I&&(0,o.jsx)(x.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,o.jsx)(tt.A,{})}),!I&&(0,o.jsx)(Te.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},rowStyle:e=>{let{data:t}=e;const a=Object.keys(Y).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===Y?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},columns:Be,dataSource:null===ye?Le:Ie,rowHeight:"auto",defaultLimit:100,checkboxColumn:!0,selected:Y,onSelectionChange:Fe,handle:e=>je.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===je||void 0===je||null===(e=je.current)||void 0===e?void 0:e.setScrollTop(0==(null===_e||void 0===_e?void 0:_e.length)?0:null===je||void 0===je||null===(t=je.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{fe(e)}})]})})]})}),ve?(0,o.jsx)(pe.A,{openAlert:xe,openDesc:ve,setOpenAlert:ge}):(0,o.jsx)(o.Fragment,{}),(0,o.jsxs)(q.A,{open:p,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,o.jsx)(Z.A,{children:(0,o.jsxs)(K.A,{children:["Do you want to delete the PartTypeToTemplate Mapping(s) for Design Organization"," ",(0,o.jsx)("b",{children:null===O||void 0===O?void 0:O.BUID}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("b",{children:"Note:"})," ",pa.adminConstant.common.deleteNote]})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:we,children:"Cancel"}),(0,o.jsx)(g.A,{onClick:async()=>{try{await N.softDeleteTempCompMapping({data:_e}).then((e=>{we(),ke([]),C([]),H({})}))}catch(e){console.error("Failed to delete mapping:",e)}Oe("Parttype to Template deleted Successfully","success"),Me(),ke([])},children:"delete"})]})]}),(0,o.jsx)(Za,{open:v,handleorgAllowedDialogAdd:()=>{A(!1)},handleorgAllowedDialogClose:Ce,orgAllowedForm:j,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target;if("newKey"===t&&W(a),"newValue"===t&&V(a),"BUID"===t&&E([]),"ENGG_ITEM_TYPE"===t&&(y({...j,BUID:""}),de((e=>{const{templateError:t,...a}=e;return a})),E([])),"plants"===t)E(a);else{const e={...j,[t]:a};y(e)}},handleAddMVOtempComp:()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.templateName===j.ENGG_ITEM_TYPE));if(j){void 0!==ce&&""!==ce||de((e=>({...e,RDOError:"Design Organization is required"}))),void 0!==j.ENGG_ITEM_TYPE&&""!==j.ENGG_ITEM_TYPE||de((e=>({...e,templateError:"Template Name is required"})));let t=[],l={...oe};if(delete l.AllowableOrgTempError,Object.keys(ee).length?(t=Object.values(ee).map((e=>e)),t=t.map((e=>({org_allowed_template:e.details.ALLOWABLE_ORG_TEMPLATES,exclusive_use:void 0===me[e.details.ALLOWABLE_ORG_TEMPLATES]?"Yes":me[e.details.ALLOWABLE_ORG_TEMPLATES],id:e.details.ALLOWABLE_ORG_TEMPLATES_ID})))):l.AllowableOrgTempError="Please select at least one template",de(l),Object.keys(l).length||Object.keys(oe).length)return void console.log("Resultant Payload:",j);{var a;const l={MappingType:"parttypetotemplate",BUID:ce,details:{ENGG_ITEM_TYPE:j.ENGG_ITEM_TYPE,ENOVIA_PART_TYPE_ID:null===(a=e[0])||void 0===a?void 0:a.id,allowableOrgTemplates:t},id:j.ENGG_ITEM_TYPE+"_"+ce.trim()+"_parttypetotemplate"};!1===_?N.addnewTempCompMapping(l).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(Me(),H({}),setTimeout((()=>{A(!1)}),200),Oe("Parttype to Template added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&Oe(null===e||void 0===e?void 0:e.msg,"error")})):N.updateTempCompMapping(l).then((e=>{"success"===e.status?(Re(),Me(),H({}),setTimeout((()=>{A(!1)}),200),k(!1),Oe("MVO template compatibility updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&Oe(null===e||void 0===e?void 0:e.msg,"error")})),Ce()}}else{let e={};0===Object.keys(ee).length&&(e={AllowableOrgTempError:"Please select at least one template"}),de({...e,templateError:"Template Name is required"})}},selectedPlants:T,isEdit:_,newKey:U,newValue:$,handleAddRow:()=>{const e=B.some((e=>e.key===U)),a=B.some((e=>e.value===$)),l=null===t||void 0===t?void 0:t.filter((e=>e.templateName===U));e||a?G("The key or value already exists"):U&&$?(F((e=>[...e,{org_allowed_template:U,exclusive_use:$,id:l[0].id}])),W(""),V(""),G("")):G("Template and its status required")},handleDeleteRow:e=>{F((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:z,valuesInputList:B,onSelectionChange:Ue,selected:ee,orgAllowedTempList:f,filteredBUOptions:ne,setFilteredBUOptions:se,formError:oe,RDO:ce,selectedRow:_e[0],handleStatusChange:e=>{const t={...me,[e.target.name]:e.target.value};he(t)}}),(0,o.jsx)(ja,{title:"Import Parttype To Template Mappings",MappingType:"parttypetotemplate",selectedBU:a,importTemplate:d,fetchData:Me,setImportTemplate:c})]})},el=()=>(0,o.jsx)(Ja,{}),tl=[{path:"/parttypeToTemplateList",element:(0,o.jsx)(H,{children:(0,o.jsx)(el,{})})}],al=e=>{let{open:t,handleorgAllowedDialogClose:a,mvotemplatesTo:n,orgAllowedForm:s,handleorgAllowedFormChange:i,handleAddMVOtempComp:r,isEdit:d,templatesInfo:c,selectedBU:u}=e;const[m,p]=(0,l.useState)([]),[h,x]=(0,l.useState)([]);return(0,l.useEffect)((()=>{if(u){let e=c.filter((e=>{var t;return null===e||void 0===e||null===(t=e.BU)||void 0===t?void 0:t.includes(u)}));console.log(e,"tempData tempData tempData"),p(e)}x([u])}),[u,c,s.BUID]),(0,o.jsxs)(q.A,{open:t,children:[(0,o.jsxs)(J.A,{children:[" ",d?"Edit MVO Allowed Changes ":"Add MVO Allowed Changes"]}),(0,o.jsx)(Z.A,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Design Organization ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:u,onChange:i,disabled:!0,children:null===h||void 0===h?void 0:h.map((e=>(0,o.jsx)(C.A,{value:e,children:e},e)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["MVO Template - From ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{name:"MVO_TEMPLATE_FROM",fullWidth:!0,value:s.MVO_TEMPLATE_FROM,onChange:i,disabled:d,children:null===m||void 0===m?void 0:m.map((e=>(0,o.jsx)(C.A,{value:e.templateName,children:e.templateName},e.templateName)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["MVO Template - To ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{style:{width:"100%"},multiple:!0,name:"MVO_TEMPLATE_TO",value:n,onChange:i,renderValue:e=>null===e||void 0===e?void 0:e.join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===m||void 0===m?void 0:m.map((e=>(0,o.jsx)(C.A,{value:e.templateName,children:e.templateName},e.templateName)))})})]})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:a,children:"Cancel"}),(0,o.jsx)(g.A,{onClick:r,children:d?"Update":"Add"})]})]})},ll=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),nl=()=>{const{refreshData:e}=(0,M.A)(),{templatesInfo:t,bussinessUnit:a,mappingTemplatesInfo:n,updateBussinessUnit:s,updateMappingTemplatesInfo:i}=(0,M.A)(),[d,c]=(0,l.useState)(!1),[u,m]=(0,l.useState)(""),[p,h]=(0,l.useState)(!1),[v,A]=(0,l.useState)(!1),[j,y]=(0,l.useState)({}),[f,b]=(0,l.useState)([]),T=new Qt.W,E=new ga,S=new xa,[w,O]=(0,l.useState)(),[C,N]=(0,l.useState)(!1),[I,R]=(0,l.useState)([]),[_,k]=(0,l.useState)(""),[B,F]=(0,l.useState)(""),[U,W]=(0,l.useState)(""),[$,V]=(0,l.useState)(!0),[z,G]=(0,l.useState)({}),[Y,H]=(0,l.useState)(!1),[ee,le]=(0,l.useState)(null),[ne,se]=(0,l.useState)([]),ie=(0,l.useRef)(null),[re,oe]=(0,l.useState)({}),de=ie&&ie.current&&ie.current.dataMap?ie.current.dataMap:null,ce=e=>{const t=e.target.value;m(t)},ue=()=>{h(!1)},me=(e,t)=>{H(!0),le({severity:t,desc:e})},he=()=>{A(!1),y(""),b([]),Oe([]),G({}),N(!1)},xe=()=>{V(!0),T.getAlltemplateMappings().then((e=>{var t;i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),V(!1)}))};(0,l.useEffect)((()=>{V(e)}),[e]);const[ge,ve]=(0,l.useState)([]),[Ae,je]=(0,l.useState)([]),ye=(0,Se.t$)(ge,"MVO_TEMPLATE_FROM"),fe=(0,Ue.FX)(Ae),be=(0,Ue.FX)(ye);(0,l.useEffect)((()=>{Ee()}),[]);const Ee=()=>{V(!0),S.getAlldraftChanges().then((e=>{let t=a||"Micro Motion",l=e.data.filter((e=>e.BUID===t));se(l),V(!1)}))};(0,l.useEffect)((()=>{if(V(!0),n){let l=n;var e,t;if(l=l.filter((e=>"mvoallowedchanges"===e.MappingType&&"Delete"!==e.actionFlag)),a)l=null===(e=l)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(u&&""!==u)l=null===(t=l)||void 0===t?void 0:t.filter((e=>{var t,a,l;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(u))||(null===(a=JSON.stringify(e))||void 0===a||null===(l=a.toLocaleLowerCase())||void 0===l?void 0:l.includes(u))}));if(ne.length>0){const e=ne.filter((e=>"mvoallowedchanges"==e.MappingType));e.length>0&&"mvoallowedchanges"===e[0].MappingType&&l.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draft_MVO_TEMPLATES_TO=e.details.MVO_TEMPLATES_TO;const a=new Set(e.details.MVO_TEMPLATES_TO.map((e=>e.MVO_TEMPLATE_TO))),l=t.details.MVO_TEMPLATES_TO.filter((e=>!a.has(e.MVO_TEMPLATE_TO)));t.details.deletedTemplateLists=l;let n=t.details.draft_MVO_TEMPLATES_TO.filter((e=>!t.details.MVO_TEMPLATES_TO.some((t=>e.MVO_TEMPLATE_TO===t.MVO_TEMPLATE_TO&&e.exclusive_use===t.exclusive_use))));t.details.newTemplateLists=n;let s=[...t.details.MVO_TEMPLATES_TO,...t.details.newTemplateLists];t.details.MVO_TEMPLATES_TO=s}}))}))}let s=[...l].map((e=>{var t,a;return e.MVO_TEMPLATE_FROM=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.MVO_TEMPLATE_FROM,e.MVO_TEMPLATE_TO=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.MVO_TEMPLATES_TO.filter(((e,t,a)=>t===a.findIndex((t=>t.MVO_TEMPLATE_TO===e.MVO_TEMPLATE_TO)))).map((t=>{var a;const l=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.MVO_TEMPLATE_TO===e.MVO_TEMPLATE_TO?`<span class="deleted-text">${e.MVO_TEMPLATE_TO}</span>`:"")).join(" ");return`<div>${t.MVO_TEMPLATE_TO} &nbsp;&nbsp; ${l}</div>`})).join(""),e})),i=l.sort(((e,t)=>e.details.MVO_TEMPLATE_FROM.localeCompare(t.details.MVO_TEMPLATE_FROM))).map((e=>{var t,a;return e.MVO_TEMPLATE_FROM=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.MVO_TEMPLATE_FROM,e.MVO_TEMPLATE_TO=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.MVO_TEMPLATES_TO.filter(((e,t,a)=>t===a.findIndex((t=>t.MVO_TEMPLATE_TO===e.MVO_TEMPLATE_TO)))).map((t=>{var a;const l=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.MVO_TEMPLATE_TO===e.MVO_TEMPLATE_TO?`<span style="color:#f00; font-weight:bold;text-decoration: line-through">${e.MVO_TEMPLATE_TO}</span>`:"")).join(" ");return`<div>${t.MVO_TEMPLATE_TO} &nbsp;&nbsp; ${l}</div>`})).join(""),e}));setTimeout((()=>{je(s),ve(i),V(!1)}),500)}else{var l;if(!a)s(L.Qy?null===(l=L.Qy[0])||void 0===l?void 0:l.value:"")}}),[n,a,u,ne]);const[we,Oe]=(0,l.useState)([]),Ce=[{name:"MVO_TEMPLATE_FROM",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.mvoallowedchangesList.tooltip.mvoTemplatesFrom,children:"MVO Template - From"}),defaultFlex:1,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.MVO_TEMPLATE_FROM})}},{name:"MVO_TEMPLATE_TO",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.mvoallowedchangesList.tooltip.mvoTemplatesTo,children:"MVO Template - To"}),defaultFlex:1,sortable:!1,render:e=>(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.mvoallowedchangesList.tooltip.RDO,children:"Design Organization"}),defaultFlex:1,defaultWidth:50}],Me=(0,l.useCallback)((e=>{let{selected:t}=e;G(t)}),[]);(0,l.useEffect)((()=>{const e=!0===z?de:z,t=e&&Object.keys(e).map((t=>e[t]));Oe(t)}),[z,de]);return(0,o.jsxs)(ll,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"MVO Allowed Changes "}]})}),(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,o.jsx)(D.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(te.A,{type:"text",name:"search",size:"small",onChange:ce,value:u,style:{width:"100%"}})}),(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,o.jsxs)(D.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,o.jsxs)(D.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,o.jsx)(D.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,o.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,o.jsx)(D.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,o.jsx)(P,{onChange:ce,selectedvalue:a,style:{width:"100%"},optionsValues:L.Qy,onChangeFunc:e=>{G({}),Oe([]),s(e),m(""),Oe([])}})})]}),(0,o.jsxs)(D.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,o.jsx)(g.A,{variant:"contained",component:X.Link,onClick:()=>{y({BUID:a}),b([]),k(""),F(""),W(""),R([]),A(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,o.jsx)(g.A,{variant:"contained",disabled:1!==(null===we||void 0===we?void 0:we.length),onClick:()=>{var e,t;const a=null===(e=we[0])||void 0===e?void 0:e.details,l=null===(t=we[0])||void 0===t?void 0:t.BUID;y({...a,BUID:l});for(const o in null===(n=we[0])||void 0===n||null===(s=n.details)||void 0===s?void 0:s.MVO_TEMPLATES_TO){var n,s,i,r;const e=null===(i=we[0])||void 0===i||null===(r=i.details)||void 0===r?void 0:r.MVO_TEMPLATES_TO[o];f.push(null===e||void 0===e?void 0:e.MVO_TEMPLATE_TO)}N(!0),A(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,o.jsx)(g.A,{variant:"contained",disabled:0===(null===we||void 0===we?void 0:we.length),onClick:()=>{O(we[0]),h(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{c(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,o.jsx)(Ba,{title:"MVO Allowed Changes",MappingType:"mvoallowedchanges",filterTemplateData:we,sortInfo:re})]})]}),(0,o.jsx)(D.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,o.jsxs)(x.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[$&&(0,o.jsx)(x.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,o.jsx)(tt.A,{})}),!$&&(0,o.jsx)(Te.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:Ce,dataSource:null===re?fe:be,rowHeight:"auto",checkboxColumn:!0,defaultLimit:100,selected:z,onSelectionChange:Me,handle:e=>ie.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(z).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===z?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},pagination:!0,renderScroller:()=>{var e,t;return null===ie||void 0===ie||null===(e=ie.current)||void 0===e?void 0:e.setScrollTop(0==(null===we||void 0===we?void 0:we.length)?0:null===ie||void 0===ie||null===(t=ie.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{oe(e)}})]})})]})}),ee?(0,o.jsx)(pe.A,{openAlert:Y,openDesc:ee,setOpenAlert:H}):(0,o.jsx)(o.Fragment,{}),(0,o.jsxs)(q.A,{open:p,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,o.jsx)(Z.A,{children:(0,o.jsxs)(K.A,{children:["Do you want to delete the MVOAllowedChanges Mapping(s) for Design Organization"," ",(0,o.jsx)("b",{children:null===w||void 0===w?void 0:w.BUID}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("b",{children:"Note:"})," ",pa.adminConstant.common.deleteNote]})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:ue,children:"Cancel"}),(0,o.jsx)(g.A,{onClick:async()=>{try{await E.softDeleteTempCompMapping({data:we}).then((e=>{ue(),Oe([]),O([]),G({})}))}catch(e){console.error("Failed to delete mapping:",e)}me("MVO allowed changes  deleted Successfully","success"),xe(),Oe([])},children:"delete"})]})]}),(0,o.jsx)(al,{open:v,handleorgAllowedDialogAdd:()=>{A(!1)},handleorgAllowedDialogClose:he,orgAllowedForm:j,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target;if("newKey"===t&&k(a),"newValue"===t&&F(a),"BUID"===t&&b([]),"MVO_TEMPLATE_FROM"===t&&(y({...j,BUID:""}),b([])),"MVO_TEMPLATE_TO"===t)b(a);else{const e={...j,[t]:a};y(e)}},handleAddMVOtempComp:()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.templateName===j.MVO_TEMPLATE_FROM));let a=[];if(a=null===f||void 0===f?void 0:f.map((e=>{const a=t.find((t=>t.templateName===e));return{id:a?a.id:null,MVO_TEMPLATE_TO:e}})),!j.MVO_TEMPLATE_FROM||!j.BUID||(null===f||void 0===f?void 0:f.length)<1)me("Please Enter the required fields","error");else{if(j){var l,n;const t={MappingType:"mvoallowedchanges",BUID:j.BUID,details:{MVO_TEMPLATE_FROM:j.MVO_TEMPLATE_FROM,MVO_TEMPLATE_OPTION_ID:null===(l=e[0])||void 0===l?void 0:l.id,MVO_TEMPLATES_TO:a},id:(null===(n=e[0])||void 0===n?void 0:n.id)+"_"+j.BUID.trim()+"_mvoallowedchanges"};!1===C?E.addnewTempCompMapping(t).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(xe(),setTimeout((()=>{A(!1)}),200),me("MVO allowed changes added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&me(null===e||void 0===e?void 0:e.msg,"error")})):E.updateTempCompMapping(t).then((e=>{"success"===e.status?(setTimeout((()=>{A(!1),Ee(),xe()}),200),N(!1),me("MVO allowed changes updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&me(null===e||void 0===e?void 0:e.msg,e.status)}))}he()}},mvotemplatesTo:f,isEdit:C,newKey:_,newValue:B,handleAddRow:()=>{const e=I.some((e=>e.key===_)),a=I.some((e=>e.value===B)),l=null===t||void 0===t?void 0:t.filter((e=>e.templateName===_));e||a?W("The key or value already exists"):_&&B?(R((e=>{var t;return[...e,{ALLOWABLE_ORG_TEMPLATE:_,status:B,id:null===(t=l[0])||void 0===t?void 0:t.id}]})),k(""),F(""),W("")):W("Template and its status required")},handleDeleteRow:e=>{R((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:U,valuesInputList:I,templatesInfo:t,selectedBU:a}),(0,o.jsx)(ja,{title:"Import MVO Allowed Changes Mappings",MappingType:"mvoallowedchanges",selectedBU:a,importTemplate:d,fetchData:xe,setImportTemplate:c})]})},sl=()=>(0,o.jsx)(nl,{}),il=[{path:"/mvoallowedchangesList",element:(0,o.jsx)(H,{children:(0,o.jsx)(sl,{})})}],rl=e=>{let{open:t,handleorgAllowedDialogClose:a,modifytempdata:n,orgAllowedForm:s,handleorgAllowedFormChange:i,handleAddMVOtempComp:r,isEdit:d,templatesInfo:c,selectedBU:u}=e;const[m,p]=(0,l.useState)([]),[h,x]=(0,l.useState)([]);return(0,l.useEffect)((()=>{if(u){let e=c.filter((e=>{var t;return null===e||void 0===e||null===(t=e.BU)||void 0===t?void 0:t.includes(u)}));p(e)}x([u])}),[u,c,s.BUID]),(0,o.jsxs)(q.A,{open:t,children:[(0,o.jsxs)(J.A,{children:[" ",d?"Edit Set Compatible Templates":"Add Set Compatible Templates"]}),(0,o.jsx)(Z.A,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Template For Org Existing ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{name:"TEMPLATE_ORG_EXISTING",fullWidth:!0,value:s.TEMPLATE_ORG_EXISTING,onChange:i,disabled:d,children:null===m||void 0===m?void 0:m.map((e=>(0,o.jsx)(C.A,{value:e.templateName,children:e.templateName},e.templateName)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Design Organization ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:u,onChange:i,disabled:!0,children:null===h||void 0===h?void 0:h.map((e=>(0,o.jsx)(C.A,{value:e,children:e},e)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Template For Org Modifying ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{style:{width:"100%"},multiple:!0,name:"TEMPLATE_ORG_MODIFYING",value:n,onChange:i,renderValue:e=>null===e||void 0===e?void 0:e.join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===m||void 0===m?void 0:m.map((e=>(0,o.jsx)(C.A,{value:e.templateName,children:e.templateName},e.templateName)))})})]})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:a,children:"Cancel"}),(0,o.jsx)(g.A,{onClick:r,children:d?"Update":"Add"})]})]})},ol=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),dl=()=>{const{refreshData:e}=(0,M.A)(),{templatesInfo:t,bussinessUnit:a,mappingTemplatesInfo:n,updateBussinessUnit:s,updateMappingTemplatesInfo:i}=(0,M.A)(),[d,c]=(0,l.useState)(!1),[u,m]=(0,l.useState)(""),[p,h]=(0,l.useState)(!1),[v,A]=(0,l.useState)(!1),[j,y]=(0,l.useState)({}),[f,b]=(0,l.useState)([]),[T,E]=(0,l.useState)([]),S=new Qt.W,w=new ga,O=new xa,[C,N]=(0,l.useState)(),[I,R]=(0,l.useState)(!1),[_,k]=(0,l.useState)([]),[B,F]=(0,l.useState)([]),[U,W]=(0,l.useState)(""),[$,V]=(0,l.useState)(""),[z,G]=(0,l.useState)(""),[Y,H]=(0,l.useState)(!0),[ee,le]=(0,l.useState)({}),[ne,se]=(0,l.useState)(!1),[ie,re]=(0,l.useState)(null),oe=(0,l.useRef)(null),[de,ce]=(0,l.useState)({}),ue=oe&&oe.current&&oe.current.dataMap?oe.current.dataMap:null,me=e=>{const t=e.target.value;m(t)},he=()=>{h(!1)},xe=(e,t)=>{se(!0),re({severity:t,desc:e})},ge=()=>{A(!1),y(""),b([]),E([]),Oe([]),le({}),R(!1)},ve=()=>{H(!0),S.getAlltemplateMappings().then((e=>{var t;i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),H(!1)}))};(0,l.useEffect)((()=>{H(e)}),[e]);const[Ae,je]=(0,l.useState)([]),[ye,fe]=(0,l.useState)([]),be=(0,Se.t$)(Ae,"TEMPLATE_ORG_EXISTING");(0,l.useEffect)((()=>{Ee()}),[]);const Ee=()=>{H(!0),O.getAlldraftChanges().then((e=>{let t=a||"Micro Motion",l=e.data.filter((e=>e.BUID===t));F(l),H(!1)}))};(0,l.useEffect)((()=>{if(H(!0),n){let l=n;var e,t;if(l=l.filter((e=>"setcompatibletemplates"===e.MappingType&&"Delete"!==e.actionFlag)),a)l=null===(e=l)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(u&&""!==u)l=null===(t=l)||void 0===t?void 0:t.filter((e=>{var t,a,l;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(u))||(null===(a=JSON.stringify(e))||void 0===a||null===(l=a.toLocaleLowerCase())||void 0===l?void 0:l.includes(u))}));if(B.length>0){const e=B.filter((e=>"setcompatibletemplates"==e.MappingType));e.length>0&&"setcompatibletemplates"===e[0].MappingType&&l.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draft_TEMPLATE_ORG_MODIFYING=e.details.TEMPLATE_ORG_MODIFYING;const a=new Set(e.details.TEMPLATE_ORG_MODIFYING.map((e=>e.TEMPLATE_ORG_MODIFYING))),l=t.details.TEMPLATE_ORG_MODIFYING.filter((e=>!a.has(e.TEMPLATE_ORG_MODIFYING)));t.details.deletedTemplateLists=l;let n=t.details.draft_TEMPLATE_ORG_MODIFYING.filter((e=>!t.details.TEMPLATE_ORG_MODIFYING.some((t=>e.TEMPLATE_ORG_MODIFYING===t.TEMPLATE_ORG_MODIFYING&&e.exclusive_use===t.exclusive_use))));t.details.newTemplateLists=n;let s=[...t.details.TEMPLATE_ORG_MODIFYING,...t.details.newTemplateLists];t.details.TEMPLATE_ORG_MODIFYING=s}}))}))}let s=l.map((e=>{var t,a;return e.TEMPLATE_ORG_EXISTING=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.TEMPLATE_ORG_EXISTING,e.TEMPLATE_ORG_MODIFYING=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.TEMPLATE_ORG_MODIFYING.filter(((e,t,a)=>t===a.findIndex((t=>t.TEMPLATE_ORG_MODIFYING===e.TEMPLATE_ORG_MODIFYING)))).map((t=>{var a;const l=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.TEMPLATE_ORG_MODIFYING===e.TEMPLATE_ORG_MODIFYING?`<span style="color:#f00; font-weight:bold;text-decoration: line-through">${e.TEMPLATE_ORG_MODIFYING}</span>`:"")).join(" ");return`<div>${t.TEMPLATE_ORG_MODIFYING} &nbsp;&nbsp; ${l}</div>`})).join(""),e}));setTimeout((()=>{fe(l),je(s),H(!1)}),500)}else{var l;if(!a)s(L.Qy?null===(l=L.Qy[0])||void 0===l?void 0:l.value:"")}}),[n,a,u,B]);const[we,Oe]=(0,l.useState)([]),Ce=[{name:"TEMPLATE_ORG_EXISTING",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.setComptempList.tooltip.TemplateForOrgExist,children:"Template for Org(s) Existing"}),defaultFlex:1,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.TEMPLATE_ORG_EXISTING})}},{name:"TEMPLATE_ORG_MODIFYING",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.setComptempList.tooltip.TemplateForOrgModify,children:"Template for Org Modifying"}),defaultFlex:1,sortable:!1,render:e=>(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.setComptempList.tooltip.RDO,children:"Design Organization"}),defaultFlex:1,defaultWidth:50}],Me=(0,l.useCallback)((e=>{let{selected:t}=e;le(t)}),[]);(0,l.useEffect)((()=>{const e=!0===ee?ue:ee,t=e&&Object.keys(e).map((t=>e[t]));Oe(t)}),[ee,ue]);return(0,o.jsxs)(ol,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Set Compatible Templates"}]})}),(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,o.jsx)(D.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(te.A,{type:"text",name:"search",size:"small",onChange:me,value:u,style:{width:"100%"}})}),(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,o.jsxs)(D.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,o.jsxs)(D.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,o.jsx)(D.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,o.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,o.jsx)(D.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,o.jsx)(P,{onChange:me,selectedvalue:a,style:{width:"100%"},optionsValues:L.Qy,onChangeFunc:e=>{le({}),Oe([]),s(e),m(""),Oe([])}})})]}),(0,o.jsxs)(D.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,o.jsx)(g.A,{variant:"contained",component:X.Link,onClick:()=>{y({BUID:a}),b([]),W(""),V(""),G(""),k([]),A(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,o.jsx)(g.A,{variant:"contained",disabled:1!==(null===we||void 0===we?void 0:we.length),onClick:()=>{var e,t;const a=null===(e=we[0])||void 0===e?void 0:e.details,l=null===(t=we[0])||void 0===t?void 0:t.BUID;y({...a,BUID:l});for(const o in null===(n=we[0])||void 0===n||null===(s=n.details)||void 0===s?void 0:s.TEMPLATE_ORG_MODIFYING){var n,s,i,r;const e=null===(i=we[0])||void 0===i||null===(r=i.details)||void 0===r?void 0:r.TEMPLATE_ORG_MODIFYING[o];T.push(null===e||void 0===e?void 0:e.TEMPLATE_ORG_MODIFYING)}R(!0),A(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,o.jsx)(g.A,{variant:"contained",disabled:0===(null===we||void 0===we?void 0:we.length),onClick:()=>{N(we[0]),h(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{c(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,o.jsx)(Ba,{title:"Set Compatible Templates",MappingType:"setcompatibletemplates",filterTemplateData:we,sortInfo:de})]})]}),(0,o.jsx)(D.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,o.jsxs)(x.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[Y&&(0,o.jsx)(x.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,o.jsx)(tt.A,{})}),!Y&&(0,o.jsx)(Te.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:Ce,dataSource:null===de?ye:be,rowHeight:"auto",checkboxColumn:!0,defaultLimit:100,selected:ee,onSelectionChange:Me,handle:e=>oe.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(ee).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===ee?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},pagination:!0,renderScroller:()=>{var e,t;return null===oe||void 0===oe||null===(e=oe.current)||void 0===e?void 0:e.setScrollTop(0==(null===we||void 0===we?void 0:we.length)?0:null===oe||void 0===oe||null===(t=oe.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{ce(e)}})]})})]})}),ie?(0,o.jsx)(pe.A,{openAlert:ne,openDesc:ie,setOpenAlert:se}):(0,o.jsx)(o.Fragment,{}),(0,o.jsxs)(q.A,{open:p,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,o.jsx)(Z.A,{children:(0,o.jsxs)(K.A,{children:["Do you want to delete the SetCompatibleTemplate Mapping(s) for Design Organization"," ",(0,o.jsx)("b",{children:null===C||void 0===C?void 0:C.BUID}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("b",{children:"Note:"})," ",pa.adminConstant.common.deleteNote]})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:he,children:"Cancel"}),(0,o.jsx)(g.A,{onClick:async()=>{try{await w.softDeleteTempCompMapping({data:we}).then((e=>{he(),Oe([]),N([]),le({})}))}catch(e){console.error("Failed to delete mapping:",e)}xe("Set compatible template mapping  deleted Successfully","success"),ve(),Oe([])},children:"delete"})]})]}),(0,o.jsx)(rl,{open:v,handleorgAllowedDialogAdd:()=>{A(!1)},handleorgAllowedDialogClose:ge,orgAllowedForm:j,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target;if("newKey"===t&&W(a),"newValue"===t&&V(a),"BUID"===t&&b([]),"TEMPLATE_ORG_EXISTING"===t&&(y({...j,BUID:""}),b([])),"TEMPLATE_ORG_MODIFYING"===t)E(a);else{const e={...j,[t]:a};y(e)}},handleAddMVOtempComp:()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.templateName===j.TEMPLATE_ORG_EXISTING));let a=[];if(a=null===T||void 0===T?void 0:T.map((e=>{const a=t.find((t=>t.templateName===e));return{id:a?a.id:null,TEMPLATE_ORG_MODIFYING:e}})),!j.TEMPLATE_ORG_EXISTING||!j.BUID||(null===T||void 0===T?void 0:T.length)<1)xe("Please Enter the required fields","error");else{if(j){var l,n;const t={MappingType:"setcompatibletemplates",BUID:j.BUID,details:{TEMPLATE_ORG_EXISTING:j.TEMPLATE_ORG_EXISTING,MVO_TEMPLATE_OPTION_ID:null===(l=e[0])||void 0===l?void 0:l.id,TEMPLATE_ORG_MODIFYING:a},id:(null===(n=e[0])||void 0===n?void 0:n.id)+"_"+j.BUID.trim()+"_setcompatibletemplates"};!1===I?w.addnewTempCompMapping(t).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(ve(),le({}),setTimeout((()=>{A(!1)}),200),xe("Set compatible template mapping added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&xe(null===e||void 0===e?void 0:e.msg,"error")})):w.updateTempCompMapping(t).then((e=>{"success"===e.status?(Ee(),ve(),le({}),setTimeout((()=>{A(!1)}),200),R(!1),xe("Set compatible template mapping updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&xe(null===e||void 0===e?void 0:e.msg,"error")}))}ge()}},comptempData:f,modifytempdata:T,isEdit:I,newKey:U,newValue:$,handleAddRow:()=>{const e=_.some((e=>e.key===U)),a=_.some((e=>e.value===$)),l=null===t||void 0===t?void 0:t.filter((e=>e.templateName===U));e||a?G("The key or value already exists"):U&&$?(k((e=>{var t;return[...e,{ALLOWABLE_ORG_TEMPLATE:U,status:$,id:null===(t=l[0])||void 0===t?void 0:t.id}]})),W(""),V(""),G("")):G("Template and its status required")},handleDeleteRow:e=>{k((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:z,valuesInputList:_,templatesInfo:t,selectedBU:a}),(0,o.jsx)(ja,{title:"Import Set Compatible Templates Mappings",MappingType:"setcompatibletemplates",selectedBU:a,importTemplate:d,fetchData:ve,setImportTemplate:c})]})},cl=()=>(0,o.jsx)(dl,{}),ul=[{path:"/setcomptempList",element:(0,o.jsx)(H,{children:(0,o.jsx)(cl,{})})}];var ml=a(53536);const pl={minHeight:248},hl=[{name:"MASTER ORG",value:"MASTER ORG"},{name:"Boulder OU",value:"Boulder OU"},{name:"Nanjing OU",value:"Nanjing OU"},{name:"EDE OU",value:"EDE OU"},{name:"Cluj OU",value:"Cluj OU"},{name:"Others",value:"Others"}],xl=[{name:"BOM",value:"BOM"},{name:"NO BOM",value:"NO BOM"}],gl=[{name:"YES",value:"YES"},{name:"NO",value:"NO"}],vl=[{name:"PlantGroup",value:"PlantGroup"},{name:"BOM or NO BOM",value:"BOM or NO BOM"},{name:"none or PO Org",value:"none or PO Org"},{name:"RDO OU Org Set",value:"RDO OU Org Set"}],Al=e=>{let{open:t,handleorgAllowedDialogClose:a,orgAllowedForm:n,handleorgAllowedFormChange:s,handleAddBuPlant:i,isEdit:r,bussinessUnitLists:d,bussinessUnit:c,setPlantValueList:u,plantValueList:m,setDisplayOrder:p}=e;const[h,x]=(0,l.useState)([]),[v,A]=(0,l.useState)([]),[j,y]=(0,l.useState)([]),[f,b]=(0,l.useState)([]);(0,l.useEffect)((()=>{var e,t;let a=((null===d||void 0===d||null===(e=d.find((e=>e.buName===c)))||void 0===e?void 0:e.plants)||[]).concat({plantName:"None",id:"None"}).map((e=>({name:e.plantName,value:e.plantName})));x(a);let l=(null===d||void 0===d||null===(t=d.find((e=>e.buName===c)))||void 0===t?void 0:t.plants)||[];if(l.map(((e,t)=>(e.value="",e.id=t,Object.assign({},e)))),l=(0,ml.unionBy)(m,l,"plantName"),b(l),u(l),console.log(m,"plantValueList plantValueList"),y(vl),r)switch(console.log(n.Entity,"orgAllowedForm.Entity"),n.Entity){case"PlantGroup":A(hl),p(1);break;case"BOM or NO BOM":A(xl),p(2);break;case"none or PO Org":A(h),p(3);break;case"RDO OU Org Set":A(gl),p(4);break;default:A([])}}),[c,d,n.Entity,r]);const T={name:"value",header:"Value",defaultFlex:1,minWidth:100,rendersInlineEditor:!0,editable:!0,sortable:!1,render:(e,t)=>{let{value:a}=e,{cellProps:l}=t,n=l.editProps.inEdit?l.editProps.value:a;return(0,o.jsx)(O.A,{style:{width:"100%"},size:"small",autoFocus:l.inEdit,name:l.data.plantName,value:n,onBlur:e=>{l.editProps.onComplete(e)},onChange:w,onFocus:()=>l.editProps.startEdit(),children:null===v||void 0===v?void 0:v.map((e=>(0,o.jsx)(C.A,{value:e.name,children:e.name},e.name)))})}},E=(0,l.useRef)(null),S=[{name:"id",header:"Id",defaultVisible:!1,defaultWidth:60,type:"string"},{name:"plantName",defaultWidth:180,header:(0,o.jsx)(ae.A,{title:pa.adminConstant.expensemapList.tooltip.PlantName,children:"Plant Name"}),render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.plantName})}},T],w=e=>{let t=[...f].map((t=>(t.plantName===e.target.name&&(t.value=e.target.value),Object.assign({},t))));b(t),u(t)};return(0,o.jsxs)(q.A,{open:t,children:[(0,o.jsxs)(J.A,{children:[" ",r?"Edit RDO Plant Mapping ":"Add RDO Plant Mapping"]}),(0,o.jsx)(Va.ur,{autoHeight:!0,autoHeightMin:100,autoHeightMax:500,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:300,children:(0,o.jsx)(Z.A,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Design Organization ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:c,onChange:s,disabled:!0,children:null===d||void 0===d?void 0:d.map((e=>(0,o.jsx)(C.A,{value:e.businessUnit,children:e.businessUnit},e.businessUnit)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Entity ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{style:{width:"100%"},name:"Entity",value:n.Entity,onChange:e=>{switch(s(e),e.target.value){case"PlantGroup":A(hl),p(1);break;case"BOM or NO BOM":A(xl),p(2);break;case"none or PO Org":A(h),p(3);break;case"RDO OU Org Set":A(gl),p(4);break;default:A([])}},disabled:r,children:null===j||void 0===j?void 0:j.map((e=>(0,o.jsx)(C.A,{value:e.value,children:e.name},e.name)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Plant Values ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(Te.Ay,{idProperty:"id",showZebraRows:!1,handle:e=>E.current=e?e.current:null,style:pl,columns:S,dataSource:f})})]})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:a,children:"Cancel"}),(0,o.jsx)(g.A,{onClick:i,children:r?"Update":"Add"})]})]})},jl=l.forwardRef((function(e,t){return(0,o.jsx)(Re.A,{elevation:6,ref:t,variant:"filled",...e})})),yl=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),fl=()=>{const{refreshData:e,bussinessUnit:t,bussinessUnitLists:a,mappingTemplatesInfo:n,updateBussinessUnit:s,updateMappingTemplatesInfo:i}=(0,M.A)(),[d,c]=(0,l.useState)(!1),[u,m]=(0,l.useState)(""),[p,h]=(0,l.useState)(!1),[v,A]=(0,l.useState)(),[j,y]=(0,l.useState)(),[f,b]=(0,l.useState)(!1),[T,E]=(0,l.useState)(!1),[S,w]=(0,l.useState)(!0),[O,C]=(0,l.useState)({}),N=new Qt.W,I=new ga,R=new xa,[_,k]=(0,l.useState)(),[B,F]=(0,l.useState)(!1),[U,W]=(0,l.useState)({}),[$,V]=(0,l.useState)(!1),[z,G]=(0,l.useState)(null),[Y,H]=(0,l.useState)([]),[ee,ae]=(0,l.useState)([]),[le,ne]=(0,l.useState)(0),se=(0,l.useRef)(null),ie=se&&se.current&&se.current.dataMap?se.current.dataMap:null,re=e=>{const t=e.target.value;m(t)},oe=()=>{b(!1)},de=(e,t)=>{V(!0),G({severity:t,desc:e})},ce=(e,t)=>{"clickaway"!==t&&h(!1)},ue=()=>{E(!1),C(""),H([]),F(!1),ye([]),W({})},me=()=>{w(!0),N.getAlltemplateMappings().then((e=>{var t;i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),w(!1)}))};(0,l.useEffect)((()=>{w(e)}),[e]);const[he,xe]=(0,l.useState)([]),[ge,ve]=(0,l.useState)([]);console.log("plantMappingList===",ge),(0,l.useEffect)((()=>{Ae()}),[]),(0,l.useEffect)((()=>{if(w(!0),n){let s=n;var e,l;if(s=s.filter((e=>"buplantmapping"===e.MappingType&&"Delete"!==e.actionFlag)),t)s=null===(e=s)||void 0===e?void 0:e.filter((e=>e.BUID===t));if(u&&""!==u)s=null===(l=s)||void 0===l?void 0:l.filter((e=>{var t,a,l;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(u))||(null===(a=JSON.stringify(e))||void 0===a||null===(l=a.toLocaleLowerCase())||void 0===l?void 0:l.includes(u))}));if(s=s.sort(((e,t)=>e.details.displayOrder-t.details.displayOrder)),a){var i,r,d;let e=!!(m=null===(i=s[0])||void 0===i||null===(r=i.details)||void 0===r?void 0:r.PLANT)&&Object.entries(m).sort(((e,t)=>e[1].localeCompare(t[1]))).reduce(((e,t)=>{let[a,l]=t;return e[a]=l,e}),{}),l=(null===(d=a.find((e=>e.buName===t)))||void 0===d?void 0:d.plants)||[];const n=Object.keys(e).map((t=>{const a=l.find((e=>(null===e||void 0===e?void 0:e.plantName)===t));return{plantName:t,id:null===a||void 0===a?void 0:a.id,value:e[t]}})),c={};n.forEach((e=>{s.forEach((a=>{var l;if("PlantGroup"===(null===a||void 0===a||null===(l=a.details)||void 0===l?void 0:l.Entity)&&a.BUID===t){var n;const t=null===a||void 0===a||null===(n=a.details)||void 0===n?void 0:n.PLANT[e.plantName];console.log("plantvalue===",t),c[t]=(c[t]||0)+1}}))}));const u=n.map((e=>({name:e.plantName,header:e.plantName,defaultWidth:150,render:e=>(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})})));xe(u)}if(ee.length>0){const e=ee.filter((e=>"buplantmapping"==e.MappingType));e.length>0&&"buplantmapping"===e[0].MappingType&&s.forEach((t=>{e[0].changes.forEach((e=>{if(t.id==e.id){t.details.draft_Plants={};for(let a in t.details.PLANT)console.log("obj2.details.PLANT[key]",e.details.PLANT[a]),console.log("obj1.details.PLANT[key]",t.details.PLANT[a]),t.details.draft_Plants[a]=e.details.PLANT[a].toLocaleLowerCase()!==t.details.PLANT[a].toLocaleLowerCase()?e.details.PLANT[a]:null}}))}))}setTimeout((()=>{let e=s.map((e=>{var t;return Object.keys(null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.PLANT).map((t=>{var a,l,n,s,i,r;null!==e&&void 0!==e&&null!==(a=e.details)&&void 0!==a&&a.draft_Plants?e[t]=null!==e&&void 0!==e&&null!==(l=e.details)&&void 0!==l&&l.draft_Plants[t]?`${null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.draft_Plants[t]} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through"> ${null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.PLANT[t]} <span>`:null===e||void 0===e||null===(i=e.details)||void 0===i?void 0:i.PLANT[t]:e[t]=null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.PLANT[t]})),e}));ve(e),w(!1)}),500)}else{var c;if(!t)s(L.Qy?null===(c=L.Qy[0])||void 0===c?void 0:c.value:"")}var m}),[n,t,u,s,a,ee]);const Ae=()=>{w(!0),R.getAlldraftChanges().then((e=>{let a=t||"Micro Motion",l=e.data.filter((e=>e.BUID===a));ae(l),w(!1)}))},[je,ye]=(0,l.useState)([]),fe=[{name:"Entity",header:"Entity",render:e=>{var t;let{data:a}=e;return(0,o.jsx)("div",{children:(0,o.jsx)("b",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.Entity})})},defaultWidth:150},...he],be=(0,l.useCallback)((e=>{let{selected:t}=e;W(t)}),[]);(0,l.useEffect)((()=>{const e=!0===U?ie:U,t=e&&Object.keys(e).map((t=>e[t]));ye(t)}),[U,ie]);return(0,o.jsxs)(yl,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"RDO Plant Mapping "}]})}),(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,o.jsx)(D.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(te.A,{type:"text",name:"search",size:"small",onChange:re,value:u,style:{width:"100%"}})}),(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,o.jsxs)(D.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,o.jsxs)(D.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,o.jsx)(D.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,o.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,o.jsx)(D.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,o.jsx)(P,{onChange:re,selectedvalue:t,style:{width:"100%"},optionsValues:L.Qy,onChangeFunc:e=>{W({}),ye([]),s(e),m(""),ye([]),H([])}})})]}),(0,o.jsxs)(D.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,o.jsx)(g.A,{variant:"contained",component:X.Link,onClick:()=>{C({BUID:t}),E(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,o.jsx)(g.A,{variant:"contained",disabled:1!==(null===je||void 0===je?void 0:je.length),onClick:()=>{var e,a,l,n,s,i;const r={Entity:null===(e=je[0])||void 0===e||null===(a=e.details)||void 0===a?void 0:a.Entity};C({...{BUID:t},...r});const o=Object.entries(null===(l=je[0])||void 0===l||null===(n=l.details)||void 0===n?void 0:n.PLANT).map(((e,t)=>{let[a,l]=e;return{plantName:a,value:l,id:t}}));ne(null===(s=je[0])||void 0===s||null===(i=s.details)||void 0===i?void 0:i.displayOrder),H(o),F(!0),E(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,o.jsx)(g.A,{variant:"contained",disabled:0===(null===je||void 0===je?void 0:je.length),onClick:()=>{k(je[0]),b(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{c(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,o.jsx)(Ba,{title:"RDO Plant Mapping",MappingType:"buplantmapping",filterTemplateData:je})]})]}),(0,o.jsx)(D.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,o.jsxs)(x.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[S&&(0,o.jsx)(x.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,o.jsx)(tt.A,{})}),!S&&(0,o.jsx)(Te.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},rowStyle:e=>{let{data:t}=e;const a=Object.keys(U).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===U?"#dee1f2":"initial",width:"auto"}},columns:fe,dataSource:ge,defaultLimit:100,checkboxColumn:!0,selected:U,sortable:!1,onSelectionChange:be,enableColumnAutosize:!0,handle:e=>se.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===se||void 0===se||null===(e=se.current)||void 0===e?void 0:e.setScrollTop(0==(null===je||void 0===je?void 0:je.length)?0:null===se||void 0===se||null===(t=se.current)||void 0===t?void 0:t.getScrollTop())}})]})})]})}),(0,o.jsx)(Ie.A,{open:p,autoHideDuration:3e3,onClose:ce,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,o.jsx)(jl,{onClose:ce,severity:j,sx:{width:"100%"},children:v})}),z?(0,o.jsx)(pe.A,{openAlert:$,openDesc:z,setOpenAlert:V}):(0,o.jsx)(o.Fragment,{}),(0,o.jsxs)(q.A,{open:f,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,o.jsx)(Z.A,{children:(0,o.jsxs)(K.A,{children:["Do you want to delete the RDO Plant Mapping(s) for Design Organization ",(0,o.jsx)("b",{children:null===_||void 0===_?void 0:_.BUID}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("b",{children:"Note:"})," ",pa.adminConstant.common.deleteNote]})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:oe,children:"Cancel"}),(0,o.jsx)(g.A,{onClick:async()=>{try{await I.softDeleteTempCompMapping({data:je}).then((e=>{oe(),ye([]),k([]),W({}),V(!0),G({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))}catch(e){console.error("Failed to delete mapping:",e)}Ae(),me(),ye([])},children:"delete"})]})]}),(0,o.jsx)(Al,{open:T,handleorgAllowedDialogAdd:()=>{E(!1)},handleorgAllowedDialogClose:ue,orgAllowedForm:O,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target,l={...O,[t]:a};C(l)},handleAddBuPlant:()=>{if(!O.Entity||!O.BUID||Y.length<1)return void de("Please Enter the required fields","error");const e=Y.reduce(((e,t)=>(e[t.plantName]=t.value,e)),{});if(O){const t={MappingType:"buplantmapping",BUID:O.BUID,details:{Entity:O.Entity,displayOrder:le,PLANT:e},id:`${O.Entity}_${O.BUID}_buplantmapping`};!1===B?I.addnewTempCompMapping(t).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(me(),setTimeout((()=>{E(!1)}),200),W({}),de("RDO Plant Mapping added successfully","success")):de(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status)})):I.updateTempCompMapping(t).then((e=>{"success"===e.status?(setTimeout((()=>{E(!1),Ae(),me()}),200),F(!1),W({}),de("RDO Plant Mapping updated successfully","success")):de(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status)}))}ue()},isEdit:B,bussinessUnitLists:a,bussinessUnit:t,setPlantValueList:H,plantValueList:Y,setDisplayOrder:ne}),(0,o.jsx)(ja,{title:"Import RDO Plant Mappings",MappingType:"buplantmapping",selectedBU:t,importTemplate:d,fetchData:me,setImportTemplate:c})]})},bl=()=>(0,o.jsx)(fl,{}),Tl=[{path:"/buplantList",element:(0,o.jsx)(H,{children:(0,o.jsx)(bl,{})})}],El={minHeight:248},Sl=e=>{let{open:t,handleorgAllowedDialogClose:a,orgAllowedForm:n,handleorgAllowedFormChange:s,handleAddOrgAllowedValues:i,isEdit:r,templatesInfo:d,bussinessUnitLists:c,selectedBU:u,setPlantValueList:m,plantValueList:p}=e;const[h,x]=(0,l.useState)([]),[v,A]=(0,l.useState)([]);(0,l.useEffect)((()=>{x([u])}),[n.EXPENSE_TEMPLATE,u]),(0,l.useEffect)((()=>{var e;let t=(null===c||void 0===c||null===(e=c.find((e=>e.buName===n.BUID)))||void 0===e?void 0:e.plants)||[];t.map(((e,t)=>(e.expense="",e.id=t,Object.assign({},e)))),t=(0,ml.unionBy)(p,t,"plantName"),A(t),m(t)}),[n.BUID,u,c,m]);const[j,y]=(0,l.useState)([]);(0,l.useEffect)((()=>{if(u){let e=d.filter((e=>{var t;return null===e||void 0===e||null===(t=e.BU)||void 0===t?void 0:t.includes(u)}));y(e)}x([u])}),[u,d]);const f=e=>{const t=(0,l.useRef)(null);return(0,l.useEffect)((()=>{t&&t.current&&e.autoFocus&&t.current.focus()}),[e.autoFocus]),(0,o.jsx)("input",{...e,inputRef:t})},b={name:"expense",header:"Expense",defaultFlex:1,minWidth:100,rendersInlineEditor:!0,editable:!0,render:(e,t)=>{let{value:a}=e,{cellProps:l}=t,n=l.editProps.inEdit?l.editProps.value:a;return(0,o.jsx)(f,{type:"number",autoFocus:l.inEdit,value:n,onBlur:e=>{l.editProps.onComplete(e)},onChange:l.editProps.onChange,onFocus:()=>l.editProps.startEdit(),onKeyDown:e=>{"Escape"===e.key&&l.editProps.onCancel(e),"Enter"===e.key&&l.editProps.onComplete(e)}})}},T=(0,l.useRef)(null),E=[{name:"id",header:"Id",defaultVisible:!1,defaultWidth:60,type:"string"},{name:"plantName",defaultWidth:180,header:(0,o.jsx)(ae.A,{title:pa.adminConstant.expensemapList.tooltip.PlantName,children:"Plant Name"}),render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.plantName})}},b],S=(0,l.useCallback)((e=>{let{value:t,columnId:a,rowId:l}=e;const n=[...v];n[l]=Object.assign({},n[l],{[a]:t}),A(n),m(n)}),[v,m]);return(0,o.jsxs)(q.A,{open:t,children:[(0,o.jsxs)(J.A,{children:[" ",r?"Edit Expense Mapping ":"Add Expense Mapping"]}),(0,o.jsx)(Va.ur,{autoHeight:!0,autoHeightMin:100,autoHeightMax:500,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:300,children:(0,o.jsx)(Z.A,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Design Organization ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{id:"DataType-select",name:"BUID",fullWidth:!0,value:u,onChange:s,disabled:!0,children:null===h||void 0===h?void 0:h.map((e=>(0,o.jsx)(C.A,{value:e,children:e},e)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Template ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(O.A,{name:"EXPENSE_TEMPLATE",fullWidth:!0,value:n.EXPENSE_TEMPLATE,onChange:s,disabled:r,children:null===j||void 0===j?void 0:j.map((e=>(0,o.jsx)(C.A,{value:e.templateName,children:e.templateName},e.templateName)))})}),(0,o.jsx)(D.Ay,{item:!0,md:3,sm:4,xs:12,children:(0,o.jsxs)("span",{children:["Plant Expenses ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,o.jsx)(D.Ay,{item:!0,md:9,sm:8,xs:12,children:(0,o.jsx)(Te.Ay,{idProperty:"id",showZebraRows:!1,handle:e=>T.current=e?e.current:null,style:El,onEditComplete:S,columns:E,dataSource:v})})]})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:a,children:"Cancel"}),(0,o.jsx)(g.A,{onClick:i,children:r?"Update":"Add"})]})]})},wl=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Ol=()=>{const{refreshData:e,templatesInfo:t,bussinessUnit:a,bussinessUnitLists:n,mappingTemplatesInfo:s,updateBussinessUnit:i,updateMappingTemplatesInfo:d}=(0,M.A)(),[c,u]=(0,l.useState)(!1),[m,p]=(0,l.useState)(""),[h,v]=(0,l.useState)(!1),[A,j]=(0,l.useState)(!1),[y,f]=(0,l.useState)({}),b=new ga,T=new Qt.W,E=new xa,[S,w]=(0,l.useState)(),[O,C]=(0,l.useState)(!1),[N,I]=(0,l.useState)([]),[R,_]=(0,l.useState)([]),[k,B]=(0,l.useState)(!0),[F,U]=(0,l.useState)({}),[W,$]=(0,l.useState)(!1),[V,z]=(0,l.useState)(null),[G,Y]=(0,l.useState)([]),[H,ee]=(0,l.useState)([]),[le,ne]=(0,l.useState)({}),se=(0,l.useRef)(null),ie=se&&se.current&&se.current.dataMap?se.current.dataMap:null,re=e=>{const t=e.target.value;p(t)},oe=()=>{v(!1)},de=(e,t)=>{$(!0),z({severity:t,desc:e})};let ce=new Set;N&&N.length>0&&N.forEach((e=>{var t;const a=null===(t=e.details)||void 0===t?void 0:t.EXPENSE_PLANTS;if(a){Object.keys(a).forEach((e=>{ce.add(e)}))}}));const ue=Array.from(ce).map((e=>({name:e,header:e,sortable:!1,defaultWidth:90,render:e=>(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})}))),me=()=>{j(!1),f(""),Y([]),C(!1),_([]),U({})},he=[{name:"EXPENSE_TEMPLATE",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.expensemapList.tooltip.EXPENSE_TEMPLATE,children:"Template"}),defaultWidth:250,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.EXPENSE_TEMPLATE})}},{name:"BUID",header:(0,o.jsx)(ae.A,{title:pa.adminConstant.expensemapList.tooltip.RDO,children:"Design Organization"}),defaultWidth:150},...ue],xe=()=>{B(!0),T.getAlltemplateMappings().then((e=>{var t;d(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),B(!1)}))};(0,l.useEffect)((()=>{B(e)}),[e]);const[ge,ve]=(0,l.useState)([]),Ae=(0,Se.t$)(ge,"EXPENSE_TEMPLATE");(0,l.useEffect)((()=>{je()}),[]),(0,l.useEffect)((()=>{if(B(!0),s){let l=s;var e,t;if(l=l.filter((e=>"expensemapping"===e.MappingType&&"Delete"!==e.actionFlag)),a)l=null===(e=l)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(m&&""!==m)l=null===(t=l)||void 0===t?void 0:t.filter((e=>{var t,a,l;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(m))||(null===(a=JSON.stringify(e))||void 0===a||null===(l=a.toLocaleLowerCase())||void 0===l?void 0:l.includes(m))}));if(H.length>0){const e=H.filter((e=>"expensemapping"==e.MappingType));e.length>0&&"expensemapping"===e[0].MappingType&&l.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draftValue_EXPENSE_TEMPLATE=e.details.EXPENSE_TEMPLATE!==t.details.EXPENSE_TEMPLATE?e.details.EXPENSE_TEMPLATE:null,t.details.draft_Plants={};for(let a in t.details.EXPENSE_PLANTS)t.details.draft_Plants[a]=e.details.EXPENSE_PLANTS[a]!==t.details.EXPENSE_PLANTS[a]?e.details.EXPENSE_PLANTS[a]:null}}))}))}I(l);let n=l.map((e=>{var t,a;return e.EXPENSE_TEMPLATE=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.EXPENSE_TEMPLATE,Object.keys(null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.EXPENSE_PLANTS).map((t=>{var a,l,n,s,i,r;null!==e&&void 0!==e&&null!==(a=e.details)&&void 0!==a&&a.draft_Plants?e[t]=null!==e&&void 0!==e&&null!==(l=e.details)&&void 0!==l&&l.draft_Plants[t]?`${null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.draft_Plants[t]} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through"> ${null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.EXPENSE_PLANTS[t]} <span>`:null===e||void 0===e||null===(i=e.details)||void 0===i?void 0:i.EXPENSE_PLANTS[t]:e[t]=null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.EXPENSE_PLANTS[t]})),e}));setTimeout((()=>{ve(n),B(!1)}),500)}else{var l;if(!a)i(L.Qy?null===(l=L.Qy[0])||void 0===l?void 0:l.value:"")}}),[s,a,m,i,H]);const je=()=>{B(!0),E.getAlldraftChanges().then((e=>{let t=a||"Micro Motion",l=[];e.data&&(l=e.data.filter((e=>e.BUID===t))),ee(l),B(!1)}))},ye=(0,l.useCallback)((e=>{let{selected:t}=e;U(t)}),[]);(0,l.useEffect)((()=>{const e=!0===F?ie:F,t=e&&Object.keys(e).map((t=>e[t]));_(t)}),[F,ie]);return(0,o.jsxs)(wl,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Expense Mapping"}]})}),(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"top",children:[(0,o.jsx)(D.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(te.A,{type:"text",name:"search",size:"small",onChange:re,value:m,style:{width:"100%"}})}),(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,o.jsxs)(D.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,o.jsxs)(D.Ay,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,o.jsx)(D.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,o.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,o.jsx)(D.Ay,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,o.jsx)(P,{onChange:re,selectedvalue:a,style:{width:"100%"},optionsValues:L.Qy,onChangeFunc:e=>{U({}),_([]),i(e),p(""),_([])}})})]}),(0,o.jsxs)(D.Ay,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,o.jsx)(g.A,{variant:"contained",component:X.Link,onClick:()=>{f({BUID:a}),j(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,o.jsx)(g.A,{variant:"contained",component:X.Link,disabled:1!==(null===R||void 0===R?void 0:R.length),onClick:()=>{var e,t,a,l;const n=null===(e=R[0])||void 0===e?void 0:e.details,s={BUID:null===(t=R[0])||void 0===t?void 0:t.BUID};f({...n,...s});const i=Object.entries(null===(a=R[0])||void 0===a||null===(l=a.details)||void 0===l?void 0:l.EXPENSE_PLANTS).map(((e,t)=>{let[a,l]=e;return{plantName:a,expense:l,id:t}}));(0,Se.t$)(i,"plantName"),Y(i),C(!0),j(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,o.jsx)(g.A,{variant:"contained",component:X.Link,disabled:0===(null===R||void 0===R?void 0:R.length),onClick:()=>{w(R[0]),v(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{u(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,o.jsx)(Ba,{title:"Expense Mapping",MappingType:"expensemapping",filterTemplateData:R,sortInfo:le})]})]}),(0,o.jsx)(D.Ay,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,o.jsxs)(x.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[k&&(0,o.jsx)(x.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,o.jsx)(tt.A,{})}),!k&&(0,o.jsx)(Te.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:he,dataSource:null===le?N:Ae,rowHeight:null,checkboxColumn:!0,defaultLimit:100,selected:F,onSelectionChange:ye,handle:e=>se.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(F).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===F?"#dee1f2":"initial"}},pagination:!0,renderScroller:()=>{var e,t;return null===se||void 0===se||null===(e=se.current)||void 0===e?void 0:e.setScrollTop(0==(null===R||void 0===R?void 0:R.length)?0:null===se||void 0===se||null===(t=se.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{ne(e)}})]})})]})}),V?(0,o.jsx)(pe.A,{openAlert:W,openDesc:V,setOpenAlert:$}):(0,o.jsx)(o.Fragment,{}),(0,o.jsxs)(q.A,{open:h,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,o.jsx)(Z.A,{children:(0,o.jsxs)(K.A,{children:["Do you want to delete the ExpenseAcctByTemplateAndPlant Mapping(s) for Design Organization"," ",(0,o.jsx)("b",{children:null===S||void 0===S?void 0:S.BUID}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("b",{children:"Note:"})," ",pa.adminConstant.common.deleteNote]})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:oe,children:"Cancel"}),(0,o.jsx)(g.A,{onClick:async()=>{try{await b.softDeleteTempCompMapping({data:R}).then((e=>{oe(),_([]),w([]),U({})}))}catch(e){console.error("Failed to delete mapping:",e)}de("Expense Mapping deleted Successfully","success"),xe(),_([])},children:"delete"})]})]}),(0,o.jsx)(Sl,{open:A,handleorgAllowedDialogAdd:()=>{j(!1)},handleorgAllowedDialogClose:me,orgAllowedForm:y,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target,l={...y,[t]:a};f(l)},handleAddOrgAllowedValues:()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.templateName===y.EXPENSE_TEMPLATE)),a=G.reduce(((e,t)=>(e[t.plantName]=0===Number(t.expense)||isNaN(Number(t.expense))?"":Number(t.expense),e)),{});if(!y.EXPENSE_TEMPLATE||!y.BUID||G.length<1)de("Please Enter the required fields","error");else{if(y){const t={BUID:y.BUID,MappingType:"expensemapping",id:e[0].id+"_"+y.BUID.trim()+"_expensemapping",details:{EXPENSE_TEMPLATE:y.EXPENSE_TEMPLATE,EXPENSE_TEMPLATE_ID:e[0].id,EXPENSE_PLANTS:a}};!1===O?b.addnewTempCompMapping(t).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(xe(),setTimeout((()=>{j(!1)}),200),U({}),de("Expense Mapping added successfully","success")):de(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status)})):b.updateTempCompMapping(t).then((e=>{"success"===e.status?(setTimeout((()=>{j(!1),xe()}),200),C(!1),U({}),de("Expense Mapping updated successfully","success")):de(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status)}))}me()}},isEdit:O,templatesInfo:t,bussinessUnitLists:n,selectedBU:a,setPlantValueList:Y,plantValueList:G}),(0,o.jsx)(ja,{title:"Import Expense Mappings",MappingType:"expensemapping",selectedBU:a,importTemplate:c,fetchData:xe,setImportTemplate:u})]})},Cl=()=>(0,o.jsx)(Ol,{}),Ml=[{path:"/expensemapList",element:(0,o.jsx)(H,{children:(0,o.jsx)(Cl,{})})}];var Pl=a(46060),Dl=a(80899);const Ll=Dl.Ik().shape({description:Dl.Yj().required("This field is required").max(500,"Input should not exceed 500 characters")}),Nl=e=>(0,o.jsx)(it.l1,{initialValues:{description:null},validationSchema:Ll,enableReinitialize:!0,validateOnChange:!1,validateOnBlur:!1,onSubmit:(t,a)=>{let{resetForm:l}=a;e.saveApplyChanges(t),l()},children:t=>{let{errors:a,touched:l,submitForm:n,setFieldValue:s,setErrors:i,setTouched:r}=t;return(0,o.jsx)(it.lV,{children:(0,o.jsxs)(q.A,{open:null===e||void 0===e?void 0:e.applyChangesDialog,maxWidth:"sm",fullWidth:!0,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Do you want to apply your changes?"}),(0,o.jsx)(Z.A,{children:(0,o.jsx)(K.A,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsxs)(D.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:["Comments",(0,o.jsx)("span",{style:{color:"#FF3D57"},children:"*"}),":"]}),(0,o.jsxs)(D.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:[(0,o.jsx)(it.D0,{as:"textarea",id:"description",name:"description",rows:"10",style:{width:"100%",borderRadius:"10px"}}),(0,o.jsx)(it.Kw,{name:"description",component:"div",style:{color:"red"}})]})]})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:()=>{null===e||void 0===e||e.setApplyChangesDialog(!1),i({}),r({},!1)},children:"Cancel"}),(0,o.jsx)(g.A,{onClick:n,children:"Apply"})]})]})})}}),Il=(0,Pl.A)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Rl=()=>{const{bussinessUnit:e,updateBussinessUnit:t,updateMappingTemplatesInfo:a}=(0,M.A)(),[n,s]=(0,l.useState)([]),[i,d]=(0,l.useState)([]),[c,u]=(0,l.useState)(""),[m,p]=(0,l.useState)(!1),[h,v]=(0,l.useState)(!1),[A,j]=(0,l.useState)([]),y=(0,l.useRef)(null),[f,b]=(0,l.useState)(!1),[T,E]=(0,l.useState)(null),S=new xa,w=new Qt.W,O=[{name:"userName",header:"User Name",defaultFlex:1,defaultWidth:50},{name:"MappingType",header:"Mapping Type",defaultFlex:1,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.MappingType})}},{name:"BUID",header:"Design Organization",defaultFlex:1,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.BUID})}},{name:"modifiedDateTime",header:"Modified Date & Time ",defaultFlex:1,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null!==t&&void 0!==t&&t.modifiedDateTime?null===t||void 0===t?void 0:t.modifiedDateTime:"-"})}},{name:"Action",header:"Action",defaultFlex:1,render:e=>{let{data:t}=e;return(0,o.jsxs)("div",{children:[(0,o.jsx)(g.A,{variant:"contained",style:{margin:"0px 10px 0px 0px"},onClick:()=>{j([t]),p(!0)},children:"Apply"}),(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{N(t.id)},children:"Discard"})]})}}],C=()=>{var t;let a=[];a=""===c?n:null===n||void 0===n?void 0:n.filter((e=>Object.values(e).join().toLowerCase().includes(c.toLowerCase()))),a=null===(t=a)||void 0===t?void 0:t.filter((t=>Object.values(t).join().toLowerCase().includes(e.toLowerCase()))),d(a)},L=()=>{w.getAlltemplateMappings().then((e=>{var t;a(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList)}))},N=e=>{try{v(!0),S.discardDraftChanges(e).then((e=>{p(!1),j([]),L(),I(),v(!1),"success"===(null===e||void 0===e?void 0:e.status)?(b(!0),E({severity:"success",desc:null===e||void 0===e?void 0:e.msg})):"failed"===(null===e||void 0===e?void 0:e.status)&&(b(!0),E({severity:"error",desc:null===e||void 0===e?void 0:e.msg}))}))}catch(t){}},I=()=>{v(!0),S.getAlldraftChanges().then((t=>{s(null===t||void 0===t?void 0:t.data);let a=e||"Micro Motion",l=t.data.filter((e=>e.BUID===a));d(l),v(!1)}))};return(0,l.useEffect)((()=>{I()}),[]),(0,l.useEffect)((()=>{C()}),[c,e]),(0,o.jsxs)(Il,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Draft Changes"}]})}),(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(te.A,{type:"text",name:"search",size:"small",onChange:e=>{u(e.target.value)},value:c,style:{width:"100%"}})}),(0,o.jsx)(D.Ay,{item:!0,md:5,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(g.A,{variant:"contained",onClick:C,children:"Search"})})]})}),(0,o.jsx)(D.Ay,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(D.Ay,{container:!0,alignItems:"center",style:{textAlign:"right"},children:(0,o.jsxs)(D.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{paddingRight:"10px"},children:[(0,o.jsx)("label",{style:{textWrap:"nowrap",paddingTop:"10px"},children:"Design Organization:"}),(0,o.jsx)(P,{selectedvalue:e,style:{width:"25%"},onChangeFunc:e=>{t(e),u("")}})]})})}),(0,o.jsxs)(x.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[h&&(0,o.jsx)(x.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,o.jsx)(tt.A,{})}),!h&&(0,o.jsx)(Te.Ay,{showZebraRows:!1,defaultLimit:100,style:{minHeight:550},columns:O,dataSource:i,onRowClick:e=>(e=>{const t=A.some((t=>t.id===e.id));j(t?t=>t.filter((t=>t.id!==e.id)):[e])})(e.data),pagination:!0,renderScroller:()=>{var e,t;return null===y||void 0===y||null===(e=y.current)||void 0===e?void 0:e.setScrollTop(0==(null===A||void 0===A?void 0:A.length)?0:null===y||void 0===y||null===(t=y.current)||void 0===t?void 0:t.getScrollTop())}})]})]})}),(0,o.jsx)(Nl,{applyChangesDialog:m,setApplyChangesDialog:p,saveApplyChanges:e=>{try{var t,a,l;if(v(!0),!A.length)return b(!0),void E({severity:"error",desc:"Please select row."});const n={id:null===(t=A[0])||void 0===t?void 0:t.id,reason:e.description,BUID:null===(a=A[0])||void 0===a?void 0:a.BUID,MappingType:null===(l=A[0])||void 0===l?void 0:l.MappingType};S.applyDraftChanges(n).then((e=>{p(!1),j([]),L(),I(),v(!1),"success"===(null===e||void 0===e?void 0:e.status)?(b(!0),E({severity:"success",desc:null===e||void 0===e?void 0:e.msg})):"failed"===(null===e||void 0===e?void 0:e.status)&&(b(!0),E({severity:"error",desc:null===e||void 0===e?void 0:e.msg}))}))}catch(n){}}}),T?(0,o.jsx)(pe.A,{openAlert:f,openDesc:T,setOpenAlert:b}):(0,o.jsx)(o.Fragment,{})]})},_l=()=>(0,o.jsx)(Rl,{}),kl=[{path:"/draftChanges",element:(0,o.jsx)(H,{children:(0,o.jsx)(_l,{})})}],Bl=JSON.parse('[{"userId":"123456","userName":"joe","dateTime":"28/11/2023","reason":"Update template for BU Micro Motion","BU":"Micro Motion","mappingType":"orgAllowedTemplate","version":"1"},{"userId":"123456","userName":"adams","dateTime":"29/11/2023","reason":"Update template for BU Micro Motion","BU":"Micro Motion","mappingType":"orgAllowedTemplate","version":"2"},{"userId":"123456","userName":"adams","dateTime":"29/11/2023","reason":"Add template for BU Micro Motion","BU":"Micro Motion","mappingType":"orgAllowedTemplate","version":"3"},{"userId":"123456","userName":"joe","dateTime":"30/11/2023","reason":"Add new template for BU Micro Motion","BU":"Micro Motion","mappingType":"orgAllowedTemplate","version":"4"}]'),Fl=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Ul=()=>{const{bussinessUnit:e,updateBussinessUnit:t}=(0,M.A)(),[a,n]=(0,l.useState)(Bl),[s,i]=(0,l.useState)([]),[d,c]=(0,l.useState)(""),[u,m]=(0,l.useState)(!0),[p,h]=(0,l.useState)([]),[v,A]=(0,l.useState)([]),j=new xa,[y,f]=(0,l.useState)("orgallowedvalues"),b=(0,l.useRef)(null),T=[{name:"version",header:"Version",defaultFlex:.6,defaultWidth:20,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.version})}},{name:"dateTime",header:"Change Date",defaultFlex:2,render:e=>{let{data:t}=e,a=new Date(parseInt(null===t||void 0===t?void 0:t.dateTime));console.log(a,"date");const l=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),s=String(a.getDate()).padStart(2,"0"),i=String(a.getHours()).padStart(2,"0"),r=`${l}-${n}-${s} ${i%12||12}:${String(a.getMinutes()).padStart(2,"0")}:${String(a.getSeconds()).padStart(2,"0")} ${i>=12?"PM":"AM"}`;return(0,o.jsx)("div",{children:r})}},{name:"userName",header:"Requested By",defaultFlex:1,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.userName})}},{name:"MappingType ",header:"Mapping Type",defaultFlex:1,defaultWidth:200,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.MappingType})}},{name:"reason",header:"Change Details",defaultFlex:3,defaultWidth:200,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.reason})}}],E=()=>{let e=[];e=""===d?a:null===a||void 0===a?void 0:a.filter((e=>{var t;return(null===(t=Object.values(e).join())||void 0===t?void 0:t.toLowerCase()).includes(null===d||void 0===d?void 0:d.toLowerCase())})),i(e)};return(0,l.useEffect)((()=>{m(!0),j.getAllmappingHistory().then((e=>{var t;n(null===e||void 0===e?void 0:e.data),i(null===e||void 0===e?void 0:e.data),m(!1);const a=new Set;null===e||void 0===e||null===(t=e.data)||void 0===t||t.forEach((e=>{Array.isArray(e.MappingType)?e.MappingType.forEach((e=>{a.add(e.MappingType)})):a.add(e.MappingType)})),console.log(Array.from(a),"array of mapping"),A(Array.from(a))}))}),[]),(0,l.useEffect)((()=>{E()}),[d,e]),(0,l.useEffect)((()=>{var t;let l=a;l=null===(t=l)||void 0===t?void 0:t.filter((t=>{var a;const l=null===(a=Object.values(t).join())||void 0===a?void 0:a.toLowerCase();return l.includes(null===e||void 0===e?void 0:e.toLowerCase())&&l.includes(null===y||void 0===y?void 0:y.toLowerCase())})),i(l)}),[y,e,a]),(0,o.jsxs)(Fl,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"Changes History "}]})}),(0,o.jsx)(r.Tn,{children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(te.A,{type:"text",name:"search",size:"small",onChange:e=>{c(e.target.value)},value:d,style:{width:"100%"}})}),(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(g.A,{variant:"contained",onClick:E,children:"Search"})})]})}),(0,o.jsx)(D.Ay,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(D.Ay,{container:!0,alignItems:"center",style:{textAlign:"right"},children:(0,o.jsxs)(D.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{paddingRight:"10px"},children:[(0,o.jsx)("label",{style:{textWrap:"nowrap",paddingTop:"10px"},children:"Mapping Type:"}),(0,o.jsx)(O.A,{className:"form-control",defaultValue:v[0],value:y,onChange:e=>f(e.target.value),style:{width:"50%"},size:"medium",displayEmpty:!0,renderValue:e=>{let t=[];return t=null===v||void 0===v?void 0:v.find((t=>t===e)),t||""},children:null===v||void 0===v?void 0:v.map(((e,t)=>{const a="dpKey"+t;return(0,o.jsx)(C.A,{value:e,children:e},a)}))})]})})}),(0,o.jsx)(D.Ay,{item:!0,md:12,sm:6,xs:12,className:"font-medium",style:{display:"none"},children:(0,o.jsx)(D.Ay,{container:!0,alignItems:"center",style:{textAlign:"right"},children:(0,o.jsxs)(D.Ay,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{paddingRight:"10px"},children:[(0,o.jsx)("label",{style:{textWrap:"nowrap",paddingTop:"10px"},children:"Design Organization:"}),(0,o.jsx)(P,{selectedvalue:e,style:{width:"50%"},optionsValues:L.Qy,onChangeFunc:e=>{t(e),c("")}})]})})}),(0,o.jsxs)(x.A,{width:"100%",overflow:"auto",marginTop:"10px",children:[u&&(0,o.jsx)(x.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,o.jsx)(tt.A,{})}),!u&&(0,o.jsx)(Te.Ay,{showZebraRows:!1,style:{minHeight:550},columns:T,dataSource:s,defaultLimit:100,onRowClick:e=>(e=>{const t=p.some((t=>t.id===e.id));h(t?t=>t.filter((t=>t.id!==e.id)):[e])})(e.data),pagination:!0,renderScroller:()=>{var e,t;return null===b||void 0===b||null===(e=b.current)||void 0===e?void 0:e.setScrollTop(0==(null===p||void 0===p?void 0:p.length)?0:null===b||void 0===b||null===(t=b.current)||void 0===t?void 0:t.getScrollTop())}})]})]})})]})},Wl=()=>(0,o.jsx)(Ul,{}),$l=[{path:"/history",element:(0,o.jsx)(H,{children:(0,o.jsx)(Wl,{})})}];var Vl=a(67986);const zl=e=>{const t=new le.Q,[a,n]=(0,l.useState)(!1),[s,i]=(0,l.useState)((null===e||void 0===e?void 0:e.systemData)||[]),[d,c]=(0,l.useState)("allData"),[u,m]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[v,A]=(0,l.useState)(!1),[j,y]=(0,l.useState)(null);console.log("props",e);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.A,{variant:"contained",onClick:()=>{n(!0)},children:"Export"}),(0,o.jsxs)(q.A,{open:a,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,o.jsx)(Z.A,{children:(0,o.jsx)(K.A,{children:(0,o.jsx)(x.A,{width:"100%",overflow:"auto",children:(0,o.jsx)(r.Tn,{children:(0,o.jsx)(D.Ay,{item:!0,md:12,sm:12,xs:12,children:(0,o.jsx)(D.Ay,{container:!0,alignItems:"center",children:(0,o.jsxs)(ye.A,{children:[(0,o.jsx)(fe.A,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,o.jsxs)(Ae.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:d,onChange:t=>{c(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.vsystemData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,o.jsx)(je.A,{value:"allData",control:(0,o.jsx)(ve.A,{}),label:"All Data"}),(0,o.jsx)(je.A,{value:"selectedData",control:(0,o.jsx)(ve.A,{}),label:"Selected Data"})]})]})})})})})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"}),(0,o.jsx)(g.A,{onClick:()=>{n(!1);let a=("allData"!==d?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.systemData)||[],l=null===a||void 0===a?void 0:a.map((e=>({"ERP Type":e.ERPType,Instance:e.instance,"Validation Key 1":e.file1,"Validation Key 2":e.file2})));t.exportTemplate({data:l,sheet_name:"System Setup"}).then((e=>{h(e),m(!0),A(!0),y({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),j?(0,o.jsx)(pe.A,{openAlert:v,openDesc:j,setOpenAlert:A}):(0,o.jsx)(o.Fragment,{})]})},Gl=[{name:"ERP Type",mandatory:"Y",dataType:"string",inputType:"select",defaultValues:"",values:[{sap:"SAP",oracle:"Oracle"}]},{name:"instance",mandatory:"Y",dataType:"string",inputType:"select",defaultValues:"",values:[{onPrem:"OnPrem",SaaS:"SaaS"}]},{name:"Validation Key 1",mandatory:"Y",dataType:"string",inputType:"text",defaultValues:"",values:""},{name:"Validation Key 2",mandatory:"Y",dataType:"string",inputType:"text",defaultValues:"",values:""}],Yl=(0,l.forwardRef)(((e,t)=>{const[a,n]=(0,l.useState)(!1),[s,i]=(0,l.useState)(null),[r,d]=(0,l.useState)([]),c={"ERP Type":null,instance:null,"Validation Key 1":null,"Validation Key 2":null},u=e=>{console.log(e,"validate");const t={};return e["ERP Type"]||(t["ERP Type"]="Required"),e.instance||(t.instance="Required"),e["Validation Key 1"]||(t["Validation Key 1"]="Required"),e["Validation Key 2"]||(t["Validation Key 2"]="Required"),t};return(0,l.useEffect)((()=>{d(Gl)}),[]),(0,o.jsxs)("div",{children:[(0,o.jsx)(it.l1,{initialValues:c,validate:u,onSubmit:(t,a)=>{let{setSubmitting:l}=a;((t,a,l)=>{let{resetForm:s}=l;if(console.log(t,"values 111"),a){const l={...t,ERPType:t["ERP Type"],file1:t["Validation Key 1"],file2:t["Validation Key 2"]};delete l["ERP Type"],delete l["Validation Key 1"],delete l["Validation Key 2"],s(),Object.keys(t).some((e=>t[e]!==c[e]))?e.saveForm({formisValid:a,formData:l}):(n(!0),i({severity:"error",desc:"No changes made!"}))}else n(!0),i({severity:"error",desc:"Form submitted with invalid data"})})(t,!Object.keys(u(t)).length,{resetForm:()=>l(!1)})},innerRef:t,children:function(a){let{isValid:n,values:s,errors:i,setFieldValue:d,resetForm:c,handleSubmit:u,submitForm:m}=a;return(0,l.useEffect)((()=>{var t,a;"Edit"===(null===e||void 0===e?void 0:e.editForm)&&null!==e&&void 0!==e&&null!==(t=e.selectedRows)&&void 0!==t&&t.length&&(null===e||void 0===e||null===(a=e.selectedRows)||void 0===a||a.forEach((e=>{d("ERP Type",null===e||void 0===e?void 0:e.ERPType),d("instance",null===e||void 0===e?void 0:e.instance),d("Validation Key 1",null===e||void 0===e?void 0:e.file1),d("Validation Key 2",null===e||void 0===e?void 0:e.file2)})))}),[d]),(0,l.useImperativeHandle)(t,(()=>({submitForm(){console.log("triggering here"),u()}}))),(0,o.jsx)(it.lV,{children:r.length?null===r||void 0===r?void 0:r.map(((t,a)=>{var l;const n=null===t||void 0===t?void 0:t.name,c=s[n]||(null===t||void 0===t?void 0:t.defaultValues);let u=null===t||void 0===t?void 0:t.inputType;s[null===(l=r[0])||void 0===l?void 0:l.name];return(0,o.jsx)("div",{className:"attribute-section",children:(0,o.jsxs)(D.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)("label",{htmlFor:"firstName",children:(0,o.jsxs)("span",{children:[null===t||void 0===t?void 0:t.name,"Y"===(null===t||void 0===t?void 0:t.mandatory)?(0,o.jsx)("span",{style:{color:"red"},children:"*"}):""]})})}),(0,o.jsxs)(D.Ay,{item:!0,md:8,sm:6,xs:12,children:["text"===u&&(0,o.jsx)(te.A,{className:"mb-4 w-full ",color:null!==i&&void 0!==i&&i[n]?"warning":"",fullWidth:!0,size:"small",variant:"outlined",id:n,name:n,value:c,onChange:e=>{d(n,e.target.value)},type:"text",style:{marginBottom:"10px"}}),"select"===u&&(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(O.A,{disabled:"Edit"===(null===e||void 0===e?void 0:e.editForm)&&["ERP Type","instance"].includes(n),value:c,onChange:e=>{d(n,e.target.value)},displayEmpty:!0,renderValue:e=>e?(null===t||void 0===t?void 0:t.values.length)&&(null===t||void 0===t?void 0:t.values[0][e]):(0,o.jsx)("em",{children:"--Select--"}),style:{height:"37.13px",marginBottom:"1rem",width:"100%"},children:[(0,o.jsx)(C.A,{children:"Select"}),(null===t||void 0===t?void 0:t.values.length)&&Object.keys(null===t||void 0===t?void 0:t.values[0]).map((e=>(0,o.jsx)(C.A,{value:e,children:null===t||void 0===t?void 0:t.values[0][e]},$e().generate())))]})}),(0,o.jsx)(it.Kw,{name:n,component:"div"})]},a)]})},a)})):(0,o.jsx)(o.Fragment,{})})}}),s&&(0,o.jsx)(pe.A,{openAlert:a,openDesc:s,setOpenAlert:n})]})})),Hl=(0,h.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Xl=()=>{const e=(0,l.useRef)(null),[t,a]=(0,l.useState)(!1),[n,s]=(0,l.useState)("Create"),[i,d]=(0,l.useState)(null),[c,u]=(0,l.useState)([]),[m,p]=(0,l.useState)([]),[h,v]=(0,l.useState)(""),[A,j]=(0,l.useState)(!1),[y,f]=(0,l.useState)(!1),b=new Vl.c,[T,E]=(0,l.useState)(!1),[S,w]=(0,l.useState)(null),[O,C]=(0,l.useState)({}),[M,P]=(0,l.useState)([]),[L,N]=(0,l.useState)([]),[I,R]=(0,l.useState)([]),_=(0,l.useRef)(null),k=_&&_.current&&_.current.dataMap?_.current.dataMap:null,B=(0,l.useCallback)((e=>{let{selected:t}=e;C(t)}),[]),F=c.sort(((e,t)=>e.ERPType<t.ERPType?-1:e.ERPType>t.ERPType?1:0)),U=[{name:"ERPType",header:"ERP Type",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.ERPType})}},{name:"instance",header:"Instance",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.instance})}},{name:"file1",header:"Validation Key 1",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.file1})}},{name:"file2",header:"Validation Key 2",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,o.jsx)("div",{children:null===t||void 0===t?void 0:t.file2})}}],W=async()=>{var e;const t=await b.getAllsystemSetupList();return console.log(t,"listValue"),null!==t&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.length?(u(null===t||void 0===t?void 0:t.data),N(null===t||void 0===t?void 0:t.data),p(null===t||void 0===t?void 0:t.data),null===t||void 0===t?void 0:t.data):[]};(0,l.useEffect)((()=>{W()}),[]),(0,l.useEffect)((()=>{var e;const t=!0===O?k:O,a=t&&((null===(e=Object.keys(t))||void 0===e?void 0:e.map((e=>t[e])))||[]);null!==a&&void 0!==a&&a.length&&P(a)}),[O]),(0,l.useEffect)((()=>{console.log(h,"parent comp 2"),(async e=>{let t=[];if(j(!0),t=0===m.length?await W():m,t){const a=t.filter((t=>!e||JSON.stringify(t).toLowerCase().includes(e.toLowerCase())))||[];a.length?(u(a),N(a)):u([])}j(!1)})(h)}),[h]),console.log("parent comp");const $=e=>{R(e);const t=Ee(Xl)({data:c,sortInfo:e,onSortInfoChange:$,initialData:L});u(t.props.data)};return(0,o.jsxs)(Hl,{children:[(0,o.jsx)(x.A,{className:"breadcrumb",children:(0,o.jsx)(r.Qp,{routeSegments:[{name:"System Setup"}]})}),(0,o.jsxs)("div",{children:[(0,o.jsxs)(D.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,o.jsx)(D.Ay,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,o.jsx)(te.A,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;v(t)},value:h,style:{width:"100%"}})}),(0,o.jsxs)(D.Ay,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,o.jsx)(g.A,{variant:"contained",children:"Search"}),(0,o.jsx)("div",{style:{flex:1}}),(0,o.jsx)(g.A,{variant:"contained",component:X.Link,onClick:()=>{a(!0),s("Create")},children:"Create"}),(0,o.jsx)(g.A,{variant:"contained",disabled:1!==(null===M||void 0===M?void 0:M.length),onClick:()=>{a(!0),s("Edit")},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,o.jsx)(g.A,{variant:"contained",disabled:null===M||void 0===M||!M.length,onClick:()=>{f(!0)},style:{margin:"0 10px 0 10px"},children:"Delete"}),(0,o.jsx)(zl,{systemData:c,filterTemplateData:M})]})]}),(0,o.jsx)("br",{}),A?(0,o.jsx)("div",{style:{textAlign:"center"},children:(0,o.jsx)(ee.A,{show:A})}):(0,o.jsx)(Te.Ay,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:U,defaultLimit:100,dataSource:null===I?c:F,checkboxColumn:!0,selected:O,onSelectionChange:B,handle:e=>_.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===_||void 0===_||null===(e=_.current)||void 0===e?void 0:e.setScrollTop(0==(null===M||void 0===M?void 0:M.length)?0:null===_||void 0===_||null===(t=_.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:$})]}),S&&(0,o.jsx)(pe.A,{openAlert:T,openDesc:S,setOpenAlert:E}),(0,o.jsxs)(q.A,{open:y,children:[(0,o.jsx)(J.A,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Setting"}),(0,o.jsx)(Z.A,{children:(0,o.jsx)(K.A,{children:"Do you want to delete the selected Setting(s)?"})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{autoFocus:!0,onClick:()=>{f(!1)},children:"Cancel"}),(0,o.jsx)(g.A,{onClick:async()=>{f(!1);try{j(!0);const e=null===M||void 0===M?void 0:M.map((e=>null===e||void 0===e?void 0:e.id));await b.deleteSystemSettings(e).then((e=>{j(!1),E(!0),w({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),C({}),P([])}))}catch(e){console.error("Failed to delete Setting:",e)}b.getAllsystemSetupList().then((e=>{console.log(e.data,"result.data"),u(e.data),N(e.data),p(e.data)}))},children:"Delete"})]})]}),(0,o.jsxs)(q.A,{open:t,onClose:()=>{a(!1)},scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",maxWidth:"md",fullWidth:!0,onClick:e=>{e.stopPropagation()},children:[(0,o.jsx)(J.A,{id:"scroll-dialog-title",children:`${n} system setup`}),(0,o.jsx)(Z.A,{dividers:!0,children:(0,o.jsx)(K.A,{id:"scroll-dialog-description",tabIndex:-1,children:(0,o.jsx)(Yl,{ref:e,saveForm:async e=>{if(console.log(e,"submittedValues 222"),e&&null!==e&&void 0!==e&&e.formisValid){var t;a(!1),j(!0),d(e);let i=null;var l,s;if(i="Edit"===n&&null!==M&&void 0!==M&&M.length?await b.updateSystemSettings(null===e||void 0===e?void 0:e.formData):await b.addSystemSettings(null===e||void 0===e?void 0:e.formData),"success"===(null===(t=i)||void 0===t?void 0:t.status))C({}),P([]),await b.getAllsystemSetupList().then((e=>{console.log(e.data,"result.data"),u(e.data),N(e.data),p(e.data)})),E(!0),w({severity:"success",desc:null===(l=i)||void 0===l?void 0:l.msg});else E(!0),w({severity:"error",desc:null===(s=i)||void 0===s?void 0:s.msg})}j(!1)},selectedRows:M,editForm:n})})}),(0,o.jsxs)(Q.A,{children:[(0,o.jsx)(g.A,{onClick:()=>{a(!1)},children:"Cancel"}),(0,o.jsx)(g.A,{onClick:async()=>{e.current&&await e.current.submitForm()},children:"Save"})]})]})]})},ql=Xl,Ql=e=>{let{children:t,...a}=e;const l=(0,i.$P)(""),n=(0,i.zy)();return l.startsWith("/")||n.pathname.startsWith("/Dev")||"/"===n.pathname?(0,o.jsx)(i.C5,{to:"/calist"}):n.pathname.startsWith("/login/callback")?(0,o.jsx)(c.pG,{}):t},Zl=()=>{const{oktaAuth:e,authState:t}=(0,c.rg)();(0,i.Zp)();const a=t=>{e.redirect("/")},n=e=>{console.error("Error during login callback:",e)};return(0,l.useEffect)((()=>{e.handleLoginRedirect().then(a).catch(n)}),[e]),(0,o.jsx)("div",{children:(0,o.jsx)("h4",{children:"Loading..."})})},Kl=[...G,...Je,...ht,...wt,...Wt,...ea,...qa,...tl,...il,...ul,...$a,...Tl,...Ml,...kl,...$l,...ma,...[{path:"/systemSetup",element:(0,o.jsx)(H,{children:(0,o.jsx)(ql,{})})}]];function Jl(){const e=[{element:(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(p,{children:(0,o.jsx)(Y.A,{})})}),children:Kl},{path:"/",element:(0,o.jsx)(Ql,{})},{path:"/login/callback",element:(0,o.jsx)(Zl,{})},{path:"/accessDenied",element:(0,o.jsx)(w,{})},{path:"/homepage",element:(0,o.jsx)(I,{})},{path:"*",element:(0,o.jsx)(f,{})}];return(0,i.Ye)(e)}var en=a(63632);const tn=e=>{let{componentStack:t,error:a}=e;return null};var an=a(29215),ln=a(47290);const nn=e=>{let{onDropSuccess:t}=e;const a=(0,l.useRef)(null);return(0,l.useEffect)((()=>{const e=e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy"},l=e=>{e.preventDefault();const a=e.dataTransfer.getData("text/plain");try{const e=JSON.parse(a);console.log("Dropped object:",e),t&&t(e)}catch(l){console.warn("Invalid drop data",l)}},n=a.current;return n&&(n.addEventListener("dragover",e),n.addEventListener("drop",l)),()=>{n&&(n.removeEventListener("dragover",e),n.removeEventListener("drop",l))}}),[t]),(0,o.jsxs)("div",{ref:a,className:"droppable-container mt-4",children:[(0,o.jsx)("img",{style:{width:"90px",height:"90px"},src:"https://thewhitechamaleon.github.io/testrapp/images/drag.png",alt:"Data Collect",className:"search-icon"}),(0,o.jsx)("span",{className:"drag-and-drop-text",children:"Drag and Drop your object here"})]})},sn=()=>{console.log("\u2705 App.jsx is getting called");const[e,t]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{const e=setTimeout((()=>{performance.mark("FirstContentfulPaint")}),1e3);return console.log("ENV:","production"),()=>clearTimeout(e)}),[]),e?(0,o.jsx)(en.tH,{FallbackComponent:tn,onReset:()=>{},children:(0,o.jsx)(n.Kq,{store:s.i,children:(0,o.jsx)(ln.Z,{children:(0,o.jsxs)(r.wF,{children:[(0,o.jsx)(r.N,{}),(0,o.jsx)(r.lZ,{children:(0,o.jsx)(an.L,{children:(0,o.jsx)(Jl,{})})})]})})})}):(console.log("\ud83d\udce6 Rendering DragAndDropComponent because hasDropped is false"),(0,o.jsx)(nn,{onDropSuccess:e=>{console.log("\u2705 Dropping complete:",e),t(!0)}}))}},50195:(e,t,a)=>{"use strict";a.d(t,{bV:()=>s,eb:()=>i,hw:()=>l,t$:()=>n});const l=(e,t)=>{let a=e;return t.forEach(((e,t)=>{var l;const n=new RegExp(`\\{${t}\\}`,"g");a=null===(l=a)||void 0===l?void 0:l.replace(n,e)})),a},n=(e,t)=>Array.isArray(e)?e.sort(((e,a)=>{const l=void 0!==e[t]?e[t].toString().toLowerCase():"",n=void 0!==a[t]?a[t].toString().toLowerCase():"";return isNaN(l)||isNaN(n)?l<n?-1:l>n?1:0:parseFloat(l)-parseFloat(n)})):(console.error("Invalid data: Expected an array"),[]),s=(e,t)=>e.sort(((e,a)=>{const l=e.details[t]||"",n=a.details[t]||"";return l.toLowerCase().localeCompare(n.toLowerCase())})),i=e=>e.sort(((e,t)=>{const a=e.label?e.label.toLowerCase():"",l=t.label?t.label.toLowerCase():"";return a.localeCompare(l)}))},51069:()=>{},62050:(e,t,a)=>{"use strict";a.d(t,{c:()=>l});const l={layout1:a(65043).lazy((()=>Promise.all([a.e(1),a.e(858)]).then(a.bind(a,36949))))}},63779:()=>{},64688:()=>{},66089:()=>{},66578:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var l=a(65043),n=a(12220),s=a(81637),i=a(70579);function r(e){const[t,a]=l.useState(!1);return(0,l.useEffect)((()=>{a(e.show)}),[e.show]),(0,i.jsx)("div",{children:(0,i.jsx)(n.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:t,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{textAlign:"center"},children:(0,i.jsx)(s.A,{color:"inherit",style:{zIndex:9999}})}),(0,i.jsx)("div",{children:"Please wait..."})]})})})}},67986:(e,t,a)=>{"use strict";a.d(t,{c:()=>s});var l=a(83271),n=a(81650);class s{constructor(){this.getAllsystemSetupList=()=>n.A.get(`${l.Sb}/systemSettings/getSystemSettings`,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getSystemSettings",e),[]))),this.getSystemSettingsbyid=e=>n.A.post(`${l.Sb}/systemSettings/getSystemSettingsbyid`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getSystemSettings",e),[]))),this.addSystemSettings=e=>n.A.post(`${l.Sb}/systemSettings/addSystemSettings`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewSystemSettings",e),[]))),this.updateSystemSettings=e=>n.A.put(`${l.Sb}/systemSettings/updateSystemSettings`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateSystemSettings",e),[]))),this.deleteSystemSettings=e=>n.A.delete(`${l.Sb}/systemSettings/deleteSystemSettings`,{data:e},l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting SystemSettings:",e),e}))}}},73776:()=>{},76987:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var l=a(40794),n=a(67254),s=a(40490),i=a(70579);const r=e=>{let{openAlert:t,openDesc:a,setOpenAlert:r}=e;const o="center";return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.A,{anchorOrigin:{vertical:"top",horizontal:o},open:t,onClose:(e,t)=>{"clickaway"!==t&&r(!1)},sx:{top:"70px!important"},children:(0,i.jsxs)(n.A,{onClose:(e,t)=>{"clickaway"!==t&&r(!1)},severity:a.severity,sx:{width:"100%",maxHeight:"calc(100vh - 100px)"},children:["success"===a.severity?(0,i.jsx)(s.A,{children:"Success"}):(0,i.jsx)(i.Fragment,{}),"warning"===a.severity?(0,i.jsx)(s.A,{children:"Warning"}):(0,i.jsx)(i.Fragment,{}),"error"===a.severity?(0,i.jsx)(s.A,{children:"Error"}):(0,i.jsx)(i.Fragment,{}),"validationcheck"===(null===a||void 0===a?void 0:a.type)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{fontWeight:"bold"},children:"Please verify the below items."}),(0,i.jsx)("ul",{children:a.desc})]}):(0,i.jsx)(i.Fragment,{children:a.desc})]})},"top"+o)})}},77115:(e,t,a)=>{"use strict";a.d(t,{T:()=>l,o:()=>n});const l="GET_BU_AND_INSTANSE",n=e=>async t=>{try{console.log(e,"updateGlobalBUandInstance data"),t({type:l,payload:e})}catch(a){console.error(a)}}},77199:()=>{},77965:()=>{},78982:()=>{},79368:()=>{},79838:()=>{},81650:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var l=a(86213),n=a(38740);const s=l.A.create();s.interceptors.request.use((e=>(e.headers.Authorization="Bearer "+(0,n.H)(),e)),(e=>Promise.reject(e))),s.interceptors.response.use((e=>e),(e=>{var t;return console.error("Error response:",e.response),Promise.reject((null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)||"Something went wrong!")}));const i=s},81807:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var l=a(40794),n=a(67254),s=a(40490),i=a(70579);const r=e=>{let{openAlert:t,openDesc:a,setOpenAlert:r}=e;const o="center";return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.A,{anchorOrigin:{vertical:"top",horizontal:o},open:t,onClose:(e,t)=>{"clickaway"!==t&&r(!1)},sx:{top:"70px!important"},children:(0,i.jsxs)(n.A,{onClose:(e,t)=>{"clickaway"!==t&&r(!1)},severity:a.severity,sx:{width:"100%",maxHeight:"calc(100vh - 100px)"},children:["success"===a.severity?(0,i.jsx)(s.A,{children:"Success"}):(0,i.jsx)(i.Fragment,{}),"warning"===a.severity?(0,i.jsx)(s.A,{children:"Warning"}):(0,i.jsx)(i.Fragment,{}),"error"===a.severity?(0,i.jsx)(s.A,{children:"Error"}):(0,i.jsx)(i.Fragment,{}),"validationcheck"===(null===a||void 0===a?void 0:a.type)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{fontWeight:"bold"},children:"Please verify the below items."}),(0,i.jsx)("ul",{children:a.desc})]}):(0,i.jsx)(i.Fragment,{children:a.desc})]})},"top"+o)})}},83051:(e,t,a)=>{"use strict";a.d(t,{i:()=>s});var l=a(83271),n=a(81650);class s{constructor(){this.massUpdatePartDescription=e=>n.A.post(`${l.Sb}/massUpdate/massUpdatePartDescription`,e,l.hh).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddTemplate",e),[]))),this.getMyReport=e=>n.A.get(`${l.Sb}/massUpdate/myReport`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("myReport",e),[]))),this.deleteReport=e=>n.A.delete(`${l.Sb}/massUpdate/deleteMyReport`,{data:{ids:e}},l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting bu:",e),e})),this.downloadSampleFile=e=>{window.open(`${l.Sb}/${e}`)}}}},83271:(e,t,a)=>{"use strict";a.d(t,{Sb:()=>l,W7:()=>c,YX:()=>o,hh:()=>d,ij:()=>r,w7:()=>n,yf:()=>s});const l="'http://localhost:8086'",n="https://3dxr21x-u1.emrsn.org:8081/plmws/api",s="https://3dxr21x-u1.emrsn.org:8081/plmws/api",i="PLM-API-KEY",r="'http://localhost:8086'",o={headers:{"Content-Type":"application/json"}},d={headers:{"content-type":"multipart/form-data; boundary=-------842470573919341855553902"}},c={headers:{"Content-Type":"application/json",[i]:"2644d-d0bp-42b04-77y65"}}},88270:(e,t,a)=>{"use strict";a.d(t,{W:()=>i});var l=a(83271),n=a(81650),s=a(38740);class i{constructor(){this.getAlltemplateMappings=()=>n.A.get(`${l.Sb}/newtemplateMappings/getTemplateMappings`,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTeamplateMappings",e),[]))),this.deleteTemplateMapping=e=>n.A.delete(`${l.Sb}/newtemplateMappings/deleteTemplateMappings/${e}`,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting deleteTemplateMappings:",e),e})),this.addnewTemplateMapping=e=>n.A.post(`${l.Sb}/newtemplateMappings/addTemplateMappings`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addTemplateMappings",e),[]))),this.updateTemplateMapping=e=>n.A.put(`${l.Sb}/newtemplateMappings/updateTemplateMappings`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateTemplateMappings",e),[]))),this.importTemplate=e=>n.A.post(`${l.Sb}/newtemplateMappings/bulkAddTemplate`,e,l.hh).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddTemplate",e),[]))),this.downloadSampleFile=e=>{window.open(`${l.Sb}/${e}`)},this.exportAllTemplateMapping=e=>n.A.post(`${l.Sb}/newtemplateMappings/exportAllTemplateMapping`,e,l.YX).then((async e=>{if(200===e.status){const a=`${l.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,s.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const l=await t.blob(),n=URL.createObjectURL(l),i=document.createElement("a");i.href=n,i.download=e.data.filePath,i.click(),URL.revokeObjectURL(n)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportAllData:",e),e})),this.exportAllAdminGeneralProperties=e=>n.A.post(`${l.Sb}/newtemplateMappings/exportAllAdminGeneralProperties`,e,l.YX).then((async e=>{if(200===e.status){const a=`${l.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,s.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const l=await t.blob(),n=URL.createObjectURL(l),i=document.createElement("a");i.href=n,i.download=e.data.filePath,i.click(),URL.revokeObjectURL(n)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportAllData:",e),e})),this.exportAllAdminSystemSetups=e=>n.A.post(`${l.Sb}/newtemplateMappings/exportAllAdminSystemSetups`,e,l.YX).then((async e=>{if(200===e.status){const a=`${l.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,s.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const l=await t.blob(),n=URL.createObjectURL(l),i=document.createElement("a");i.href=n,i.download=e.data.filePath,i.click(),URL.revokeObjectURL(n)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportAllData:",e),e}))}}},88722:(e,t,a)=>{"use strict";a.d(t,{Ch:()=>s,EP:()=>p,FD:()=>o,HW:()=>u,PV:()=>d,Qy:()=>n,bf:()=>c,h4:()=>m,oX:()=>r,sd:()=>i});var l=a(50195);const n=[{value:"Micro Motion",label:"Micro Motion"},{value:"Daniel",label:"Daniel"},{value:"EPM brazil",label:"EPM brazil"},{value:"Poly Oil",label:"Poly Oil"},{value:"Rosemount Flow",label:"Rosemount Flow"},{value:"Roxar",label:"Roxar"},{value:"Rosemount Measurement",label:"Rosemount Measurement"},{value:"Flow Assurance",label:"Flow Assurance"},{value:"Flow Systems",label:"Flow Systems"},{value:"Ultrasonic",label:"Ultrasonic"},{value:"Metran Flow",label:"Metran Flow"},{value:"Flow Control Valves",label:"Flow Control Valves"},{value:"Biffi Morin",label:"Biffi Morin"},{value:"DP Flow",label:"DP Flow"},{value:"Magtech",label:"Magtech"},{value:"Keystone Butterfly Valves",label:"Keystone Butterfly Valves"}],s=[{value:"1",label:"Production"},{value:"2",label:"Engineering/Design"},{value:"3",label:"Universal"},{value:"4",label:"Plant maintenance"},{value:"5",label:"Sales and Distribution"},{value:"6",label:"Costing"},{value:"7",label:"Empties"},{value:"8",label:"Stability study"},{value:"M",label:"External Munitions Display "},{value:"Z",label:"Planning BOM"}],i=[{value:"ORACLE",label:"ORACLE"},{value:"JDE",label:"JDE"},{value:"SAP",label:"SAP"}],r=(0,l.eb)([{value:"BETSYD10",label:"betsyD10"},{value:"D01",label:"D01"},{value:"D03",label:"D03"},{value:"ED1",label:"ED1"},{value:"EP1",label:"EP1"},{value:"P01",label:"P01"},{value:"P03",label:"P03"}]),o=[{value:"Y",label:"Yes"},{value:"N",label:"No"}],d=[{value:"Y",label:"Yes"},{value:"N",label:"No"}],c=["admin","Everyone","Guest"],u=[{value:"Y",label:"Yes"},{value:"N",label:"No"}],m=[{value:"Y",label:"Yes"},{value:"N",label:"No"}],p=(0,l.eb)([{value:"onPrem",label:"onPrem"},{value:"SaaS",label:"SaaS"}])},89454:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});a(65043);var l=a(68903),n=a(11906),s=a(1009),i=a(70579);const r=()=>(0,i.jsx)(s.Tn,{children:(0,i.jsx)(l.Ay,{container:!0,spacing:3,alignItems:"center",style:{position:"relative"},children:(0,i.jsxs)(l.Ay,{item:!0,md:12,sm:12,xs:12,style:{textAlign:"center"},children:["Something went wrong! Please inform to administrator or reload the page.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(n.A,{variant:"contained",onClick:()=>window.location.reload(),children:"Reload"})]})})})},93291:(e,t,a)=>{"use strict";a.d(t,{f:()=>p});var l=a(83271),n=a(81650),s=a(31026),i=a(86213);let r=[];class o{constructor(){this.searchCA=e=>{let t={Operation:"CA-Search",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},queryParams:{searchStr:`${e.searchPattern}`,"&$top":"10",instance:"SaaS"},Requestdata:""};return i.A.post(`${l.ij}/loginLTToken/searchCA`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e}))},this.getCARelatedMco=e=>{let t={queryParams:{id:null===e||void 0===e?void 0:e.ca_id,operation:"flowDown",instance:"SaaS"}};return i.A.post(`${l.ij}/loginLTToken/caDetails`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e}))},this.searchMCO=(e,t)=>{let a={Operation:"CA-Search-flowDown",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},queryParams:{searchStr:`${e.searchPattern}`,"&$top":"10",instance:"SaaS"}};return i.A.post(`${l.ij}/loginLTToken/searchCA`,a,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e}))},this.getMCOdetailById=e=>{let t={queryParams:{ids:[{id:null===e||void 0===e?void 0:e.mco_id}],operation:"CA-Details",instance:"SaaS"}};return i.A.post(`${l.ij}/loginLTToken/caDetails`,t,{client_id:123,client_secret:456}).then((t=>{if(200===t.status)return t.data.map((t=>{t.mcoPropeties.id===(null===e||void 0===e?void 0:e.mco_id)&&r.push(t)})),r[r&&r.length-1];throw r[0]})).catch((e=>{throw e}))},this.updateMCOdetails=e=>i.A.put(`${l.w7}/productHierarchy/classify`,e,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.validationByMcoId=e=>Promise.resolve({pass:!0}),this.getItemDetailsByMcoId=e=>i.A.get(`${l.w7}/erp/item/${e}`,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBomDetailsByMcoId=e=>i.A.get(`${l.w7}/mco/bom/${e}`,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.changeStateByMcoId=(e,t,a)=>{let n={id:e,nextState:t,instance:"SaaS"};return i.A.post(`${l.ij}/loginLTToken/caMcoPromoteDemote`,n,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data[0];throw e.data})).catch((e=>e))},this.routeStart=e=>{let t={Operation:"routeStart",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},Requestdata:{data:[{id:e}]},instance:"SaaS"};return i.A.post(`${l.ij}/loginLTToken/routeStart`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw new Error("Route start failed or not initiated")})).catch((e=>{throw console.error("routeStart error:",e),e}))},this.getTaskList=e=>{let t={Operation:"taskList",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},Requestdata:{data:[{id:e}]},instance:"SaaS"};return i.A.post(`${l.ij}/loginLTToken/getTaskList`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status&&Array.isArray(e.data)&&e.data.length>0)return e.data;throw new Error("No task data found")})).catch((e=>{throw console.error("Error fetching task list:",e),e}))},this.taskApproval=e=>{let t={Operation:"taskApproval",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},Requestdata:{data:[{dataelements:{id:e,routeTaskApprovalComments:"Approve",routeTaskDueDate:"",state:"Complete",routeTaskApprovalAction:"Approve"},updateAction:"MODIFY"}]},instance:"SaaS"};return i.A.post(`${l.ij}/loginLTToken/taskApproval`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("\u274c Task Approval Error:",e),e}))},this.updateMCOData=(e,t)=>{let a={uriParams:{identifier:e,startDate:t["Start Date"],description:t.description,data:t,instance:"SaaS"}};return i.A.post(`${l.ij}/loginLTToken/caMcoModify`,a,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))},this.ApproveCAMCO=e=>{let t={uriParams:{id:e.id,type:e.type,currentStatus:e.currentStatus}};return i.A.post(`${l.ij}/loginLTToken/caMcoApprove`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))},this.getDataForClassificationyMCONames=e=>{const t=e.filter((e=>(null===e||void 0===e?void 0:e.name)&&(null===e||void 0===e?void 0:e.id)));if(0===t.length)return console.error("No valid data to send in API request!"),Promise.reject("Invalid data - No valid MCO entries.");let a={queryParams:{ids:t,operation:"CA-Details",instance:"SaaS"}};return i.A.post(`${l.ij}/loginLTToken/caDetails`,a,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data})).then((e=>{const t={};return e.forEach((e=>{var a;null!==e&&void 0!==e&&null!==(a=e.mcoPropeties)&&void 0!==a&&a.name&&(t[e.mcoPropeties.name]=e)})),t})).catch((e=>{throw e}))},this.updateMCOObjects=e=>i.A.post(`${l.w7}/mco/updateMCOObjects/mcoList`,e,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getRSMEList=()=>i.A.get(`${l.w7}/mco/getRSMEs`,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getRMEList=()=>i.A.get(`${l.w7}/mco/getRMEs`,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMRpartList=e=>i.A.post(`${l.w7}/mco/updateMR/partList`,e,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSpecDetailsByMcoId=e=>i.A.get(`${l.w7}/mco/getSpecDetails/${e}`,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMcoPropertyDetails=e=>{let t={mco_id:e,isBasics:!0};this.getMCOdetailById(t).then((e=>{if(e)return null===e||void 0===e?void 0:e.mcoPropeties})).catch((e=>{}))},this.getMRbyPartAndPlant=e=>n.A.post(`${l.Sb}/mrRelatedDetails/getMRbyPartAndPlant`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSourcePlantTemplate=e=>n.A.post(`${l.Sb}/sourceList/getSourcePlantTemplate`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBusinessUnitbyid=e=>n.A.post(`${l.Sb}/bu/getBusinessUnitbyid`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRRelatedDetailsbyid=e=>n.A.post(`${l.Sb}/mrRelatedDetails/getMRRelatedDetailsbyid`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getLifeCycleStatusByMCOName=e=>{const t=e.filter((e=>null!==e&&void 0!==e));return 0===t.length?(console.error("No valid MCO names to send in API request!"),Promise.reject("Invalid data - No valid MCO names.")):n.A.post(`${l.Sb}/status/getLifeCycleStatusByMCOName`,t,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("API Error:",e),e)))},this.getMcoDetailsByName=e=>n.A.post(`${l.Sb}/mco/getMcoDetailsByName`,e,l.YX).then((e=>{if(200===e.status)return e.data})).catch((e=>e)),this.getattributesbyid=e=>new Promise((async(t,a)=>{await n.A.post(`${l.Sb}/mco/getattributesbyid`,e,l.YX).then((e=>{200===e.status&&a(e.data),t(e.data)}))})),this.updateattributesbyid=e=>n.A.put(`${l.Sb}/mco/updateattributes`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.sendMCO=e=>n.A.post(`${l.Sb}/muleSoftServices/sendMCO`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))}}class d{constructor(){this.searchCA=e=>i.A.post(`${(()=>{var e;const t=s.i.getState();return"Cloud"===(null===t||void 0===t||null===(e=t.globalData)||void 0===e?void 0:e.instanceType)?l.yf:l.w7})()}/erp/findObjects`,e,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e})),this.getCARelatedMco=e=>i.A.get(`${l.w7}/mco/CAid/${null===e||void 0===e?void 0:e.ca_id}`,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e})),this.searchMCO=(e,t)=>i.A.post(`${l.w7}/erp/findMCOObjects`,e,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e})),this.searchMCO_old=e=>i.A.post(`${l.w7}/erp/findObjects`,e,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e})),this.getMCOdetailById=e=>i.A.get(`${l.w7}/productHierarchy/classes/${null===e||void 0===e?void 0:e.mco_id}`,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMCOdetails=e=>i.A.put(`${l.w7}/productHierarchy/classify`,e,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.validationByMcoId=e=>i.A.get(`${l.w7}/mco/validate/${e}`,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getItemDetailsByMcoId=e=>i.A.get(`${l.w7}/erp/item/${e}`,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBomDetailsByMcoId=e=>i.A.get(`${l.w7}/mco/bom/${e}`,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.changeStateByMcoId=(e,t,a)=>i.A.post(`${l.w7}/mco/changeState/${e}/${t}`,a,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMCOData=(e,t)=>i.A.post(`${l.w7}/mco/updateMCOData/${e}`,t,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getDataForClassificationyMCONames=e=>{let t=null===e||void 0===e?void 0:e.names;return i.A.post(`${l.w7}/mco/getDataForClassificationyMCONames/mcoList`,t,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))},this.updateMCOObjects=e=>i.A.post(`${l.w7}/mco/updateMCOObjects/mcoList`,e,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getRSMEList=()=>i.A.get(`${l.w7}/mco/getRSMEs`,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getRMEList=()=>i.A.get(`${l.w7}/mco/getRMEs`,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMRpartList=e=>i.A.post(`${l.w7}/mco/updateMR/partList`,e,l.W7).then((e=>{if(console.log("hey vara here===========================================",e),200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSpecDetailsByMcoId=e=>i.A.get(`${l.w7}/mco/getSpecDetails/${e}`,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMcoPropertyDetails=e=>i.A.get(`${l.w7}/mco/name/${e}`,l.W7).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRbyPartAndPlant=e=>n.A.post(`${l.Sb}/mrRelatedDetails/getMRbyPartAndPlant`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSourcePlantTemplate=e=>n.A.post(`${l.Sb}/sourceList/getSourcePlantTemplate`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRRelatedDetailsbyid=e=>n.A.post(`${l.Sb}/mrRelatedDetails/getMRRelatedDetailsbyid`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBusinessUnitbyid=e=>n.A.post(`${l.Sb}/bu/getBusinessUnitbyid`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getLifeCycleStatusByMCOName=e=>n.A.post(`${l.Sb}/status/getLifeCycleStatusByMCOName`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMcoDetailsByName=e=>n.A.post(`${l.Sb}/mco/getMcoDetailsByName`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getattributesbyid=e=>n.A.post(`${l.Sb}/mco/getattributesbyid`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateattributesbyid=e=>n.A.put(`${l.Sb}/mco/updateattributes`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.sendMCO=e=>n.A.post(`${l.Sb}/muleSoftServices/sendMCO`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))}}var c=a(38740);let u,m;class p{constructor(){this.getInstanceDetail=()=>{switch(m=localStorage.getItem("instance"),m){case"onPrem":u=new d;break;case"SaaS":u=new o}},this.searchCA=e=>(this.getInstanceDetail(),u.searchCA(e)),this.getCARelatedMco=e=>(this.getInstanceDetail(),u.getCARelatedMco(e)),this.searchMCO=e=>(this.getInstanceDetail(),u.searchMCO(e,m)),this.getMCOdetailById=e=>(this.getInstanceDetail(),u.getMCOdetailById(e)),this.updateMCOdetails=e=>(this.getInstanceDetail(),u.updateMCOdetails(e)),this.validationByMcoId=e=>(this.getInstanceDetail(),u.validationByMcoId(e)),this.getItemDetailsByMcoId=e=>(this.getInstanceDetail(),u.getItemDetailsByMcoId(e)),this.getBomDetailsByMcoId=e=>(this.getInstanceDetail(),u.getBomDetailsByMcoId(e)),this.changeStateByMcoId=(e,t,a,l)=>(this.getInstanceDetail(),u.changeStateByMcoId(e,t,a)),this.updateMCOData=(e,t)=>(this.getInstanceDetail(),u.updateMCOData(e,t)),this.getDataForClassificationyMCONames=e=>(this.getInstanceDetail(),u.getDataForClassificationyMCONames(e)),this.updateMCOObjects=e=>(this.getInstanceDetail(),u.updateMCOObjects(e)),this.getRSMEList=()=>(this.getInstanceDetail(),u.getRSMEList()),this.getRMEList=()=>(this.getInstanceDetail(),u.getRMEList()),this.updateMRpartList=e=>(this.getInstanceDetail(),u.updateMRpartList(e)),this.getSpecDetailsByMcoId=e=>(this.getInstanceDetail(),u.getSpecDetailsByMcoId(e)),this.getMcoPropertyDetails=e=>(this.getInstanceDetail(),u.getMcoPropertyDetails(e)),this.ApproveCAMCO=e=>(this.getInstanceDetail(),u.ApproveCAMCO(e)),this.routeStart=e=>(this.getInstanceDetail(),u.routeStart(e)),this.getTaskList=e=>(this.getInstanceDetail(),u.getTaskList(e)),this.taskApproval=e=>(this.getInstanceDetail(),u.taskApproval(e)),this.getMuleToken=()=>n.A.get(`${l.Sb}/muleSoftServices/getMuleToken`,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.sendMCO=e=>(this.getInstanceDetail(),u.sendMCO(e)),this.sendAutoReleaseMCOs=e=>n.A.post(`${l.Sb}/muleSoftServices/sendAutoReleaseMCOs`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getattributesbyid=e=>n.A.post(`${l.Sb}/mco/getattributesbyid`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMcoDetailsByName=e=>n.A.post(`${l.Sb}/mco/getMcoDetailsByName`,e,l.YX).then((e=>{if(200===e.status)return e.data})).catch((e=>e)),this.addattributes=e=>n.A.post(`${l.Sb}/mco/addattributes`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.mcoStatusValidation=e=>n.A.post(`${l.Sb}/mco/mcoStatusValidation`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateattributesbyid=e=>(this.getInstanceDetail(),u.updateattributesbyid(e)),this.updatePartListAndAttributes=e=>n.A.put(`${l.Sb}/mco/updatePartListAndAttributes`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updatePartListAndAddAttributes=e=>n.A.put(`${l.Sb}/mco/updatePartListAndAddAttributes`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getTemplateDetails=()=>n.A.get(`${l.Sb}/template/gettemplate`,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getPlantData=e=>n.A.get(`${l.Sb}/plant/getplants`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSourceData=e=>n.A.get(`${l.Sb}/sourceList/getSource`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMappingsData=e=>n.A.get(`${l.Sb}/api/mappings`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.itemvalidationbymcoid=e=>n.A.post(`${l.Sb}/acknowledgement/itemvalidation`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.BOMvalidationbymcoid=e=>n.A.post(`${l.Sb}/acknowledgement/bomValidation`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateFinalAcksDetails=e=>n.A.put(`${l.Sb}/mco/updateFinalAcksDetails`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.callLoggingInfo=e=>n.A.post(`${l.Sb}/log/addLogInfo`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getERPStatus=e=>n.A.post(`${l.Sb}/acknowledgement/getacknowledgementByItemId`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSourcePlantTemplate=e=>(this.getInstanceDetail(),u.getSourcePlantTemplate(e)),this.mcoRuleValidation=e=>n.A.post(`${l.Sb}/item/validation`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRRelatedDetailsbyid=e=>(this.getInstanceDetail(),u.getMRRelatedDetailsbyid(e)),this.addMRRelatedDetails=e=>n.A.post(`${l.Sb}/mrRelatedDetails/addMRRelatedDetails`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMRRelatedDetails=e=>n.A.put(`${l.Sb}/mrRelatedDetails/updateMRRelatedDetails`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRbyPartAndPlant=e=>(this.getInstanceDetail(),u.getMRbyPartAndPlant(e)),this.getMRForCAbyPartAndPlant=e=>n.A.post(`${l.Sb}/mrRelatedDetails/getMRForCAbyPartAndPlant`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getChildPartDetails=e=>n.A.post(`${l.Sb}/mrRelatedDetails/getChildPartDetails`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBusinessUnitbyid=e=>(this.getInstanceDetail(),u.getBusinessUnitbyid(e)),this.getMRDetailsByPartName=e=>n.A.post(`${l.Sb}/mrRelatedDetails/getMRDetailsByPartName`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getLifeCycleStatusByMCOName=e=>(this.getInstanceDetail(),u.getLifeCycleStatusByMCOName(e)),this.updateLifeCycleStatus=e=>n.A.post(`${l.Sb}/status/updateLifeCycleStatus`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.massUpdatePartDescription=e=>n.A.post(`${l.Sb}/massUpdate/massUpdatePartDescription`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.searchSpecCreationbyKey=e=>n.A.post(`${l.Sb}/specCreation/searchSpecCreationbykeyword`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.resendSpecCreation=e=>n.A.post(`${l.Sb}/specCreation/resendSpecCreation`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.searchObsoletePartbyKey=e=>n.A.post(`${l.Sb}/obsoletePart/searchObsoletePartbykeyword`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.resendObsoletePart=e=>n.A.post(`${l.Sb}/obsoletePart/resendObsoletePart`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.bulkUploadPartAndTemplate=e=>n.A.post(`${l.Sb}/mco/bulkUploadPartAndOracleTemp`,e,l.hh).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddTemplate",e),[]))),this.downloadSampleFile=e=>{window.open(`${l.Sb}/${e}`)},this.exportMCOData=e=>n.A.post(`${l.Sb}/mco/exportMCOData`,e,l.YX).then((async e=>{if(200===e.status){const a=`${l.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,c.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const l=await t.blob(),n=URL.createObjectURL(l),s=document.createElement("a");s.href=n,s.download=e.data.filePath,s.click(),URL.revokeObjectURL(n)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportTemplate:",e),e})),this.exportTableData=e=>n.A.post(`${l.Sb}/exportData/exportTableData`,e,l.YX).then((async e=>{if(200===e.status){const a=`${l.Sb}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,c.H)()}});if(!t.ok)throw new Error("Failed to fetch the file");const l=await t.blob(),n=URL.createObjectURL(l),s=document.createElement("a");s.href=n,s.download=e.data.filePath,s.click(),URL.revokeObjectURL(n)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportTemplate:",e),e})),this.getMcoHistorybyid=e=>n.A.post(`${l.Sb}/mcoHistory/getMcoHistorybyid`,e,l.YX).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))}}},97753:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var l=a(81637),n=a(46060),s=a(12604),i=a(70579);const r=(0,n.A)("div")((()=>({width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center","& img":{width:"auto",height:"25px"},"& .circleProgress":{position:"absolute",left:-7,right:0,top:"calc(50% - 25px)"}}))),o=()=>(0,i.jsx)(r,{children:(0,i.jsxs)(s.A,{position:"relative",children:[(0,i.jsx)("img",{src:"/assets/images/logo-circle.svg",alt:""}),(0,i.jsx)(l.A,{className:"circleProgress"})]})})},98500:(e,t,a)=>{"use strict";a.d(t,{FM:()=>n,YN:()=>s,kW:()=>l});const l=64,n=260,s=80}}]);
//# sourceMappingURL=320.1b6d2f0b.chunk.js.map